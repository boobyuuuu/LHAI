{"config":{"lang":["en","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Material for MkDocs","text":"<p>Welcome to Material for MkDocs.</p>"},{"location":"Content/structure/","title":"Structure","text":"<p>\u624b\u518c\u7ed3\u6784\uff1a</p> <p>\u9996\u9875 - \u76ee\u5f55 + \u7ed3\u679c\u76f4\u89c2\u8868\u793a\uff08\u7ed3\u679c\u7bc7\uff09</p> <p>\u76ee\u5f55\uff1a</p> <ul> <li> <p>\u6570\u636e\u7bc7</p> </li> <li> <p>\u6280\u672f\u7bc7</p> </li> <li> <p>\u9a8c\u8bc1\u7bc7</p> </li> <li> <p>\u4ee3\u7801\u7ed3\u6784\u8be6\u89e3</p> </li> <li> <p>\u5176\u4ed6\u6280\u672f\u6587\u6863\uff08GIT,MARKOWN,MKDOCS,SERVER\uff09</p> </li> </ul>"},{"location":"Content/codes/","title":"Code Section","text":"<p>This section will explain the structure of our code, where to place training data, test models, and how to begin training and inference.</p> <p>The overall structure of the code is as follows:</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- Open-source license if one is chosen\n\u251c\u2500\u2500 Makefile           &lt;- Makefile with convenience commands like `make data` or `make train`\n\u251c\u2500\u2500 README.md          &lt;- The top-level README for developers using this project.\n\u251c\u2500\u2500 data               &lt;- Different types of data. (Recommended to upload in npy format)\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u2502\n\u251c\u2500\u2500 saves              &lt;- Figure/Loss saves, Trained and Serialized models, model predictions, etc.\n\u2502   \u251c\u2500\u2500 FIGURE         &lt;- Figure saves during training.\n\u2502   \u2502\u2500\u2500 PRE_FIG        &lt;- Figure saves during prediction.\n\u2502   \u251c\u2500\u2500 LOSS           &lt;- LOSS data (.npy) and LOSS figure (.png) saves during training.\n\u2502   \u2514\u2500\u2500 MODEL          &lt;- Trained and Serialized models.\n\u2502\n\u251c\u2500\u2500 docs               &lt;- Default mkdocs project; see www.mkdocs.org for details\n\u2502\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks. Naming convention includes a number (for ordering),\n\u2502                         creator's initials, and a short `-` delimited description, e.g.\n\u2502                         `1.0-jqp-initial-data-exploration`.\n\u2502\n\u251c\u2500\u2500 pyproject.toml     &lt;- Project configuration file with package metadata for LHAI and configuration\n\u2502                         for tools like black\n\u2502\n\u251c\u2500\u2500 references         &lt;- Data dictionaries, manuals, and other explanatory materials.\n\u2502\n\u251c\u2500\u2500 reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.\n\u2502   \u2514\u2500\u2500 figures        &lt;- Generated graphics and figures for reporting\n\u2502\n\u251c\u2500\u2500 requirements.txt   &lt;- The requirements file for reproducing the analysis environment, e.g.\n\u2502                         generated with `pip freeze &gt; requirements.txt`\n\u2502\n\u251c\u2500\u2500 setup.cfg          &lt;- Configuration file for flake8\n\u2502\n\u2514\u2500\u2500 LHAI               &lt;- Source code for use in this project.\n    \u2502\n    \u251c\u2500\u2500 __init__.py             &lt;- Makes LHAI a Python module\n    \u2502\n    \u251c\u2500\u2500 config.py               &lt;- Stores useful variables and configuration\n    \u2502\n    \u251c\u2500\u2500 dataset.py              &lt;- Scripts to download or generate data\n    \u2502\n    \u251c\u2500\u2500 features.py             &lt;- Code to create features for modeling\n    \u2502\n    \u251c\u2500\u2500 modeling                &lt;- Model training and inference code\n    \u2502   \u251c\u2500\u2500 __init__.py \n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- Code for model inference with trained models          \n    \u2502   \u2514\u2500\u2500 train.py            &lt;- Code to train models\n    \u2502\n    \u251c\u2500\u2500 models                  &lt;- Neural network model code.\n    \u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- Modelname_Experimentnumber.py\n    \u2502\n    \u2502\u2500\u2500 function                &lt;- Functions used in training and prediction processes\n    \u2502  \u251c\u2500\u2500 Dataset.py           &lt;- Function for loading datasets\n    \u2502  \u251c\u2500\u2500 Log.py               &lt;- Function for logging\n    \u2502  \u2514\u2500\u2500 Loss.py              &lt;- Function for generating loss\n    \u2502\n    \u2514\u2500\u2500 plots.py                &lt;- Code to create visualizations\n</code></pre> <p>We will mainly cover the following:</p> <ol> <li>The <code>data</code> folder: Stores the training data.</li> <li>The <code>docs</code> folder: Contains the LHAI user manual.</li> <li>The <code>LHAI</code> folder: Contains the project code.</li> <li>The <code>saves</code> folder: Contains the trained/inference models and results.</li> </ol>"},{"location":"Content/codes/config/","title":"LHAI \u51fd\u6570\u6a21\u5757 \u2014 \u914d\u7f6e\u53c2\u6570 Config \u90e8\u5206","text":"<p>\u672c\u6a21\u5757\u7edf\u4e00\u5b9a\u4e49\u5e76\u7ba1\u7406\u8bad\u7ec3\uff08Train\uff09\u3001\u9884\u6d4b\uff08Predict\uff09\u4e0e\u8bc4\u4f30\uff08Eval\uff09\u6240\u9700\u7684\u5168\u90e8\u53c2\u6570\uff0c\u4ee5\u4fbf\u4e8e\u7ed3\u6784\u5316\u8c03\u7528\u3001\u5feb\u901f\u8c03\u6574\u4e0e\u53ef\u7ef4\u62a4\u6027\u3002</p>"},{"location":"Content/codes/config/#_1","title":"\u914d\u7f6e\u4f53\u7cfb\u6838\u5fc3\u7ed3\u6784","text":"<ul> <li>\u57fa\u4e8e <code>@dataclass</code> \u6784\u5efa\uff1a\u6bcf\u4e00\u7c7b\u914d\u7f6e\uff08\u8bad\u7ec3\u3001\u9884\u6d4b\u3001\u8bc4\u4f30\uff09\u72ec\u7acb\u5c01\u88c5\u4e3a\u4e00\u4e2a\u6570\u636e\u7c7b\uff0c\u53c2\u6570\u5b9a\u4e49\u7b80\u6d01\u3001\u6e05\u6670\u3002</li> <li>\u8def\u5f84\u7edf\u4e00\u7531 <code>Path</code> \u7c7b\u578b\u7ba1\u7406\uff0c\u4fbf\u4e8e\u8de8\u5e73\u53f0\u517c\u5bb9\u4e0e\u8def\u5f84\u62fc\u63a5\u5b89\u5168\u6027\u3002</li> <li>\u901a\u8fc7 <code>dotenv</code> + <code>Path(__file__)</code> \u5b9e\u73b0\u5bf9\u9879\u76ee\u8def\u5f84\u7684\u81ea\u52a8\u89e3\u6790\uff0c\u65e0\u9700\u624b\u52a8\u914d\u7f6e\u6839\u76ee\u5f55\u3002</li> </ul>"},{"location":"Content/codes/config/#_2","title":"\u6587\u4ef6\u8def\u5f84\u81ea\u52a8\u5904\u7406","text":"<pre><code>ADDR_CONFIG = Path(__file__).resolve().parents[0]\nADDR_ROOT = Path(__file__).resolve().parents[2]\n</code></pre> <ul> <li><code>ADDR_CONFIG</code>: \u5f53\u524d\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u7684 <code>config</code> \u76ee\u5f55\u8def\u5f84\u3002</li> <li><code>ADDR_ROOT</code>: \u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u7528\u4e8e\u6784\u9020\u76f8\u5bf9\u8def\u5f84\uff0c\u907f\u514d\u8def\u5f84\u786c\u7f16\u7801\u3002</li> </ul>"},{"location":"Content/codes/config/#1-trainconfig","title":"1. \u8bad\u7ec3\u914d\u7f6e\uff1a<code>TrainConfig</code>","text":"<p>\u7528\u4e8e\u63a7\u5236\u6a21\u578b\u8bad\u7ec3\u9636\u6bb5\u7684\u6240\u6709\u6838\u5fc3\u8d85\u53c2\u6570\u4e0e\u8def\u5f84\u8bbe\u7f6e\u3002</p> <pre><code>@dataclass\nclass TrainConfig:\n    exp_name: str = \"EXP01\"  # \u5b9e\u9a8c\u540d\u79f0\uff0c\u7528\u4e8e\u65e5\u5fd7\u8bb0\u5f55\u4e0e\u6a21\u578b\u547d\u540d\n    model_name: str = \"CNN\"  # \u6a21\u578b\u540d\u79f0\uff0c\u63a7\u5236\u6a21\u578b\u6784\u5efa\u4e0e\u4fdd\u5b58\u6587\u4ef6\u524d\u7f00\n    model_dir: Path = ADDR_ROOT / \"codes\" / \"models\"  # \u6a21\u578b\u5b9a\u4e49\u4ee3\u7801\u76ee\u5f55\n    data_dir: Path = ADDR_ROOT / \"data\" / \"Train\"     # \u8bad\u7ec3\u6570\u636e\u5b58\u653e\u76ee\u5f55\n    data_name: str = \"xingwei_10000_64_train_v1_processed.npy\"  # \u6570\u636e\u6587\u4ef6\u540d\n    seed: int = 0             # \u968f\u673a\u79cd\u5b50\uff0c\u786e\u4fdd\u53ef\u590d\u73b0\u6027\n    frac: float = 0.98        # \u8bad\u7ec3\u96c6\u5212\u5206\u6bd4\u4f8b\uff08\u5269\u4f59\u90e8\u5206\u7528\u4e8e\u6d4b\u8bd5\u96c6\uff09\n    epochs: int = 10          # \u8bad\u7ec3\u8f6e\u6570\n    batch_size: int = 32      # \u6279\u6b21\u5927\u5c0f\n    lr_max: float = 5e-4      # \u521d\u59cb\u6700\u5927\u5b66\u4e60\u7387\n    lr_min: float = 5e-6      # \u6700\u5c0f\u5b66\u4e60\u7387\uff08\u7528\u4e8e\u8c03\u5ea6\uff09\n    datarange: float = 1.0    # \u6570\u636e\u5f52\u4e00\u5316\u8303\u56f4\uff081.0\u8868\u793a[0,1]\uff0c2.0\u8868\u793a[-1,1]\uff09\n    logpath: Path = ADDR_ROOT / \"logs\" / \"train_cnn.log\"  # \u65e5\u5fd7\u4fdd\u5b58\u8def\u5f84\n</code></pre>"},{"location":"Content/codes/config/#2-predictconfig","title":"2. \u9884\u6d4b\u914d\u7f6e\uff1a<code>PredictConfig</code>","text":"<p>\u7528\u4e8e\u6a21\u578b\u63a8\u7406\u6216\u90e8\u7f72\u65f6\u7684\u914d\u7f6e\u53c2\u6570\u3002</p> <pre><code>@dataclass\nclass PredictConfig:\n    model_name: str = \"CNN\"  # \u6a21\u578b\u540d\u79f0\n    model_path: Path = ADDR_ROOT / \"saves\" / \"MODEL\"  # \u6a21\u578b\u6743\u91cd\u5b58\u653e\u8def\u5f84\n    model_file: str = \"CNN_EXP_0_1_400epo_32bth_64lat_poissonsrc+bkg_highresorig_poisson_src_bkg.pkl.npy.pth\"\n    data_dir: Path = ADDR_ROOT / \"data\" / \"POISSON\"  # \u5f85\u9884\u6d4b\u6570\u636e\u76ee\u5f55\n    data_name: str = \"poisson_src_bkg.pkl.npy\"  # \u5f85\u9884\u6d4b\u6570\u636e\u6587\u4ef6\n    seed: int = 0\n    pred_type: str = \"poissonsrc+bkg_highresorig\"  # \u7528\u4e8e\u6807\u8bb0\u63a8\u7406\u7ed3\u679c\u6765\u6e90\n    frac: float = 0.98\n    batch_size: int = 32\n    latent_dim: int = 64  # \u82e5\u4f7f\u7528 VAE/\u6269\u6563\u6a21\u578b\u7b49\uff0c\u9700\u6307\u5b9a\u6f5c\u5728\u5411\u91cf\u7ef4\u5ea6\n</code></pre> <p>\u8be5\u7c7b\u8fd8\u63d0\u4f9b\u4e24\u4e2a\u4fbf\u6377\u5c5e\u6027\u65b9\u6cd5\uff1a</p> <pre><code>@property\ndef data_path(self) -&gt; Path:\n    return self.data_dir / self.data_name\n\n@property\ndef full_model_path(self) -&gt; Path:\n    return self.model_path / self.model_file\n</code></pre> <ul> <li>\u81ea\u52a8\u62fc\u63a5\u6a21\u578b\u8def\u5f84\u4e0e\u6570\u636e\u8def\u5f84\uff0c\u8c03\u7528\u66f4\u7b80\u6d01\uff0c\u907f\u514d\u5197\u4f59\u4ee3\u7801\u3002</li> </ul>"},{"location":"Content/codes/config/#3-evalconfig","title":"3. \u8bc4\u4f30\u914d\u7f6e\uff1a<code>EvalConfig</code>","text":"<p>\u7528\u4e8e\u6a21\u578b\u8bc4\u4f30\u6d41\u7a0b\uff0c\u5982\u52a0\u8f7d\u6307\u5b9a\u6a21\u578b\u6743\u91cd\u3001\u5728\u9a8c\u8bc1\u96c6\u4e0a\u8ba1\u7b97\u5404\u7c7b\u6307\u6807\u3002</p> <pre><code>@dataclass\nclass EvalConfig:\n    exp_name: str = \"EXP01\"\n    model_name: str = \"CNN\"\n    model_dir: Path = ADDR_ROOT / \"codes\" / \"models\"  # \u6a21\u578b\u5b9a\u4e49\u76ee\u5f55\n    data_dir: Path = ADDR_ROOT / \"data\" / \"Train\"     # \u6d4b\u8bd5\u6570\u636e\u76ee\u5f55\n    data_name: str = \"xingwei_10000_64_train_v1.npy\"  # \u6d4b\u8bd5\u6570\u636e\u6587\u4ef6\u540d\n    model_weight_dir: Path = ADDR_ROOT / \"saves\" / \"MODEL\"  # \u6743\u91cd\u76ee\u5f55\n    model_weight_name: str = \"CNN_EXP01_10epo_32bth_xingwei.pth\"  # \u6307\u5b9a\u6a21\u578b\u6587\u4ef6\n    seed: int = 0\n    frac: float = 0.98\n    batch_size: int = 32\n    epochs: int = 400\n    lr_max: float = 5e-4\n    lr_min: float = 5e-6\n    datarange: float = 1.0\n</code></pre>"},{"location":"Content/codes/config/#_3","title":"\u65e5\u5fd7\u6253\u5370\u652f\u6301","text":"<p>\u6a21\u5757\u672b\u5c3e\u63d0\u4f9b\u547d\u4ee4\u884c\u8fd0\u884c\u652f\u6301\uff1a</p> <pre><code>if __name__ == \"__main__\":\n</code></pre> <ul> <li>\u82e5\u76f4\u63a5\u6267\u884c <code>config_cnn.py</code>\uff0c\u5c06\u4f7f\u7528 <code>loguru</code> \u914d\u5408 <code>tqdm</code> \u5b9e\u65f6\u683c\u5f0f\u5316\u6253\u5370\u5168\u90e8\u53c2\u6570\u3002</li> <li>\u6240\u6709\u5b57\u6bb5\u5747\u901a\u8fc7\u53cd\u5c04\u65b9\u5f0f\u5faa\u73af\u6253\u5370\uff0c\u652f\u6301\u6269\u5c55\u3002</li> </ul> <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <pre><code>--- Train Config ---\nexp_name = EXP01\nmodel_name = CNN\n...\nlogpath = /.../logs/train_cnn.log\n</code></pre>"},{"location":"Content/codes/data/","title":"LHAI Project Code: <code>data</code> Folder","text":"<p>The <code>data</code> folder is designated for storing datasets required for training, inference, and evaluation. It is organized by data types to ensure easy access and effective version management.  </p>"},{"location":"Content/codes/data/#folder-structure","title":"Folder Structure","text":"<pre><code>\u251c\u2500\u2500 data               &lt;- Different types of datasets (recommended in `.npy` format)\n    \u251c\u2500\u2500 FERMI          &lt;- Datasets related to Fermi observations or simulations\n    \u251c\u2500\u2500 POISSON        &lt;- Poisson-distributed datasets for statistical modeling\n    \u251c\u2500\u2500 SIMU           &lt;- Synthetic datasets for simulation purposes\n    \u2514\u2500\u2500 RAW            &lt;- Unprocessed raw data obtained from experiments or external sources\n</code></pre>"},{"location":"Content/codes/data/#folder-details","title":"Folder Details","text":""},{"location":"Content/codes/data/#fermi","title":"FERMI","text":"<ul> <li>Description: Contains observational data or related simulation datasets from the Fermi Gamma-ray Space Telescope.  </li> <li>Usage: For preprocessing workflows or training models in gamma-ray studies.  </li> <li>Examples:  </li> <li><code>FERMI_2024_observations.npy</code>: Preprocessed data from the 2024 observation period.  </li> <li><code>FERMI_training_split.npy</code>: Subset of data prepared for model input during training.  </li> </ul>"},{"location":"Content/codes/data/#poisson","title":"POISSON","text":"<ul> <li>Description: Stores datasets based on Poisson distributions, commonly used for event simulations or error modeling.  </li> <li>Usage: Statistical modeling, event rate prediction, or uncertainty quantification.  </li> <li>Examples:  </li> <li><code>Poisson_noise_samples.npy</code>: Synthetic samples with Poisson noise.  </li> <li><code>Poisson_event_counts.npy</code>: Event count distribution for analysis.  </li> </ul>"},{"location":"Content/codes/data/#simu","title":"SIMU","text":"<ul> <li>Description: Contains synthetic datasets created for specific scenarios or experimental simulations.  </li> <li>Usage: Model validation, sensitivity analysis, or testing new algorithms.  </li> <li>Examples:  </li> <li><code>Simu_100k_events.npy</code>: A simulated dataset with 100,000 event records.  </li> <li><code>Simu_input_parameters.json</code>: Configuration file used to generate synthetic data.  </li> </ul>"},{"location":"Content/codes/data/#raw","title":"RAW","text":"<ul> <li>Description: This folder contains unprocessed raw datasets directly obtained from instruments or collaborators.  </li> <li>Usage: Starting point for preprocessing workflows or for manual analysis.  </li> <li>Examples:  </li> <li><code>Raw_experiment_2024.dat</code>: Data dump from the latest experiment.  </li> <li><code>Raw_sensor_readings.bin</code>: Binary sensor readings requiring decoding.  </li> </ul>"},{"location":"Content/codes/data/#file-format-requirements-for-training-and-inference","title":"File Format Requirements for Training and Inference","text":"<p>This section is crucial and the file storage guidelines are under development.</p> <p>by Zihang Liu</p>"},{"location":"Content/codes/docs/","title":"LHAI Project Code: <code>docs</code> Folder","text":"<p>The 'docs' folder is used to store the user manual for LHAI, which is written in the 'mkdocs' format.</p>"},{"location":"Content/codes/docs/#0-folder-structure","title":"0 Folder Structure","text":"<pre><code>\u251c\u2500\u2500 README.md                  &lt;- Top-level README for developers using this project\n\u251c\u2500\u2500 mkdocs.yml                 &lt;- Main configuration file for MkDocs\n\u251c\u2500\u2500 requirements.txt           &lt;- Python dependencies for the MkDocs project\n\u251c\u2500\u2500 Content                    &lt;- Folder containing the documentation content\n\u2502   \u251c\u2500\u2500 data                   &lt;- Section for data-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Data Section\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 network                &lt;- Section for network-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Network Section\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 eval                   &lt;- Section for evaluation-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Eval Section\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 codes                  &lt;- Section for code-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Codes Section\n\u2502   \u2502   \u251c\u2500\u2500 data.md            &lt;- Documentation for data usage in codes\n\u2502   \u2502   \u251c\u2500\u2500 docs.md            &lt;- Documentation for code structure and details\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 others                 &lt;- Section for miscellaneous content\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Others Section\n\u2502   \u2502   \u251c\u2500\u2500 1.md               &lt;- Documentation guidance or additional content\n\u2502\n\u251c\u2500\u2500 docs                       &lt;- Default MkDocs output folder for site generation\n\u2502\n\u251c\u2500\u2500 css                        &lt;- Custom CSS for styling the MkDocs project\n\u2502   \u251c\u2500\u2500 base.css               &lt;- Base styling for the entire site\n\u2502   \u251c\u2500\u2500 theme-overrides.css    &lt;- Customizations to override the default MkDocs theme\n\u2502   \u251c\u2500\u2500 typography.css         &lt;- Specific typography adjustments for better readability\n\u2502   \u2514\u2500\u2500 responsive.css         &lt;- Styles for ensuring responsive design across devices\n\u2502\n\u2514\u2500\u2500 assets                     &lt;- Static assets like images or fonts\n    \u251c\u2500\u2500 images                 &lt;- Images used throughout the documentation\n    \u2502   \u251c\u2500\u2500 logo.png           &lt;- Site logo\n    \u2502   \u251c\u2500\u2500 favicon.ico        &lt;- Favicon for the site\n    \u2502\n    \u251c\u2500\u2500 fonts                  &lt;- Custom fonts for the site, if needed\n</code></pre>"},{"location":"Content/codes/docs/#1-how-does-this-manual-work","title":"1 How Does This Manual Work","text":"<p>This user manual is based on MkDocs for webpage construction, utilizes Git for version control and collaborative management, and is published online through GitHub Pages.</p>"},{"location":"Content/codes/docs/#mkdocs","title":"MkDocs","text":"<p>MkDocs is a documentation tool designed for quickly generating static websites. It supports writing in simple Markdown syntax and produces clean, structured HTML websites.</p> <ul> <li>Installation and Usage:</li> <li>Install MkDocs: <pre><code>pip install mkdocs\n</code></pre></li> <li>Create a project: <pre><code>mkdocs new my-project\ncd my-project\n</code></pre></li> <li> <p>Run a local preview: <pre><code>mkdocs serve\n</code></pre>      Visit <code>http://127.0.0.1:8000</code> to preview the documentation.</p> </li> <li> <p>Build a static website: <pre><code>mkdocs build\n</code></pre>      The generated files will be stored in the <code>site</code> directory.</p> </li> <li> <p>Themes and Plugins:   Use the default MkDocs theme (<code>mkdocs</code>) or extended themes like <code>mkdocs-material</code>. Additional functionality can be added through plugins configured in the <code>mkdocs.yml</code> file.</p> </li> </ul>"},{"location":"Content/codes/docs/#git","title":"Git","text":"<p>Git is a distributed version control system for managing documentation and code versions while enabling team collaboration.</p> <ul> <li>Initialization and Cloning:</li> <li>Initialize a project: <pre><code>git init\n</code></pre></li> <li> <p>Clone a remote repository: <pre><code>git clone &lt;repository-url&gt;\n</code></pre></p> </li> <li> <p>Common Commands:</p> </li> <li>Commit changes: <pre><code>git add .\ngit commit -m \"Update documentation\"\n</code></pre></li> <li> <p>Push to the remote repository: <pre><code>git push origin main\n</code></pre></p> </li> <li> <p>Branch Management: Use branches to avoid conflicts during multi-user collaboration: <pre><code>git checkout -b new-feature\n</code></pre></p> </li> </ul>"},{"location":"Content/codes/docs/#github-pages","title":"GitHub Pages","text":"<p>GitHub Pages is a hosting service for static websites, allowing you to deploy MkDocs-generated sites directly from GitHub repositories.</p> <ul> <li>Deployment Steps:</li> <li>Configure the deployment branch in <code>mkdocs.yml</code>: <pre><code>site_name: My Documentation\nsite_dir: site\n</code></pre></li> <li>Deploy using <code>gh-deploy</code>: <pre><code>mkdocs gh-deploy\n</code></pre></li> <li> <p>Once deployed, the documentation will be available at <code>https://&lt;username&gt;.github.io/&lt;repository&gt;</code>.</p> </li> <li> <p>Automated Deployment:   Use GitHub Actions to automate the build and deployment process. Example workflow:   <pre><code>name: Deploy MkDocs\non:\n  push:\n    branches:\n      - main\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up Python\n        uses: actions/setup-python@v2\n        with:\n          python-version: 3.x\n      - name: Install dependencies\n        run: pip install mkdocs mkdocs-material\n      - name: Build and deploy\n        run: mkdocs gh-deploy --force\n</code></pre></p> </li> </ul>"},{"location":"Content/codes/docs/#3-structure-of-this-manual","title":"3 Structure of This Manual","text":"<p>Homepage: Contains a directory and visual representation of results (Results Section).</p> <p>Contents: - Data Section - Technical Section - Validation Section - Code Structure Explanation - Other Technical Documents (Git, Markdown, MkDocs, Server)</p>"},{"location":"Content/codes/docs/#4-becoming-a-collaborator","title":"4 Becoming a Collaborator","text":""},{"location":"Content/codes/docs/#prerequisites","title":"Prerequisites:","text":"<ul> <li>Familiarity with Git, a VPN, and Python 3.10 or above.</li> </ul>"},{"location":"Content/codes/docs/#steps","title":"Steps:","text":"<ol> <li>Create a Local Repository and Link It to GitHub:</li> <li>Create an empty folder for storing local documentation files.</li> <li>Clone the GitHub repository: <pre><code>git clone https://github.com/boobyuuuu/LHAI.git\n</code></pre></li> </ol> <p>Note: Errors may occur due to initial environment settings. Address these errors as they arise.</p> <ol> <li>Set Up MkDocs Environment:</li> <li>Install the necessary dependencies: <pre><code>pip install mkdocs\npip install mkdocs-material\npip install pymdown-extensions\n</code></pre></li> <li> <p>Run the local preview: <pre><code>mkdocs serve\n</code></pre></p> </li> <li> <p>Edit the Manual:</p> </li> <li>Modify as needed.</li> <li>The <code>mkdocs.yml</code> file contains all configuration and structure information.</li> <li> <p>Refer to the MkDocs tutorial: MkDocs-Like-Code</p> </li> <li> <p>Upload Changes to GitHub and GitHub Pages:</p> </li> <li>Push to GitHub: <pre><code>git add .\ngit commit -m \"English log for modifications\"\ngit push\n</code></pre></li> <li> <p>Deploy to GitHub Pages: <pre><code>mkdocs gh-deploy\n</code></pre></p> </li> <li> <p>Daily Workflow:</p> </li> <li>Pull the latest version from GitHub: <pre><code>git pull\n</code></pre></li> <li>Make local changes and push them back to GitHub.</li> <li>Deploy updates to GitHub Pages.</li> </ol> <p>Follow this workflow strictly.</p>"},{"location":"Content/codes/docs/#5","title":"5 \u672a\u6765\u7684\u7814\u7a76\u76ee\u6807\u4e0e\u95ee\u9898","text":""},{"location":"Content/codes/docs/#ihep","title":"\u5728ihep\u8001\u5e08\u5b8c\u6210\u7a0b\u5e8f\u5f00\u53d1\u4e4b\u524d","text":"<p>a.\u6a21\u62dfintensity map\uff08\u5185\u7980\uff08intrinsic\uff09\u56fe\u50cf\uff09\u800c\u975e\u7528\u4e00\u4e2a\u66f4\u5c0f\u7684PSF\u5377\u79ef\u7684\u56fe\u50cf</p> <p>b.\u66f4\u591a\u7c7b\u578b\u7684\u6e90 \uff08\u751f\u6210\u66f4\u4e0d\u89c4\u5219\u7684\u6e90\uff09</p> <p>c.gamma\u80cc\u666f\u4ecd\u7136\u4f7f\u7528Fermi LAT diffuse gamma\uff1b \u5b87\u5b99\u7ebf\u80cc\u666f\u7684\u5206\u5e03\u8c03\u7814\u3002</p> <p>[!TIP]</p> <p>\u80cc\u666f\u5206\u4e3a\u5b87\u5b99\u7ebf\u80cc\u666f\uff08\u88ab\u9519\u8bef\u5206\u7c7b\u4e3agamma\u5c04\u7ebf\u7684\u5b87\u5b99\u7ebf\uff09\uff0c\u548c\u4f3d\u9a6c\u5c04\u7ebf\u80cc\u666f\uff08\u5f25\u6563\u7684\u8f90\u5c04\uff09\u3002\u76ee\u524d\u6211\u4eec\u4ec5\u6dfb\u52a0\u4e86\u5f25\u6563\u80cc\u666f\uff0c\u4f7f\u7528Fermi LAT\u53d1\u5e03\u7684\u4f3d\u9a6c\u5c04\u7ebf\u5f25\u6563\u80cc\u666f\u6a21\u578b\u3002\u540e\u7eed\u9700\u8981\u660e\u786e\u5b87\u5b99\u7ebf\u80cc\u666f\u7684\u5206\u5e03\u89c4\u5f8b\u5e76\u6dfb\u52a0\u5230\u8bad\u7ec3\u6570\u636e\u4e2d\u3002\uff08\u5b87\u5b99\u7ebf\u80cc\u666f\u901a\u5e38\u7528\u591a\u4e2a\u80cc\u6e90\u7a97\u53e3\u4f5c\u5e73\u5747\u5f97\u5230\uff0c\u56e0\u6b64\u53ef\u80fd\u4e0d\u670d\u4ecePoisson\u5206\u5e03\u3002\uff09</p> <p>d.\u4e0d\u540c\u673a\u5668\u5b66\u4e60\u6a21\u578b, \u5c1d\u8bd5\u8bba\u6587\u4e2d\u7684\u6a21\u578b\u3001\u524d\u6cbf\u7684\u8d85\u5206\u8fa8\u6280\u672f \uff08cly\uff09</p> <p>e.\u4e86\u89e3LHAASO\u7684\u9879\u76ee\u4ee5\u53ca\u6570\u636e\u5904\u7406\u76f8\u5173\u5185\u5bb9\uff08hxy\uff09</p> <p>f.\u5b8c\u5584\u4ee3\u7801\u6ce8\u91ca\uff0c\u9002\u5f53\u91cd\u5199\uff0c\u7528\u6237\u624b\u518c\u64b0\u5199 \uff08gxw, lzh\uff09</p> <p>g.\u6539\u8fdb\u6a21\u578b\u7684\u635f\u5931\u51fd\u6570\u7b49 \uff08\u79cd\u7c7b\u3001\u6bd4\u4f8b\u2026\u2026\uff09</p>"},{"location":"Content/codes/docs/#_1","title":"\u5728\u62ff\u5230\u7a0b\u5e8f\u4e4b\u540e","text":"<p>a.\u8db3\u591f\u591a\u7684\u6837\u672c\u751f\u6210\uff0c\u524d\u671f\u9636\u6bb5\u6027\u6210\u679c</p> <p>b.\u5bf9\u4e0d\u540cPSF\u8fdb\u884c\u6cdb\u5316\uff08\u6a21\u6001\u878d\u5408\uff1f \uff09</p> <p>by Zihang Liu</p>"},{"location":"Content/codes/evaluation/","title":"\u4ecegit clone\u5f00\u59cb\u6a21\u578b\u8bc4\u4f30","text":"<p><code>evaluation.py</code>\u5b58\u653e\u5730\u5740:</p> <pre><code>LHAI/LHAI/evaluation.py\n</code></pre> <p>\u5728\u4e86\u89e3\u4e86LHAI\u6e90\u4ee3\u7801\u7ed3\u6784\uff1a<code>data</code>,<code>docs</code>,<code>LHAI</code>,<code>saves</code> \u6587\u4ef6\u5939\u7684\u57fa\u672c\u4f5c\u7528\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u63a8\u7406\u4e86\u3002</p> <p>\u8fd9\u4e00\u9875\u5c06\u4f1a\u4ece <code>git clone</code> \u5f00\u59cb\uff0c\u53d9\u8ff0\u6211\u4eec\u8be5\u51c6\u5907\u54ea\u4e9b\u4e1c\u897f\uff0c\u5982\u4f55\u5f00\u59cb\u8fdb\u884c\u63a8\u7406\u3002</p> <ol> <li> <p>\u7b2c\u4e00\u6b65\uff1agit clone</p> <pre><code>git clone --branch Code https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>\u8fd9\u4f1a\u4e0b\u8f7dCode branch\u4e0b\u7684\u6240\u6709\u4ee3\u7801\u4e8eLHAI\u6587\u4ef6\u5939\u5185\u3002\u6253\u5f00\u6587\u4ef6\u5939\uff1a</p> <pre><code>cd LHAI\n</code></pre> </li> <li> <p>\u68c0\u67e5LHAI\u6587\u4ef6\u5939\u7684\u9879\u76eestructure\uff0c\u662f\u5426\u5305\u542b\u5b8c\u6574\uff1a</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- Open-source license if one is chosen\n\u251c\u2500\u2500 Makefile           &lt;- Makefile with convenience commands like `make data` or `make train`\n\u251c\u2500\u2500 README.md          &lt;- The top-level README for developers using this project.\n\u251c\u2500\u2500 data               &lt;- Different types of data. (Recommended to upload with npy formation)\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u2502\n\u251c\u2500\u2500 saves             &lt;- Figure/Loss saves, Trained and Serialized models, model Predictions, .\n\u2502   \u251c\u2500\u2500 FIGURE        &lt;- Figure saves in training.\n\u2502   \u2502\u2500\u2500 PRE_FIG       &lt;- Figure saves in predicting.\n\u2502   \u251c\u2500\u2500 LOSS          &lt;- LOSS data(.npy) and LOSS Figure(.png) saves in training.\n\u2502   \u2514\u2500\u2500 MODEL         &lt;- Trained and Serialized models.\n\u2502\n\u251c\u2500\u2500 docs               &lt;- A default mkdocs project; see www.mkdocs.org for details\n\u2502\n\u2502\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks. Naming convention is a number (for ordering),\n\u2502                         the creator's initials, and a short `-` delimited description, e.g.\n\u2502                         `1.0-jqp-initial-data-exploration`.\n\u2502\n\u251c\u2500\u2500 pyproject.toml     &lt;- Project configuration file with package metadata for \n\u2502                         LHAI and configuration for tools like black\n\u2502\n\u251c\u2500\u2500 references         &lt;- Data dictionaries, manuals, and all other explanatory materials.\n\u2502\n\u251c\u2500\u2500 reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.\n\u2502   \u2514\u2500\u2500 figures        &lt;- Generated graphics and figures to be used in reporting\n\u2502\n\u251c\u2500\u2500 requirements.txt   &lt;- The requirements file for reproducing the analysis environment, e.g.\n\u2502                         generated with `pip freeze &gt; requirements.txt`      \n\u2502\n\u251c\u2500\u2500 setup.cfg          &lt;- Configuration file for flake8\n\u2502\n\u2514\u2500\u2500 LHAI   &lt;- Source code for use in this project.\n    \u2502\n    \u251c\u2500\u2500 __init__.py             &lt;- Makes LHAI a Python module\n    \u2502\n    \u251c\u2500\u2500 config.py               &lt;- Store useful variables and configuration\n    \u2502\n    \u251c\u2500\u2500 evaluation.py              &lt;- 3 different methods to evaluation trained models.\n    \u2502\n    \u251c\u2500\u2500 modeling                \n    \u2502   \u251c\u2500\u2500 __init__.py \n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- Code to run model inference with trained models          \n    \u2502   \u2514\u2500\u2500 train.py            &lt;- Code to train models\n    \u2502\n    \u251c\u2500\u2500 models                  &lt;- Neural network model code.\n    \u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- Modelname_Experimentnumber.py\n    \u2502\n    \u2514\u2500\u2500 function             &lt;- Functions used in training and predicting processes.\n    \u251c\u2500\u2500 Dataset.py        &lt;- Function used in loading Dataset.\n    \u251c\u2500\u2500 Log.py            &lt;- Function used in Logging.\n    \u2514\u2500\u2500 Loss.py           &lt;- Function used in Loss generating.\n</code></pre> </li> <li> <p>\u914d\u7f6e python \u73af\u5883</p> <p>\u9996\u5148\u786e\u5b9a\u6211\u4eec\u7684\u673a\u5668\u7684\u5b8f\u89c2\u73af\u5883\u80fd\u591f\u7528\u4e8e\u673a\u5668\u5b66\u4e60\u4efb\u52a1\uff0c\u6211\u4e00\u822c\u559c\u6b22\u9009\u62e9\u670d\u52a1\u5668\u914d\u7f6e\uff1a</p> <pre><code>PyTorch  2.1.0\nPython  3.10(ubuntu22.04)\nCuda  12.1\n</code></pre> <p>\u5f53\u7136\uff0c\u66f4\u9ad8\u7684\u914d\u7f6e\u4e5f\u6ca1\u6709\u95ee\u9898\uff0c\u53ea\u662f\u8fd9\u4e2a\u914d\u7f6e\u6700\u7ecf\u5178\u548c\u7a33\u5b9a\uff1b</p> <p>\u7136\u540e\uff0c\u9700\u8981\u521b\u5efapython\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5python\u73af\u5883\uff1a</p> <pre><code>pip install -m requirements.txt\n</code></pre> <p>\u8fd9\u6837\u73af\u5883\u65b9\u9762\u5c31\u6ca1\u6709\u95ee\u9898\u4e86\u3002</p> </li> <li> <p>\u51c6\u5907\u6570\u636e\uff0c\u5e76\u4e14\u653e\u5230\u6570\u636e\u6587\u4ef6\u5939 <code>data</code> \u5bf9\u5e94\u7684\u7c7b\u522b\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u6307\u5411\u6211\u4eec\u7684\u6570\u636e</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684\u6cca\u677e\u7c7b\u578b\u6570\u636e <code>poisson_src_bkg.pkl.npy</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"data\" / \"POISSON\" / poisson_src_bkg.pkl.npy\n</code></pre> <p>\u5728evaluation\u4e2d\u5bf9\u8bc4\u4f30\u7528\u5230\u7684\u6570\u636e\u53d8\u91cf\u6709\u4e09\u4e2a\uff1a</p> <pre><code>EVAL_DATA_DIR = PROJ_ROOT / \"data\" / \"POISSON\"                                           # \u53c2\u65703\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u6570\u636e\u96c6\u7684\u5730\u5740\u540d\nEVAL_DATA_NAME = \"poisson_src_bkg.pkl.npy\"                                               # \u53c2\u65704\uff1a\u6570\u636e\u96c6\u540d\u79f0\nEVAL_DATA_PATH = EVAL_DATA_DIR / EVAL_DATA_NAME\n</code></pre> </li> <li> <p>\u51c6\u5907\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801\uff0c\u653e\u5230\u795e\u7ecf\u7f51\u7edc\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u5f15\u7528\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684CNN\u7c7b\u578b\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801 <code>CNN_EXP_0_1.py</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"LHAI\" / \"models\" / CNN_EXP_0_1.py\n</code></pre> <p>\u5728evaluation\u4e2d\u5bf9\u8bc4\u4f30\u7528\u5230\u7684\u6a21\u578b\u53d8\u91cf\u6709\u4e94\u4e2a\uff1a</p> <pre><code>EVAL_EXP_NAME = \"EXP_0_1\"                                                                # \u53c2\u65701\uff1a\u5b9e\u9a8c\u4ee3\u53f7\nEVAL_MODEL_NAME = \"CNN\"                                                                  # \u53c2\u65702\uff1a\u6a21\u578b\u5728\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801py\u6587\u4ef6\u4e2d\u7684class\u540d\u79f0\nEVAL_MODEL_PYPATH = PROJ_ROOT / \"LHAI\" / \"models\" / f\"{EVAL_MODEL_NAME}_{EVAL_EXP_NAME}.py\"\nEVAL_MODEL_PTHNAME = \"CNN_EXP_0_1_400epo_32bth_64lat_poissonsrc+bkg_highresorig_poisson_src_bkg.pkl.npy.pth\"    # \u53c2\u65703\uff1a\u9700\u8981\u8bc4\u4f30\u7684\u6a21\u578b\u540d\u79f0\nEVAL_MODEL_PTHPATH = PROJ_ROOT / \"saves\" / \"MODEL\" / EVAL_MODEL_PTHNAME                  # \u53c2\u65704\uff1a\u9700\u8981\u8bc4\u4f30\u7684\u6a21\u578b\u4fdd\u5b58\u7684\u8def\u5f84\n</code></pre> </li> <li> <p>\u786e\u4fdd\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u5df2\u7ecf\u4fdd\u5b58\u5728 <code>saves/MODEL</code> \u6587\u4ef6\u5939\u5185\u3002</p> </li> <li> <p>\u5f00\u59cb\u8bc4\u4f30\u3002</p> <p>\u65b9\u6cd51\uff1a\u8bbe\u7f6e <code>config.py</code> \u4e2dEVAL\u7684\u53c2\u6570\uff0c\u5728 <code>LHAI</code> \u6587\u4ef6\u5939\u4e2d\u8fd0\u884c\u3002</p> <pre><code>python evaluation.py\n</code></pre> <p>\u65b9\u6cd52\uff1a\u9ad8\u7aef\u4e00\u70b9\u7684\u76f4\u63a5\u901a\u8fc7 <code>Typer</code> \u63a5\u53e3\u8bbe\u7f6e\u547d\u4ee4\u884c\u53c2\u6570</p> <p>\u5177\u4f53\u8bf7\u770b Code Section \u7684 LHAI \u624b\u518c\u9875\u9762\u3002</p> </li> </ol> <p>by Zihang Liu</p>"},{"location":"Content/codes/function/","title":"LHAI \u51fd\u6570\u6a21\u5757","text":"<p>\u8fd9\u90e8\u5206\u662fLHAI\u4ee3\u7801\u7684\u6838\u5fc3</p> <p>\u8fd9\u90e8\u5206\u7684\u4e2d\u592e\u601d\u60f3\u662f\uff1a\u5728\u4fdd\u6301LOSS\\DATA\\TRAIN...\u51fd\u6570\u4e0d\u53d8\u7684\u60c5\u51b5\u4e0b\uff0c\u63a7\u5236\u53d8\u91cf\uff0c\u6539\u53d8\u795e\u7ecf\u7f51\u7edc\uff0c\u6d88\u9664\u7384\u5b66\u5f71\u54cd\uff0c\u589e\u52a0\u8bad\u7ec3\u6548\u7387</p> <p>\u56e0\u6b64\uff0c\u8fd9\u90e8\u5206\u662f\u72ec\u7acb\u4e8e\u795e\u7ecf\u7f51\u7edc\u4e4b\u5916\u7684\u53ef\u8c03\u53c2\u51fd\u6570\u3002\u6309\u7167\u91cd\u8981\u6027\u6392\u5e8f\u4ecb\u7ecd\uff1a</p>"},{"location":"Content/codes/function/#dataset","title":"Dataset","text":"<p>\u8be5\u6a21\u5757\u8d1f\u8d23\u6570\u636e\u52a0\u8f7d\u4e0e\u9884\u5904\u7406\uff0c\u662f\u8bad\u7ec3\u6d41\u7a0b\u7684\u5165\u53e3\u3002</p> <pre><code>import os\nimport numpy as np\nfrom PIL import Image\nfrom torch.utils.data import Dataset\nimport torchvision.transforms as transforms\n\nclass ImageDataset(Dataset):\n    def __init__(self, num_to_learn, path_data, inverse=False, data_range=1.0):\n        self.transform = transforms.Compose([\n            transforms.ToTensor(),\n        ])\n        self.data = []\n\n        if not os.path.exists(path_data):\n            raise FileNotFoundError(\"Blurry or Original data file not found.\")\n\n        datas = np.load(path_data, allow_pickle=True)\n        blurry_datas = np.stack(datas[:, 1])\n        original_datas = np.stack(datas[:, 0])\n\n        if not inverse:\n            idx_beg = 0\n            idx_end = num_to_learn\n        else:\n            idx_beg = blurry_datas.shape[0] - num_to_learn\n            idx_end = blurry_datas.shape[0]\n\n        for i in range(idx_beg, idx_end):\n            blurry_data = blurry_datas[i]\n            original_data = original_datas[i]\n\n            # \u6570\u636e\u5f52\u4e00\u5316\u5904\u7406\n            if abs(data_range - 1.0) &lt; 1e-5:\n                img_blurry = (blurry_data - blurry_data.min()) / (blurry_data.max() - blurry_data.min())\n                img_original = (original_data - original_data.min()) / (original_data.max() - original_data.min())\n            elif abs(data_range - 2.0) &lt; 1e-5:\n                img_blurry = 2 * (blurry_data - blurry_data.min()) / (blurry_data.max() - blurry_data.min()) - 1\n                img_original = 2 * (original_data - original_data.min()) / (original_data.max() - original_data.min()) - 1\n            else:\n                raise ValueError(\"datarange must be 1.0 or 2.0\")\n\n            # \u8f6c\u4e3aPIL Image\uff0c\u65b9\u4fbf\u540e\u7eed\u8f6c\u6362\u4e3aTensor\n            img_blurry = Image.fromarray(img_blurry)\n            img_original = Image.fromarray(img_original)\n\n            # \u8f6cTensor\n            img_blurry = self.transform(img_blurry)\n            img_original = self.transform(img_original)\n\n            self.data.append((img_blurry, img_original))\n\n    def __len__(self):\n        return len(self.data)\n\n    def __getitem__(self, index):\n        return self.data[index]\n</code></pre> <ul> <li>\u8bfb\u53d6 <code>path_data</code> \u6307\u5b9a\u7684 <code>.npy</code> \u6587\u4ef6\uff0c\u6570\u636e\u683c\u5f0f\u4e3a <code>[ [original, blurry], ... ]</code>\uff0c\u4e24\u4e2a\u56fe\u50cf\u5747\u4e3anumpy\u6570\u7ec4\u3002</li> <li>\u652f\u6301\u9009\u62e9\u662f\u5426\u4ece\u6570\u636e\u5c3e\u90e8\uff08inverse=True\uff09\u8bfb\u53d6\u6837\u672c\u3002</li> <li> <p>\u652f\u6301\u4e24\u79cd\u5f52\u4e00\u5316\u8303\u56f4\uff1a</p> </li> <li> <p><code>[0,1]</code> \u5f52\u4e00\u5316\uff08data_range=1.0\uff09</p> </li> <li><code>[-1,1]</code> \u5f52\u4e00\u5316\uff08data_range=2.0\uff09</li> <li>\u91c7\u7528PIL\u8f6c\u6362\u4e3aTensor\uff0c\u4fdd\u6301\u4e0ePyTorch\u8bad\u7ec3\u6d41\u7a0b\u517c\u5bb9\u3002</li> <li>\u8bbe\u8ba1\u7b80\u5355\u6613\u6269\u5c55\uff0c\u65b9\u4fbf\u6dfb\u52a0\u989d\u5916\u9884\u5904\u7406\u6216\u6570\u636e\u589e\u5f3a\u3002</li> </ul>"},{"location":"Content/codes/function/#train","title":"Train","text":""},{"location":"Content/codes/function/#1-train","title":"1. <code>train</code>","text":"<ul> <li>\u6838\u5fc3\u529f\u80fd\uff1a\u666e\u901a\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u6d41\u7a0b</li> <li>\u7279\u70b9\uff1a</li> <li>\u52a8\u6001\u5b66\u4e60\u7387\u8c03\u5ea6\uff08scheduler\uff09</li> <li>\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u9636\u6bb5\u5206\u79bb\uff0c\u5747\u8ba1\u7b97\u5e73\u5747\u635f\u5931</li> <li>\u65e5\u5fd7\u5b9e\u65f6\u8bb0\u5f55\uff08logger + \u81ea\u5b9a\u4e49log\u51fd\u6570\uff09</li> <li>\u8bad\u7ec3\u8fc7\u7a0b\u635f\u5931\u6570\u636e\u5b9e\u65f6\u5b58\u50a8\uff08LOSS_PLOT\u7b49\u5217\u8868\uff09</li> <li>\u6838\u5fc3\u6b65\u9aa4\uff1a</li> <li>\u6e05\u7a7a\u65e5\u5fd7\u6587\u4ef6\uff0c\u5199\u5165\u521d\u59cb\u8bad\u7ec3\u4fe1\u606f</li> <li>\u8fdb\u5165epoch\u5faa\u73af\uff0c\u6267\u884c\u8bad\u7ec3\uff1a<ul> <li>\u6a21\u578b\u8bbe\u4e3atrain\u6a21\u5f0f</li> <li>\u904d\u5386\u8bad\u7ec3\u96c6\uff0c\u524d\u5411\u8ba1\u7b97\u3001\u53cd\u5411\u4f20\u64ad\u3001\u4f18\u5316</li> <li>\u7d2f\u8ba1\u8bad\u7ec3\u635f\u5931\uff0c\u8ba1\u7b97\u5747\u503c</li> </ul> </li> <li>\u5207\u6362\u6d4b\u8bd5\u6a21\u5f0f\uff0c\u904d\u5386\u6d4b\u8bd5\u96c6\uff0c\u8ba1\u7b97\u6d4b\u8bd5\u635f\u5931\u5747\u503c</li> <li>\u8bb0\u5f55\u65e5\u5fd7\uff0c\u66f4\u65b0\u7ed8\u56fe\u5217\u8868\uff0c\u6267\u884c\u5b66\u4e60\u7387\u8c03\u5ea6</li> </ul>"},{"location":"Content/codes/function/#2-train_diffusion","title":"2. <code>train_diffusion</code>","text":"<ul> <li>\u6838\u5fc3\u529f\u80fd\uff1a\u6269\u6563\u6a21\u578b\uff08Diffusion Model\uff09\u8bad\u7ec3\u6d41\u7a0b</li> <li>\u7279\u70b9\uff1a</li> <li>\u7ed3\u5408\u4f4d\u7f6e\u7f16\u7801\u3001\u566a\u58f0\u6b65\u6570\u7b49\u6269\u6563\u6a21\u578b\u7279\u6709\u53c2\u6570</li> <li>\u8bad\u7ec3\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49<code>prepare_data</code>\u5904\u7406\u8f93\u5165\u548c\u566a\u58f0</li> <li>\u652f\u6301\u591a\u79cd\u8bc4\u4f30\u6307\u6807\uff08MAE\u3001MS-SSIM\u3001SSIM\u3001PSNR\u3001NRMSE\uff09\u8ba1\u7b97\u548c\u8bb0\u5f55</li> <li>\u8bad\u7ec3\u548c\u8bc4\u4f30\u9636\u6bb5\u5206\u79bb\uff0c\u652f\u6301\u52a8\u6001\u65e5\u5fd7\u548c\u65f6\u95f4\u7edf\u8ba1</li> <li>\u5b66\u4e60\u7387\u8c03\u5ea6\u5668\u8c03\u7528\u5728epoch\u672b\u5c3e</li> <li>\u6838\u5fc3\u6b65\u9aa4\uff1a</li> <li>\u521d\u59cb\u5316\u65e5\u5fd7\u6587\u4ef6\u548c\u65e5\u5fd7\u4fe1\u606f</li> <li>epoch\u5faa\u73af\uff1a<ul> <li>\u8bad\u7ec3\u6a21\u5f0f\uff1a</li> <li>\u904d\u5386\u8bad\u7ec3\u6279\u6b21\uff0c\u51c6\u5907\u6570\u636e\uff08\u52a0\u566a\u7b49\uff09\uff0c\u524d\u5411\u8ba1\u7b97\u635f\u5931\uff0c\u53cd\u5411\u4f20\u64ad\uff0c\u4f18\u5316</li> <li>\u5b9a\u671f\u6253\u5370\u8bad\u7ec3\u635f\u5931</li> <li>\u8bc4\u4f30\u6a21\u5f0f\uff1a</li> <li>\u904d\u5386\u6d4b\u8bd5\u6279\u6b21\uff0c\u5229\u7528<code>diffusion.reverse_diffusion</code>\u751f\u6210\u56fe\u50cf</li> <li>\u82e5\u5f00\u542f\u6307\u6807\u8ba1\u7b97\uff0c\u8ba1\u7b97\u5e76\u7d2f\u79ef\u6307\u6807</li> <li>\u8bb0\u5f55\u5f53\u524depoch\u7684\u8bad\u7ec3\u635f\u5931\u4e0e\u8017\u65f6\u65e5\u5fd7</li> <li>\u6307\u6807\u6309\u6279\u6b21\u6570\u5f52\u4e00\u5316\u5e76\u4fdd\u5b58</li> </ul> </li> <li>\u66f4\u65b0\u5b66\u4e60\u7387</li> </ul> <p>\u8bbe\u8ba1\u7406\u5ff5\uff1a</p> <ul> <li>\u89e3\u8026\u590d\u6742\u6027\uff1a\u8bad\u7ec3\u4e0e\u8bc4\u4f30\u6a21\u5757\u804c\u8d23\u5206\u660e\uff0c\u6307\u6807\u8ba1\u7b97\u53ef\u6309\u9700\u5f00\u542f</li> <li>\u52a8\u6001\u63a7\u5236\uff1a\u5b66\u4e60\u7387\u968f\u8bad\u7ec3\u8fdb\u5ea6\u81ea\u52a8\u8c03\u8282\uff0c\u63d0\u5347\u6536\u655b\u6548\u7387</li> <li>\u6613\u6269\u5c55\u6027\uff1a\u652f\u6301\u591a\u6307\u6807\u8bc4\u4f30\uff0c\u65b9\u4fbf\u5bf9\u6a21\u578b\u6027\u80fd\u5168\u9762\u76d1\u63a7</li> <li>\u65e5\u5fd7\u4e0e\u53ef\u89c6\u5316\uff1a\u65e5\u5fd7\u4e0e\u7ed8\u56fe\u5217\u8868\u5b9e\u65f6\u66f4\u65b0\uff0c\u65b9\u4fbf\u8bad\u7ec3\u76d1\u63a7\u4e0e\u7ed3\u679c\u5206\u6790</li> </ul> <p>\u4f7f\u7528\u63d0\u793a\uff1a</p> <ul> <li>\u8bad\u7ec3\u65f6\u6ce8\u610f\u51c6\u5907\u597d\u5bf9\u5e94\u7684\u6570\u636e\u52a0\u8f7d\u5668<code>dataloader</code>\u548c<code>trainloader</code>\u3001<code>testloader</code></li> <li><code>train_diffusion</code>\u9700\u8981\u914d\u5408\u6269\u6563\u6a21\u578b\u7ed3\u6784\u548c\u9884\u5904\u7406\u51fd\u6570<code>prepare_data</code>\u4f7f\u7528</li> <li>\u8bc4\u4f30\u6307\u6807\u51fd\u6570\u9700\u63d0\u524d\u5b9a\u4e49\u5e76\u4f20\u5165\uff0c\u907f\u514d\u8fd0\u884c\u65f6\u9519\u8bef</li> <li>\u8bad\u7ec3\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84<code>logpath</code>\u5e94\u786e\u4fdd\u53ef\u5199\u6743\u9650</li> </ul>"},{"location":"Content/codes/function/#loss","title":"LOSS","text":""},{"location":"Content/codes/function/#1-ssim","title":"1. SSIM \u76f8\u5173","text":"<ul> <li> <p><code>ssim_function(img1, img2, window_size=11, data_range=255.0, sigma=1.5)</code>   \u7ecf\u5178\u7ed3\u6784\u76f8\u4f3c\u6027\u6307\u6807\u8ba1\u7b97\uff0c\u57fa\u4e8e\u9ad8\u65af\u6ee4\u6ce2\u4e0e\u6ed1\u52a8\u7a97\u53e3\u5377\u79ef\uff0c\u8fd4\u56de\u4e24\u4e2a\u56fe\u50cf\u7684\u5e73\u5747SSIM\u503c\u3002   \u5185\u90e8\u8c03\u7528<code>gaussian</code>\u751f\u6210\u9ad8\u65af\u6743\u91cd\u7a97\u3002   \u8f93\u5165\u4e3a\u4e8c\u7ef4numpy\u6570\u7ec4\u3002</p> </li> <li> <p><code>batch_ssim(img1, img2)</code>   \u6279\u91cfSSIM\u8ba1\u7b97\uff0c\u8f93\u5165\u4e3aTensor\uff0c\u9010\u5f20\u8f6cPIL\u540e\u8c03\u7528<code>ssim_function</code>\uff0c\u6700\u7ec8\u8fd4\u56de\u6279\u6b21\u5e73\u5747\u503c\u3002   \u9002\u7528\u4e8e\u6279\u5904\u7406\u7684\u8bad\u7ec3\u8bc4\u4f30\u3002</p> </li> </ul>"},{"location":"Content/codes/function/#2-mse-psnr","title":"2. MSE \u4e0e PSNR","text":"<ul> <li><code>batch_psnr(img1, img2, max_val=255.0)</code>   \u6279\u91cf\u5cf0\u503c\u4fe1\u566a\u6bd4\u8ba1\u7b97\uff0c\u57fa\u4e8e\u5747\u65b9\u8bef\u5deeMSE\u8f6c\u6362\u800c\u6765\uff0c\u9002\u5408\u8861\u91cf\u56fe\u50cf\u91cd\u5efa\u8d28\u91cf\u3002</li> </ul>"},{"location":"Content/codes/function/#3","title":"3. \u81ea\u5b9a\u4e49\u590d\u5408\u635f\u5931\u7c7b","text":"<ul> <li><code>Custom_criterion(nn.Module)</code>   \u7ed3\u5408MSE\u548cSSIM\u7684\u52a0\u6743\u635f\u5931\u3002  </li> <li><code>mse_weight</code>\u4e0e<code>ssim_weight</code>\u63a7\u5236\u6743\u91cd\u3002  </li> <li><code>forward</code>\u51fd\u6570\u8fd4\u56de\u52a0\u6743\u540eSSIM\u635f\u5931\uff08\u793a\u4f8b\u4ee3\u7801\u4e2d\u4ec5\u8fd4\u56de\u4e86ssim_loss\uff0c\u7528\u6237\u53ef\u6839\u636e\u6ce8\u91ca\u8c03\u6574\uff09\u3002</li> </ul>"},{"location":"Content/codes/function/#4-jsjensen-shannon-divergence","title":"4. JS\u6563\u5ea6\uff08Jensen-Shannon Divergence\uff09","text":"<ul> <li> <p><code>jsdiv(img1, img2)</code>   \u8ba1\u7b97\u4e24\u4e2a\u5f20\u91cf\u7684JS\u6563\u5ea6\uff0c\u5148\u505asoftmax\u5f52\u4e00\u5316\uff0c\u518d\u8ba1\u7b97\u4fe1\u606f\u71b5\u76f8\u5173\u9879\uff0c\u8fd4\u56de\u5e73\u5747JS\u6563\u5ea6\u3002   \u9002\u5408\u6d4b\u91cf\u6982\u7387\u5206\u5e03\u5dee\u5f02\u3002</p> </li> <li> <p><code>jsdiv_single(img1, img2)</code>   \u7c7b\u4f3c<code>jsdiv</code>\uff0c\u4f46\u8fd4\u56de\u5355\u4e2a\u6837\u672c\u7684\u6563\u5ea6\u503c\u5217\u8868\uff0c\u4e0d\u505a\u5e73\u5747\u3002</p> </li> </ul>"},{"location":"Content/codes/function/#5","title":"5. \u5176\u4ed6","text":"<ul> <li>\u6ce8\u91ca\u90e8\u5206\u6807\u8bb0\u4e86\u591a\u79cd\u5e38\u7528\u635f\u5931\uff08L1\u3001L2\u3001MAE\u3001RMSE\u3001VGG\u635f\u5931\u3001\u4ea4\u53c9\u71b5\u3001Dice\u7b49\uff09\uff0c\u53ef\u6839\u636e\u9700\u6c42\u6269\u5c55\u3002</li> </ul>"},{"location":"Content/codes/function/#6","title":"6. \u7ec4\u5408\u793a\u4f8b","text":"<ul> <li><code>msejsloss(img1, img2)</code>   MSE\u4e0eJS\u6563\u5ea6\u7684\u52a0\u6743\u7ec4\u5408\uff0c\u793a\u4f8b\u6743\u91cd\u4e3a0.2\u4e0e0.8\uff0c\u4f53\u73b0\u590d\u5408\u635f\u5931\u7684\u7075\u6d3b\u6027\u3002</li> </ul> <p>\u8bbe\u8ba1\u7406\u5ff5</p> <ul> <li>\u6a21\u5757\u5316\uff1a\u5355\u4e00\u529f\u80fd\u51fd\u6570\u62c6\u5206\uff0c\u65b9\u4fbf\u66ff\u6362\u548c\u8c03\u8bd5</li> <li>\u517c\u5bb9\u6027\uff1a\u8f93\u5165\u652f\u6301numpy\u6570\u7ec4\u4e0ePyTorch\u5f20\u91cf\uff0c\u9002\u5e94\u8bad\u7ec3\u548c\u8bc4\u4f30\u9700\u6c42</li> <li>\u7075\u6d3b\u914d\u7f6e\uff1a\u6743\u91cd\u53ef\u8c03\uff0c\u652f\u6301\u591a\u79cd\u6307\u6807\u878d\u5408</li> <li>\u6548\u7387\u8003\u91cf\uff1a\u6279\u91cf\u64cd\u4f5c\u548cGPU\u652f\u6301\uff0c\u517c\u987e\u6027\u80fd\u4e0e\u7cbe\u5ea6</li> </ul> <p>\u4f7f\u7528\u5efa\u8bae</p> <ul> <li>SSIM\u76f8\u5173\u51fd\u6570\u9002\u5408\u8d28\u91cf\u8bc4\u4f30\u4f46\u8ba1\u7b97\u5f00\u9500\u8f83\u5927\uff0c\u8bad\u7ec3\u65f6\u53ef\u6309\u9700\u8c03\u7528</li> <li>JS\u6563\u5ea6\u9002\u5408\u6982\u7387\u5206\u5e03\u5bf9\u6bd4\uff0c\u5e38\u7528\u4e8e\u751f\u6210\u6a21\u578b\u6216\u5206\u7c7b\u4efb\u52a1</li> <li>\u590d\u5408\u635f\u5931<code>Custom_criterion</code>\u53ef\u4f5c\u4e3a\u57fa\u7840\uff0c\u7528\u6237\u53ef\u6839\u636e\u4efb\u52a1\u9700\u6c42\u8c03\u6574\u6743\u91cd\u53ca\u7ec4\u5408\u65b9\u5f0f</li> <li>\u4fdd\u8bc1\u8f93\u5165\u6570\u636e\u8303\u56f4\u548c\u683c\u5f0f\u7b26\u5408\u9884\u671f\uff08\u5982<code>data_range</code>\uff0cTensor\u7684\u5f62\u72b6\u548c\u7c7b\u578b\uff09</li> </ul>"},{"location":"Content/codes/function/#dataprocess","title":"dataprocess","text":"<p>\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u4f20\u5165\u53c2\u6570\u5305\u62ec\u6837\u672c\u6570\u91cf\u3001\u6570\u636e\u8def\u5f84\u3001\u662f\u5426\u53cd\u5411\u52a0\u8f7d\u3001\u5f52\u4e00\u5316\u8303\u56f4\u3001\u53bb\u91cd\u9608\u503c\u3001\u6570\u636e\u589e\u5f3a\u5f00\u5173\u53ca\u65b9\u5f0f\u3001\u4f3d\u9a6c\u589e\u5f3a\u3001\u4f4e\u4fe1\u606f\u6837\u672c\u8fc7\u6ee4\u7b49\uff0c\u652f\u6301\u7075\u6d3b\u5b9a\u5236\u6570\u636e\u5904\u7406\u6d41\u7a0b\u3002</p> <p>\u6570\u636e\u9996\u5148\u5b89\u5168\u8bfb\u53d6\u4e3anumpy\u6570\u7ec4\uff0c\u907f\u514d<code>object</code>\u7c7b\u578b\uff0c\u968f\u540e\u62c6\u5206\u6a21\u7cca\u56fe\u4e0e\u539f\u56fe\u4e24\u90e8\u5206\u3002</p> <p>\u9488\u5bf9\u4e0d\u540c\u9700\u6c42\uff0c\u652f\u6301\u53cd\u5411\u52a0\u8f7d\u6837\u672c\u533a\u95f4\u3002\u5bf9\u6bcf\u5f20\u56fe\u50cf\u6267\u884c\u5f52\u4e00\u5316\u5904\u7406\uff0c\u652f\u6301\u6807\u51c6[0,1]\u6216[-1,1]\u4e24\u79cd\u6570\u636e\u8303\u56f4\u3002</p> <p>\u540e\u7eed\u6839\u636e\u914d\u7f6e\u4f9d\u6b21\u6267\u884c\uff1a</p> <ul> <li>\u4f4e\u4fe1\u606f\u6837\u672c\u79fb\u9664\uff1a\u6309\u539f\u56fe\u5747\u503c\u5224\u65ad\uff0c\u5254\u9664\u4fe1\u606f\u91cf\u8fc7\u4f4e\u6837\u672c\uff0c\u9632\u6b62\u8bad\u7ec3\u5e72\u6270\u3002</li> <li>\u91cd\u590d\u6837\u672c\u53bb\u91cd\uff1a\u57fa\u4e8eGPU\u52a0\u901f\u7684\u6279\u91cfSSIM\u8ba1\u7b97\uff0c\u5bf9\u6a21\u7cca\u56fe\u50cf\u53bb\u91cd\uff0c\u663e\u8457\u964d\u4f4e\u6837\u672c\u5197\u4f59\u3002</li> <li>\u6570\u636e\u589e\u5f3a\uff1a\u652f\u6301\u591a\u89d2\u5ea6\u65cb\u8f6c\u6269\u589e\uff0c\u91c7\u7528\u77e2\u91cf\u5316\u5b9e\u73b0\u9ad8\u6548\u5904\u7406\u3002</li> <li>\u4f3d\u9a6c\u589e\u5f3a\uff1a\u5bf9\u539f\u56fe\u505a\u4f3d\u9a6c\u6821\u6b63\uff0c\u63d0\u5347\u56fe\u50cf\u5bf9\u6bd4\u5ea6\u548c\u7ec6\u8282\u8868\u73b0\u3002</li> </ul> <p>\u6240\u6709\u5904\u7406\u540e\u6570\u636e\u8f6c\u6362\u4e3aPyTorch\u5f20\u91cf\u683c\u5f0f <code>(1, H, W)</code>\uff0c\u4fbf\u4e8e\u540e\u7eed\u8bad\u7ec3\u3002</p> <p>\u6838\u5fc3\u79c1\u6709\u65b9\u6cd5\uff1a</p> <ul> <li><code>_normalize</code>\uff1a\u6839\u636e\u4f20\u5165\u7684<code>data_range</code>\u6267\u884c\u5f52\u4e00\u5316\uff0c\u786e\u4fdd\u50cf\u7d20\u503c\u7b26\u5408\u6a21\u578b\u9884\u671f\u3002</li> <li><code>_remove_low_info</code>\uff1a\u6839\u636e\u9608\u503c\u8fc7\u6ee4\u5747\u503c\u8fc7\u4f4e\u7684\u539f\u56fe\u6837\u672c\u3002</li> <li><code>_remove_duplicates_batch_gpu</code>\uff1a\u5229\u7528<code>torchmetrics</code>\u7684SSIM\u6307\u6807\u6279\u91cf\u8ba1\u7b97\u76f8\u4f3c\u5ea6\uff0c\u5b9e\u73b0GPU\u52a0\u901f\u53bb\u91cd\u3002</li> <li><code>_augment_vectorized</code>\uff1a\u6279\u91cf\u65cb\u8f6c\u591a\u89d2\u5ea6\u6570\u636e\u589e\u5f3a\uff0c\u6269\u5145\u6837\u672c\u7a7a\u95f4\u3002</li> <li><code>_enhance_gamma_vectorized</code>\uff1a\u7edf\u4e00\u5bf9\u539f\u56fe\u6267\u884c\u4f3d\u9a6c\u53d8\u6362\uff0c\u63d0\u5347\u56fe\u50cf\u52a8\u6001\u8303\u56f4\u3002</li> </ul> <p>\u8bbe\u8ba1\u8981\u70b9\uff1a</p> <ul> <li>\u4e25\u683c\u4fdd\u8bc1\u6570\u636e\u683c\u5f0f\u7edf\u4e00\u548c\u8ba1\u7b97\u6548\u7387\uff0c\u9002\u914d\u5927\u89c4\u6a21\u6570\u636e\u5904\u7406\u3002</li> <li>\u5145\u5206\u5229\u7528GPU\u52a0\u901f\uff0c\u51cf\u5c11\u91cd\u590d\u6570\u636e\u8ba1\u7b97\u5f00\u9500\u3002</li> <li>\u652f\u6301\u591a\u9636\u6bb5\u5904\u7406\u6d41\u7a0b\uff0c\u53ef\u6309\u9700\u5f00\u542f\u5173\u95ed\uff0c\u7075\u6d3b\u5e94\u5bf9\u4e0d\u540c\u8bad\u7ec3\u7b56\u7565\u3002</li> <li>\u6700\u7ec8\u8f93\u51fa\u7b26\u5408\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u6807\u51c6\u7684Tensor\u683c\u5f0f\uff0c\u65b9\u4fbf\u6a21\u578b\u76f4\u63a5\u8c03\u7528\u3002</li> </ul>"},{"location":"Content/codes/function/#log","title":"Log","text":"<p>\u51fd\u6570<code>log(logpath, message)</code>\uff1a</p> <ul> <li>\u63a5\u6536\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84<code>logpath</code>\u548c\u5b57\u7b26\u4e32<code>message</code>\u3002</li> <li>\u4ee5\u8ffd\u52a0\u6a21\u5f0f\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\uff0c\u81ea\u52a8\u5904\u7406\u7f16\u7801\u4e3aUTF-8\u3002</li> <li>\u5c06\u6d88\u606f\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u81ea\u52a8\u6362\u884c\u3002</li> </ul> <p>\u8bbe\u8ba1\u7406\u5ff5\uff1a</p> <ul> <li>\u6781\u7b80\u5b9e\u73b0\uff0c\u65b9\u4fbf\u5728\u8bad\u7ec3\u6d41\u7a0b\u4e2d\u591a\u5904\u8c03\u7528\u3002</li> <li>\u4fdd\u969c\u65e5\u5fd7\u8fde\u7eed\u6027\u548c\u5b8c\u6574\u6027\uff0c\u4e0d\u8986\u76d6\u5df2\u6709\u5185\u5bb9\u3002</li> <li>\u4fdd\u6301\u7f16\u7801\u4e00\u81f4\uff0c\u907f\u514d\u4e2d\u6587\u7b49\u7279\u6b8a\u5b57\u7b26\u5199\u5165\u5f02\u5e38\u3002</li> </ul>"},{"location":"Content/codes/lhai/","title":"LHAI Project Code: LHAI Folder","text":"<p>The <code>LHAI</code> folder contains all the source code for this project, focusing on three main functionalities: training, predict, and testing.</p>"},{"location":"Content/codes/lhai/#1-folder-structure","title":"1 Folder Structure","text":"<pre><code>LHAI                        &lt;- Source code for the project\n\u2502\n\u251c\u2500\u2500 __init__.py             &lt;- Makes LHAI a Python module\n\u2502\n\u251c\u2500\u2500 config.py               &lt;- Stores useful variables and configurations\n\u2502\n\u2502\u2500\u2500 evaluation.py              &lt;- 3 different methods to evaluation trained models.\n\u2502\n\u251c\u2500\u2500 modeling                &lt;- Code for model training and predict\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 predict.py          &lt;- Code for model predict\n\u2502   \u2514\u2500\u2500 train.py            &lt;- Code for training models\n\u2502\n\u251c\u2500\u2500 models                  &lt;- Contains neural network architectures\n\u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- Naming convention: model_name_experiment_id.py\n\u2502\n\u2514\u2500\u2500 function                &lt;- Utility functions used during training and predict\n   \u251c\u2500\u2500 Dataset.py           &lt;- Dataset utilities\n   \u251c\u2500\u2500 Log.py               &lt;- Logging utilities\n   \u2514\u2500\u2500 Loss.py              &lt;- Loss functions\n</code></pre> <p>Next, we will discuss how to configure parameters, train models, and run predict.</p>"},{"location":"Content/codes/lhai/#2-environment-variables-configpy","title":"2 Environment Variables: <code>config.py</code>","text":"<p>The <code>config.py</code> file contains all the environment variables used during training and predict.</p>"},{"location":"Content/codes/lhai/#training-parameters","title":"Training Parameters","text":"<pre><code># ---- Train Parameters ----\nEXP_NAME = \"EXP_0_1\"                                    # Parameter 1: Experiment identifier\nMODEL_NAME = \"CNN\"                                      # Parameter 2: Model type (CNN, GAN, VAE, AE, DIFFUSION)\nMODEL_PATH = PROJ_ROOT / \"LHAI\" / \"models\" / f\"{MODEL_NAME}_{EXP_NAME}.py\"\nDATA_DIR = PROJ_ROOT / \"data\" / \"POISSON\"               # Parameter 3: Dataset directory\nDATA_NAME = \"poisson_src_bkg.pkl.npy\"                   # Parameter 4: Dataset file name\nDATA_PATH = DATA_DIR / DATA_NAME\nSEED = 0                                                # Parameter 5: Random seed\nTRAINTYPE = \"poissonsrc+bkg_highresorig\"                # Parameter 6: Training type\nFRAC_TRAIN = 0.8                                        # Parameter 7: Train-test split ratio\nEPOCHS = 400                                            # Parameter 8: Number of training epochs\nBATCH_SIZE = 32                                         # Parameter 9: Batch size\nLATENTDIM = 64                                          # Parameter 10: Latent dimension (VAE only)\nLR_MAX = 5e-4                                           # Parameter 11: Maximum learning rate\nLR_MIN = 5e-6                                           # Parameter 12: Minimum learning rate\n</code></pre>"},{"location":"Content/codes/lhai/#predict-parameters","title":"Predict Parameters","text":"<pre><code># ---- Test Parameters ----\nPRE_MODEL_PATH = PROJ_ROOT / \"saves\" / \"MODEL\"\nPRE_DATA_PATH = PROJ_ROOT / \"data\" / \"POISSON\"\nPRE_MODEL_NAME = \"CNN_EXP_0_1_400epo_32bth_64lat_poissonsrc+bkg_highresorig_poisson_src_bkg.pkl.npy.pth\"\nPRE_MODEL = \"CNN\"\nPRE_DATA_NAME = \"poisson_src_bkg.pkl.npy\"\nPRE_SEED = 0\nPRE_TRAINTYPE = \"poissonsrc+bkg_highresorig\"\nPRE_FRAC_TRAIN = 0.8\nPRE_BATCH_SIZE = 32\nPRE_LATENT_DIM = 64\n</code></pre> <p>Before starting training or predict, ensure you understand each parameter and its purpose to avoid issues during execution.</p> <p>Tip</p> <p>To modify parameters during execution, there are two approaches:</p> <ol> <li>Directly edit the values in <code>config.py</code>.</li> <li>Use command-line arguments when running <code>train.py</code> or <code>predict.py</code>, as explained below.</li> </ol>"},{"location":"Content/codes/lhai/#3-training-trainpy","title":"3 Training: <code>train.py</code>","text":"<p>This project uses the <code>Typer</code> library for managing command-line arguments. You can run the training script with the following command:</p> <pre><code>python train.py --model-name \"GAN\" --exp-name \"MyExperiment\" --data-dir \"./data\" --data-name \"dataset.csv\" --seed 42 --traintype \"supervised\" --frac-train 0.8 --epochs 10 --batch-size 32 --latentdim 128 --lr-max 0.01 --lr-min 0.001\n</code></pre> <p>Refer to Section 2: Environment Variables for details on parameter meanings.</p> <p>Note</p> <ol> <li>Ensure the working directory in your terminal matches the script's location or use the full path to run the script.</li> <li>Default values from <code>config.py</code> will load into the <code>main</code> function if not provided in the command line.</li> <li>To check available parameters, use the following commands:     <pre><code>python train.py --help\npython predict.py --help\n</code></pre></li> <li>If only a specific parameter needs to be updated, you can pass it directly:     <pre><code>python train.py --model-name \"GAN\"\n</code></pre>     Other parameters will use their default values from <code>config.py</code>.</li> </ol>"},{"location":"Content/codes/lhai/#4-predict-predictpy","title":"4 predict: <code>predict.py</code>","text":"<p>The process for running predict is identical to that of <code>train.py</code>. Use similar commands with relevant parameters for predict tasks.</p> <p>by Zihang Liu</p>"},{"location":"Content/codes/predict/","title":"\u4ecegit clone\u5f00\u59cb\u63a8\u7406","text":"<p><code>predict.py</code>\u5b58\u653e\u5730\u5740:</p> <pre><code>LHAI/LHAI/modeling/predict.py\n</code></pre> <p>\u5728\u4e86\u89e3\u4e86LHAI\u6e90\u4ee3\u7801\u7ed3\u6784\uff1a<code>data</code>,<code>docs</code>,<code>LHAI</code>,<code>saves</code> \u6587\u4ef6\u5939\u7684\u57fa\u672c\u4f5c\u7528\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u63a8\u7406\u4e86\u3002</p> <p>\u8fd9\u4e00\u9875\u5c06\u4f1a\u4ece <code>git clone</code> \u5f00\u59cb\uff0c\u53d9\u8ff0\u6211\u4eec\u8be5\u51c6\u5907\u54ea\u4e9b\u4e1c\u897f\uff0c\u5982\u4f55\u5f00\u59cb\u8fdb\u884c\u63a8\u7406\u3002</p> <ol> <li> <p>\u7b2c\u4e00\u6b65\uff1agit clone</p> <pre><code>git clone --branch Code https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>\u8fd9\u4f1a\u4e0b\u8f7dCode branch\u4e0b\u7684\u6240\u6709\u4ee3\u7801\u4e8eLHAI\u6587\u4ef6\u5939\u5185\u3002\u6253\u5f00\u6587\u4ef6\u5939\uff1a</p> <pre><code>cd LHAI\n</code></pre> </li> <li> <p>\u68c0\u67e5LHAI\u6587\u4ef6\u5939\u7684\u9879\u76eestructure\uff0c\u662f\u5426\u5305\u542b\u5b8c\u6574\uff1a</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- Open-source license if one is chosen\n\u251c\u2500\u2500 Makefile           &lt;- Makefile with convenience commands like `make data` or `make train`\n\u251c\u2500\u2500 README.md          &lt;- The top-level README for developers using this project.\n\u251c\u2500\u2500 data               &lt;- Different types of data. (Recommended to upload with npy formation)\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u2502\n\u251c\u2500\u2500 saves             &lt;- Figure/Loss saves, Trained and Serialized models, model Predictions, .\n\u2502   \u251c\u2500\u2500 FIGURE        &lt;- Figure saves in training.\n\u2502   \u2502\u2500\u2500 PRE_FIG       &lt;- Figure saves in predicting.\n\u2502   \u251c\u2500\u2500 LOSS          &lt;- LOSS data(.npy) and LOSS Figure(.png) saves in training.\n\u2502   \u2514\u2500\u2500 MODEL         &lt;- Trained and Serialized models.\n\u2502\n\u251c\u2500\u2500 docs               &lt;- A default mkdocs project; see www.mkdocs.org for details\n\u2502\n\u2502\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks. Naming convention is a number (for ordering),\n\u2502                         the creator's initials, and a short `-` delimited description, e.g.\n\u2502                         `1.0-jqp-initial-data-exploration`.\n\u2502\n\u251c\u2500\u2500 pyproject.toml     &lt;- Project configuration file with package metadata for \n\u2502                         LHAI and configuration for tools like black\n\u2502\n\u251c\u2500\u2500 references         &lt;- Data dictionaries, manuals, and all other explanatory materials.\n\u2502\n\u251c\u2500\u2500 reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.\n\u2502   \u2514\u2500\u2500 figures        &lt;- Generated graphics and figures to be used in reporting\n\u2502\n\u251c\u2500\u2500 requirements.txt   &lt;- The requirements file for reproducing the analysis environment, e.g.\n\u2502                         generated with `pip freeze &gt; requirements.txt`      \n\u2502\n\u251c\u2500\u2500 setup.cfg          &lt;- Configuration file for flake8\n\u2502\n\u2514\u2500\u2500 LHAI   &lt;- Source code for use in this project.\n    \u2502\n    \u251c\u2500\u2500 __init__.py             &lt;- Makes LHAI a Python module\n    \u2502\n    \u251c\u2500\u2500 config.py               &lt;- Store useful variables and configuration\n    \u2502\n    \u251c\u2500\u2500 evaluation.py              &lt;- 3 different methods to evaluation trained models.\n    \u2502\n    \u251c\u2500\u2500 modeling                \n    \u2502   \u251c\u2500\u2500 __init__.py \n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- Code to run model inference with trained models          \n    \u2502   \u2514\u2500\u2500 train.py            &lt;- Code to train models\n    \u2502\n    \u251c\u2500\u2500 models                  &lt;- Neural network model code.\n    \u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- Modelname_Experimentnumber.py\n    \u2502\n    \u2514\u2500\u2500 function             &lt;- Functions used in training and predicting processes.\n    \u251c\u2500\u2500 Dataset.py        &lt;- Function used in loading Dataset.\n    \u251c\u2500\u2500 Log.py            &lt;- Function used in Logging.\n    \u2514\u2500\u2500 Loss.py           &lt;- Function used in Loss generating.\n</code></pre> </li> <li> <p>\u914d\u7f6e python \u73af\u5883</p> <p>\u9996\u5148\u786e\u5b9a\u6211\u4eec\u7684\u673a\u5668\u7684\u5b8f\u89c2\u73af\u5883\u80fd\u591f\u7528\u4e8e\u673a\u5668\u5b66\u4e60\u4efb\u52a1\uff0c\u6211\u4e00\u822c\u559c\u6b22\u9009\u62e9\u670d\u52a1\u5668\u914d\u7f6e\uff1a</p> <pre><code>PyTorch  2.1.0\nPython  3.10(ubuntu22.04)\nCuda  12.1\n</code></pre> <p>\u5f53\u7136\uff0c\u66f4\u9ad8\u7684\u914d\u7f6e\u4e5f\u6ca1\u6709\u95ee\u9898\uff0c\u53ea\u662f\u8fd9\u4e2a\u914d\u7f6e\u6700\u7ecf\u5178\u548c\u7a33\u5b9a\uff1b</p> <p>\u7136\u540e\uff0c\u9700\u8981\u521b\u5efapython\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5python\u73af\u5883\uff1a</p> <pre><code>pip install -m requirements.txt\n</code></pre> <p>\u8fd9\u6837\u73af\u5883\u65b9\u9762\u5c31\u6ca1\u6709\u95ee\u9898\u4e86\u3002</p> </li> <li> <p>\u51c6\u5907\u6570\u636e\uff0c\u5e76\u4e14\u653e\u5230\u6570\u636e\u6587\u4ef6\u5939 <code>data</code> \u5bf9\u5e94\u7684\u7c7b\u522b\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u6307\u5411\u6211\u4eec\u7684\u6570\u636e</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684\u6cca\u677e\u7c7b\u578b\u6570\u636e <code>poisson_src_bkg.pkl.npy</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"data\" / \"POISSON\" / poisson_src_bkg.pkl.npy\n</code></pre> <p>\u5728predict\u4e2d\u5bf9\u8bc4\u4f30\u7528\u5230\u7684\u6570\u636e\u53d8\u91cf\u6709\u4e24\u4e2a\uff1a</p> <pre><code>PRE_DATA_PATH = PROJ_ROOT / \"data\" / \"POISSON\"\n# \u53c2\u6570\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u6570\u636e\u96c6\u7684\u5730\u5740\u540d\nPRE_DATA_NAME = \"poisson_src_bkg.pkl.npy\"\n# \u53c2\u6570\uff1a\u6570\u636e\u96c6\u540d\u79f0\n</code></pre> </li> <li> <p>\u51c6\u5907\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801\uff0c\u653e\u5230\u795e\u7ecf\u7f51\u7edc\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u5f15\u7528\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684CNN\u7c7b\u578b\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801 <code>CNN_EXP_0_1.py</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"LHAI\" / \"models\" / CNN_EXP_0_1.py\n</code></pre> <p>\u5728predict\u4e2d\u5bf9\u63a8\u7406\u7528\u5230\u7684\u6a21\u578b\u53d8\u91cf\u6709\u4e09\u4e2a\uff1a</p> <pre><code>PRE_MODEL_PATH = PROJ_ROOT / \"saves\" / \"MODEL\"\nPRE_MODEL_NAME = \"CNN_EXP_0_1_400epo_32bth_64lat_poissonsrc+bkg_highresorig_poisson_src_bkg.pkl.npy.pth\"\nRRE_MODEL = \"CNN\"\n</code></pre> </li> <li> <p>\u786e\u4fdd\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u5df2\u7ecf\u4fdd\u5b58\u5728 <code>saves/MODEL</code> \u6587\u4ef6\u5939\u5185\u3002</p> </li> <li> <p>\u5f00\u59cb\u63a8\u7406\u3002</p> <p>\u65b9\u6cd51\uff1a\u8bbe\u7f6e <code>config.py</code> \u4e2dPREDICT\u7684\u53c2\u6570\uff0c\u5728 <code>modeling</code> \u6587\u4ef6\u5939\u4e2d\u76f4\u63a5\u8fd0\u884c\u3002</p> <pre><code>python predict.py\n</code></pre> <p>\u65b9\u6cd52\uff1a\u9ad8\u7aef\u4e00\u70b9\u7684\u76f4\u63a5\u901a\u8fc7 <code>Typer</code> \u63a5\u53e3\u8bbe\u7f6e\u547d\u4ee4\u884c\u53c2\u6570</p> <p>\u5177\u4f53\u8bf7\u770b Code Section \u7684 LHAI \u624b\u518c\u9875\u9762\u3002</p> </li> </ol> <p>by Zihang Liu</p>"},{"location":"Content/codes/saves/","title":"LHAI Project Code: Saves Folder","text":"<p>The <code>saves</code> folder stores outputs generated during training, including images, loss data, trained models, and results from inference.</p> <pre><code>\u2502\u2500\u2500 saves              &lt;- Stores images, loss data, trained models, and prediction results\n\u2502   \u251c\u2500\u2500 FIGURE         &lt;- Images generated from preliminary inference after training \n\u2502   \u2502                     (Format: ./saves/FIGURE/EarlyPre_{MODEL_NAME}_{EXP_NAME}_{epochs}epo_{batch_size}bth_{latentdim}lat_{traintype}_{DATA_NAME}.png)\n\u2502   \u2502\u2500\u2500 PRE_FIG        &lt;- Images saved during inference \n\u2502   \u2502                     (Format: ./saves/PRE_FIG/{savepath}/PRE_FIG/Pre_{PRE_MODEL_NAME}.png)\n\u2502   \u251c\u2500\u2500 LOSS           &lt;- Loss data (.npy) and loss plots (.png) saved during training\n\u2502   \u2502                     (Format: ./saves/LOSS/{MODEL_NAME}_{EXP_NAME}_{epochs}epo_{batch_size}bth_{latentdim}lat_{traintype}_{DATA_NAME}.npy + .png)\n\u2502   \u2514\u2500\u2500 MODEL          &lt;- Saved trained models and serialized files \n\u2502                         (Format: ./saves/MODEL/{MODEL_NAME}_{EXP_NAME}_{epochs}epo_{batch_size}bth_{latentdim}lat_{traintype}_{DATA_NAME}.pth)\n</code></pre> <p>This folder requires minimal explanation -- once training or inference is complete, check this folder to retrieve the results.</p> <p>by Zihang Liu</p>"},{"location":"Content/codes/server/","title":"\u670d\u52a1\u5668\u64cd\u4f5c\u7b14\u8bb0 - autodl","text":""},{"location":"Content/codes/server/#autodl","title":"\u4e00 autodl","text":""},{"location":"Content/codes/server/#1","title":"1 \u57fa\u7840\u5e38\u8bc6","text":"<ol> <li> <p>\u6ce8\u518c\u5b66\u751f\u4f1a\u5458</p> </li> <li> <p>autodl\u5b98\u65b9\u6587\u6863</p> </li> <li> <p>\u5173\u4e8e\u5b9e\u4f8b\uff1a\u5b9e\u4f8b\u5728\u5219\u6570\u636e\u5728\uff0c\u4f46\u662f\u6bcf\u4e00\u4e2a\u5b9e\u4f8b\u53ea\u80fd\u4fdd\u5b5815\u5929\uff0c\u5e76\u4e14\u8fd915\u5929\u5185\u53ea\u8981\u5b9e\u4f8b\u6ca1\u6709\u88ab\u91ca\u653e\u5c31\u4f1a\u6bcf\u5929\u6263\u8d39\uff08\u4e0d\u591a\uff0c\u4f46\u6709\uff09</p> </li> <li> <p>\u5982\u679cgit clone\u663e\u793a\u7f51\u7edc\u95ee\u9898\uff0c\u542f\u7528autodl\u81ea\u5e26\u7684\u5b66\u672f\u8d44\u6e90\u52a0\u901f\uff1a</p> <pre><code>source /etc/network_turbo\n</code></pre> <p>\u5173\u95ed\u4ee3\u7406\uff1a</p> <pre><code>unset http_proxy &amp;&amp; unset https_proxy\n</code></pre> </li> </ol>"},{"location":"Content/codes/server/#2","title":"2 \u5feb\u901f\u5f00\u59cb","text":"<ol> <li> <p>\u521b\u5efa\u5b9e\u4f8b</p> <p>\u6ce8\u518c\u540e\u8fdb\u5165\u63a7\u5236\u53f0\uff0c\u5728\u6211\u7684\u5b9e\u4f8b\u83dc\u5355\u4e0b\uff0c\u70b9\u51fb\u79df\u7528\u65b0\u5b9e\u4f8b</p> <p></p> <p>\u5728\u79df\u7528\u5b9e\u4f8b\u9875\u9762\uff1a\u9009\u62e9\u8ba1\u8d39\u65b9\u5f0f\uff0c\u9009\u62e9\u5408\u9002\u7684\u4e3b\u673a\uff0c\u9009\u62e9\u8981\u521b\u5efa\u5b9e\u4f8b\u4e2d\u7684GPU\u6570\u91cf\uff0c\u9009\u62e9\u955c\u50cf\uff08\u5185\u7f6e\u4e86\u4e0d\u540c\u7684\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff09\uff0c\u6700\u540e\u521b\u5efa\u5373\u53ef</p> <p></p> <p>\u521b\u5efa\u5b8c\u6210\u540e\u7b49\u5f85\u5f00\u673a\uff0c\u4eca\u540e\u4e3b\u8981\u7528\u5230\u7684\u64cd\u4f5c\u5165\u53e3\u89c1\u622a\u56fe\u4e2d</p> <p></p> </li> <li> <p>\u7ec8\u7aef\u8bad\u7ec3</p> <p>\u5728\u6253\u5f00\u7684JupyterLab\u9875\u9762\u4e2d\u6253\u5f00\u7ec8\u7aef\uff0c\u6267\u884c\u60a8\u7684Python\u547d\u4ee4\u7b49\u5b8c\u6210\u8bad\u7ec3\uff08\u5efa\u8bae\u4f7f\u7528\u540e\u53f0\u8bad\u7ec3\u65b9\u5f0f\uff09</p> <p></p> </li> <li> <p>vscode\u8bad\u7ec3</p> <p>\u5982\u679c\u4e60\u60ef\u7528vscode\u64cd\u4f5c\u800c\u4e0d\u662fjupyter lab\uff0c\u7528vscode remote\u63d2\u4ef6\u8fdb\u884cssh\u8fde\u63a5</p> <p>vscode\u5f00\u53d1\u73af\u5883</p> </li> </ol>"},{"location":"Content/codes/server/#3","title":"3 \u56e2\u961f\u6570\u636e\u7ba1\u7406","text":"<p>\u6211\u4eec\u4f7f\u7528\u963f\u91cc\u4e91\u76d8\u4f5c\u4e3a\u56e2\u961f\u6570\u636e\u7ba1\u7406\u4e2d\u5fc3\u3002(1)</p> <ol> <li> <p> aliyun\u7684\u4f18\u70b9\uff1a</p> <ol> <li>\u591a\u5e73\u53f0\u652f\u6301, \u652f\u6301 Windows, macOS, linux(x86/x64/arm), android, iOS \u7b49</li> <li>\u963f\u91cc\u4e91\u76d8\u591a\u7528\u6237\u652f\u6301</li> <li>\u652f\u6301\u6587\u4ef6\u7f51\u76d8\uff0c\u76f8\u518c\u7f51\u76d8\u65e0\u7f1d\u5207\u6362</li> <li>\u4e0b\u8f7d\u7f51\u76d8\u5185\u6587\u4ef6, \u652f\u6301\u591a\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u4e0b\u8f7d, \u652f\u6301\u65ad\u70b9\u7eed\u4f20\u548c\u5355\u6587\u4ef6\u5e76\u884c\u4e0b\u8f7d\u3002\u652f\u6301\u8f6f\u94fe\u63a5(\u7b26\u53f7\u94fe\u63a5)\u6587\u4ef6\u3002</li> <li>\u4e0a\u4f20\u672c\u5730\u6587\u4ef6, \u652f\u6301\u591a\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u4e0a\u4f20\uff0c\u652f\u6301\u6392\u9664\u6307\u5b9a\u6587\u4ef6\u5939/\u6587\u4ef6\uff08\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u529f\u80fd\u3002\u652f\u6301\u8f6f\u94fe\u63a5(\u7b26\u53f7\u94fe\u63a5)\u6587\u4ef6\u3002</li> <li>\u540c\u6b65\u5907\u4efd\u529f\u80fd\u652f\u6301\u5907\u4efd\u672c\u5730\u6587\u4ef6\u5230\u4e91\u76d8\uff0c\u5907\u4efd\u4e91\u76d8\u6587\u4ef6\u5230\u672c\u5730\uff0c\u53cc\u5411\u540c\u6b65\u5907\u4efd\u4fdd\u6301\u672c\u5730\u6587\u4ef6\u548c\u7f51\u76d8\u6587\u4ef6\u540c\u6b65\u3002\u5e38\u7528\u4e8e\u5d4c\u5165\u5f0f\u6216\u8005NAS\u7b49\u8bbe\u5907\uff0c\u652f\u6301docker\u955c\u50cf\u90e8\u7f72\u3002</li> <li>\u547d\u4ee4\u548c\u6587\u4ef6\u8def\u5f84\u8f93\u5165\u652f\u6301Tab\u952e\u81ea\u52a8\u8865\u5168</li> <li>\u652f\u6301\u963f\u91cc\u4e91ECS\u73af\u5883\u4e0b\u4f7f\u7528\u5185\u7f51\u94fe\u63a5\u4e0a\u4f20/\u4e0b\u8f7d\uff0c\u901f\u5ea6\u66f4\u5feb(\u53ea\u652f\u6301\u963f\u91cc\u7ecf\u5178\u7f51\u7edc\uff0c\u6700\u9ad8\u53ef\u8fbe100MB/s)\uff0c\u8fd8\u53ef\u4ee5\u8282\u7701\u516c\u7f51\u5e26\u5bbd\u6d41\u91cf(\u914d\u7f6etransfer_url_type=2\u5373\u53ef)</li> <li>\u652f\u6301webdav\u6587\u4ef6\u670d\u52a1\uff0c\u53ef\u4ee5\u5c06\u963f\u91cc\u4e91\u76d8\u5f53\u505awebdav\u6587\u4ef6\u7f51\u76d8\u6302\u8f7d\u5230Windows, macOS, linux\u7684\u78c1\u76d8\u4e2d\u8fdb\u884c\u4f7f\u7528\u3002webdav\u90e8\u7f72\u652f\u6301docker\u955c\u50cf\uff0c\u955c\u50cf\u53ea\u6709\u4e0d\u523010MB\u975e\u5e38\u5c0f\u5de7\u3002</li> <li>\u652f\u6301JavaScript\u63d2\u4ef6\uff0c\u4f60\u53ef\u4ee5\u6309\u7167\u81ea\u5df1\u7684\u9700\u8981\u5b9a\u5236\u4e0a\u4f20/\u4e0b\u8f7d\u4e2d\u5173\u952e\u6b65\u9aa4\u7684\u884c\u4e3a\uff0c\u6700\u5927\u7a0b\u5ea6\u6ee1\u8db3\u81ea\u5df1\u7684\u4e2a\u6027\u5316\u9700\u6c42 \u5728linux\u4e2d\u4e0b\u8f7daliyunpan</li> </ol> <p>\u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/qq_41174671/article/details/127310715</p> </li> </ol> <p>\u70b9\u51fb\u6b64\u5904\u67e5\u770b\u5b98\u65b9\u6559\u7a0b</p> <ol> <li> <p>\u4e0b\u8f7d\u4e0e\u5b89\u88c5</p> <pre><code>#\u5148\u8fdb\u5165\u60f3\u5c06\u5b89\u88c5\u5305\u5b89\u88c5\u5728\u54ea\u91cc\u7684\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u4e0b\u8f7d\nwget https://github.com/tickstep/aliyunpan/releases/download/v0.2.2/aliyunpan-v0.2.2-linux-amd64.zip\n# download\u540e\u9762\u63a5\u7684\u5c31\u662f\u7248\u672c\u53f7\uff0c\u7136\u540e\u518d\u63a5\u53d1\u5e03\u9875\u7684\u5b89\u88c5\u5305\u540d\nunzip aliyunpan-v0.2.2-linux-amd64.zip #\u89e3\u538b\u5b89\u88c5\u5305\ncd aliyunpan-v0.2.2-linux-amd64  #\u8fdb\u5165\u5b89\u88c5\u5305\n./aliyunpan #\u542f\u52a8aliyunpan\nlogin #\u767b\u5f55\u8d26\u53f7\n</code></pre> </li> <li> <p>\u767b\u5f55</p> <p>refresh token\uff1ab69841de9160458da59d7757887b56c0\uff08\u5df2\u7ecf\u8fc7\u671f\uff09</p> </li> <li> <p>\u67e5\u770b\u547d\u4ee4</p> <pre><code># \u83b7\u53d6\u7a0b\u5e8f\u7684\u529f\u80fd\nhelp\n# \u83b7\u53d6\u8d26\u6237\u6587\u4ef6\nls\n</code></pre> <p>\u975e\u5e38\u6709\u7528\u7684\u547d\u4ee4\uff1a<code>help</code></p> </li> <li> <p>\u4e0b\u8f7d\u6587\u4ef6</p> <p>\u901a\u8fc7 <code>config set -savedir &lt;savedir&gt;</code> \u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e0b\u8f7d\u6587\u4ef6\u4fdd\u5b58\u7684\u76ee\u5f55\u3002</p> <pre><code>download \u6587\u4ef6\u540d\n</code></pre> </li> <li> <p>\u4e0a\u4f20\u6587\u4ef6</p> <pre><code>upload &lt;\u672c\u5730\u6587\u4ef6/\u76ee\u5f55\u7684\u8def\u5f841&gt; &lt;\u6587\u4ef6/\u76ee\u5f552&gt; &lt;\u6587\u4ef6/\u76ee\u5f553&gt; ... &lt;\u76ee\u6807\u76ee\u5f55&gt;\n</code></pre> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u4e0a\u4f20\u6587\u4ef6\u547d\u4ee4\u793a\u4f8b\uff1a</p> <pre><code>upload /root/autodl-fs/poisson_src_bkg.pkl.npy /LHAI\n</code></pre> </li> </ol>"},{"location":"Content/codes/server/#-","title":"\u4e8c \u5f00\u59cb - \u57fa\u7840\u64cd\u4f5c","text":"<p>Note</p> <p><code>free -h</code> : \u67e5\u770b\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5 <code>df -h</code>: \u67e5\u770b\u7cfb\u7edf\u76d8\u3001\u786c\u76d8\u5bb9\u91cf <code>nvidia-smi</code> </p> <p><code>python --version</code> \uff1a\u68c0\u67e5python\u7248\u672c <code>python -c \"import torch; print(torch.__version__)\"</code> : \u68c0\u67e5pytorch\u7248\u672c <code>nvcc --version</code> : \u68c0\u67e5cuda\u7248\u672c</p>"},{"location":"Content/codes/server/#0","title":"0 \u4e00\u822c\u64cd\u4f5c","text":"<ul> <li> <p>ssh\u8fde\u63a5\u670d\u52a1\u5668</p> <p>\u65b9\u6cd51\uff1a\u5728\u7ec8\u7aef\u8f93\u5165\uff08\u73af\u5883\u4e2d\u5df2\u4e0b\u8f7dssh\uff09</p> <pre><code>ssh -L 8889:localhost:8889 root@111.61.30.143\n</code></pre> <p>\u65b9\u6cd52\uff1a\u4f7f\u7528vscode\u8fdb\u884c\u670d\u52a1\u5668\u7f16\u8f91\uff1ahttps://blog.csdn.net/kiong_/article/details/135877723</p> <p>vscode\u8fde\u63a5\u670d\u52a1\u5668\u4f7f\u7528ipynb\u6587\u4ef6\u7684\u5c0f\u95ee\u9898\uff1avscode\u4e2d ssh\u8fde\u63a5\u670d\u52a1\u5668\u540e \u65e0\u6cd5\u4e3ajupyter\u6587\u4ef6\u9009\u62e9\u5185\u6838kernel</p> </li> <li> <p>\u5982\u4f55\u67e5\u770b\u914d\u7f6e</p> <p>1.\u57fa\u672c\u7cfb\u7edf\u4fe1\u606f</p> <p><code>cat /etc/os-release</code></p> <p><code>uname -r</code> :\u7528\u4e8e\u663e\u793a\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u7684\u5185\u6838\u7248\u672c</p> <p>2.CPU\u4fe1\u606f</p> <p><code>lscpu</code> :  \u547d\u4ee4\u7528\u4e8e\u663e\u793a\u8be6\u7ec6\u7684CPU\u67b6\u6784\u4fe1\u606f\uff0c\u5305\u62ecCPU\u578b\u53f7\u3001\u6838\u5fc3\u6570\u3001\u7ebf\u7a0b\u6570\u7b49\u3002</p> <p>3.\u5185\u5b58\u4fe1\u606f\uff1a</p> <p><code>free -h</code> : \u67e5\u770b\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5</p> <p>4.\u78c1\u76d8\u4fe1\u606f\uff1a</p> <p><code>lsblk</code> : \u67e5\u770b\u5206\u533a\u4fe1\u606f</p> <p><code>df -h</code>: \u67e5\u770b\u7cfb\u7edf\u76d8\u3001\u786c\u76d8\u5bb9\u91cf</p> <p>5.\u663e\u5361\u4fe1\u606f\uff08\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u67e5\u770b\u663e\u5361\u5360\u7528\u60c5\u51b5\uff09\uff1a</p> <p><code>nvidia-smi</code></p> </li> </ul>"},{"location":"Content/codes/server/#1_1","title":"1 \u8d26\u6237\u6587\u4ef6\u3001\u73af\u5883\u67e5\u770b","text":"<p>\u7528 <code>ls -a</code>\u67e5\u770b\u6240\u6709\u6587\u4ef6\uff1a</p> <pre><code>.   .bash_history  .bashrc  .config             .ipython  .local    .python_history  .sudo_as_admin_successful\n..  .bash_logout   .cache   .ipynb_checkpoints  .jupyter  .profile  snap             .viminfo\n</code></pre> . <p>. \u5f53\u524d\u6587\u4ef6</p> .. <p>.. \u4e0a\u4e00\u7ea7\u6587\u4ef6</p> .bash_history <p>.bash_history: \u8fd9\u4e2a\u6587\u4ef6\u5305\u542b\u4e86\u7528\u6237\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c\u7684\u5386\u53f2\u547d\u4ee4\u8bb0\u5f55\u3002\u6bcf\u6b21\u7528\u6237\u9000\u51fa\u767b\u5f55\u65f6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4f1a\u88ab\u66f4\u65b0\u3002</p> .bash_logout <p>.bash_logout: \u5f53\u7528\u6237\u9000\u51fa Bash shell \u65f6\uff0c\u4f1a\u6267\u884c\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u547d\u4ee4\u3002\u901a\u5e38\u7528\u4e8e\u6e05\u7406\u4e34\u65f6\u6587\u4ef6\u6216\u6267\u884c\u5176\u4ed6\u6e05\u7406\u4efb\u52a1\u3002</p> .bashrc <p>.bashrc: \u8fd9\u662f <code>Bash shell</code> \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u8bbe\u7f6e\u7528\u6237\u7684\u4e2a\u6027\u5316\u547d\u4ee4\u522b\u540d\u3001\u73af\u5883\u53d8\u91cf\u4ee5\u53ca\u5176\u4ed6 Bash shell \u7684\u884c\u4e3a\u3002</p> .cache <p>.cache: \u8fd9\u4e2a\u76ee\u5f55\u7528\u4e8e\u5b58\u50a8\u5e94\u7528\u7a0b\u5e8f\u7684\u7f13\u5b58\u6587\u4ef6\u3002\u7f13\u5b58\u6587\u4ef6\u53ef\u4ee5\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\uff0c\u4f46\u6709\u65f6\u4e5f\u53ef\u80fd\u5360\u7528\u5927\u91cf\u78c1\u76d8\u7a7a\u95f4\u3002</p> .config <p>.config: \u8fd9\u4e2a\u76ee\u5f55\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u5e94\u7528\u7a0b\u5e8f\u914d\u7f6e\u6587\u4ef6\u3002\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u521b\u5efa\u5b50\u76ee\u5f55\u6765\u5b58\u50a8\u5b83\u4eec\u7684\u914d\u7f6e\u4fe1\u606f\u3002</p> .ipython <p>.ipython: \u8fd9\u4e2a\u76ee\u5f55\u5305\u542b\u4e86 IPython\uff08\u4e00\u4e2a\u4ea4\u4e92\u5f0f Python shell\uff09\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u5386\u53f2\u8bb0\u5f55\u3002</p> .ipynb_checkpoints <p>.ipynb_checkpoints: \u8fd9\u4e2a\u76ee\u5f55\u662f Jupyter Notebook \u81ea\u52a8\u751f\u6210\u7684\uff0c\u7528\u4e8e\u5b58\u50a8 notebook \u6587\u4ef6\u7684\u68c0\u67e5\u70b9\u7248\u672c\u3002\u8fd9\u4e9b\u68c0\u67e5\u70b9\u7248\u672c\u53ef\u4ee5\u7528\u4e8e\u6062\u590d notebook \u6587\u4ef6\u7684\u5148\u524d\u72b6\u6001\u3002\uff08\u6ca1\u7528\uff09</p> .jupyter <p>.jupyter: \u8fd9\u4e2a\u76ee\u5f55\u5305\u542b\u4e86 Jupyter Notebook \u7684\u914d\u7f6e\u6587\u4ef6\u548c\u76f8\u5173\u6570\u636e\uff0c\u4f8b\u5982\u81ea\u5b9a\u4e49\u7684\u7b14\u8bb0\u672c\u6a21\u677f\u548c\u6269\u5c55\u3002</p> .local <p>.local: \u8fd9\u4e2a\u76ee\u5f55\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u672c\u5730\u5b89\u88c5\u7684\u7a0b\u5e8f\u548c\u6570\u636e\u3002\u4f8b\u5982\uff0c\u7528\u6237\u53ef\u4ee5\u5c06 Python \u5305\u5b89\u88c5\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e2d\uff0c\u800c\u4e0d\u662f\u7cfb\u7edf\u8303\u56f4\u5185\u5b89\u88c5\u3002</p> .profile <p>.profile: \u8fd9\u662f\u7528\u6237\u767b\u5f55\u65f6\u6267\u884c\u7684 Bourne shell \u914d\u7f6e\u6587\u4ef6\u3002\u5b83\u7c7b\u4f3c\u4e8e .bashrc\uff0c\u4f46\u9002\u7528\u4e8e Bourne shell \u53ca\u5176\u884d\u751f\u7248\u672c\uff0c\u5982 Bash\u3002</p> snap <p>snap: \u8fd9\u4e2a\u76ee\u5f55\u5305\u542b\u4e86\u901a\u8fc7 Snap \u5305\u7ba1\u7406\u5668\u5b89\u88c5\u7684\u5e94\u7528\u7a0b\u5e8f\u3002Snap \u662f\u4e00\u79cd\u6253\u5305\u548c\u5206\u53d1 Linux \u5e94\u7528\u7a0b\u5e8f\u7684\u65b9\u6cd5\uff0c\u5b83\u5c06\u5e94\u7528\u7a0b\u5e8f\u548c\u5b83\u4eec\u7684\u4f9d\u8d56\u9879\u6346\u7ed1\u5728\u4e00\u8d77\u3002</p> .python_history <p>.python_history: \u8fd9\u4e2a\u6587\u4ef6\u5305\u542b\u4e86\u7528\u6237\u5728 Python shell \u4e2d\u6267\u884c\u7684\u5386\u53f2\u547d\u4ee4\u8bb0\u5f55\uff0c\u7c7b\u4f3c\u4e8e .bash_history\u3002</p> .sudo_as_admin_successful <p>.sudo_as_admin_successful: \u8fd9\u4e2a\u6587\u4ef6\u662f sudo \u547d\u4ee4\u751f\u6210\u7684\uff0c\u8868\u793a\u4e0a\u6b21\u4f7f\u7528 sudo \u547d\u4ee4\u65f6\u8eab\u4efd\u9a8c\u8bc1\u6210\u529f\u3002</p>"},{"location":"Content/codes/server/#2-permission-denied","title":"2 \u6587\u4ef6\u8bfb\u5199\u6743\u9650\uff1aPermission denied","text":"<p>\u8de8\u8d26\u6237\u64cd\u4f5c\u65f6\u5e38\u9047\u5230\u3002\u5728\u4e00\u4e2a\u8d26\u6237\u65f6\u65e0\u6cd5\u6253\u5f00\u53e6\u4e00\u4e2a\u8d26\u6237\u7684\u6587\u4ef6\uff1a</p> <pre><code>ylin1@zhliu-X10DRi:~$ cd /home/zhliu\n-bash: cd: /home/zhliu: Permission denied\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5 1 \uff1a\u4f7f\u7528sudo \u547d\u4ee4</p> <pre><code>sudo + \u547d\u4ee4\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5 2 \uff1a\u4f7f\u7528root\u8eab\u4efd\u64cd\u4f5c</p> <pre><code>#\u8fdb\u5165root\u7ba1\u7406\u5458\u8eab\u4efd\uff1a\nsudo -i\n#\u9000\u51faroot\u7ba1\u7406\u5458\u8eab\u4efd\uff1a\nexit\n</code></pre> <p>\u590d\u5236\u6587\u4ef6\u5939\u65f6\uff0c\u5e38\u5e38\u4f1a\u9047\u5230\u6743\u9650\u95ee\u9898\uff0c\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u6539\u53d8\u6587\u4ef6\u5939\u6240\u6709\u8005</p> <pre><code>sudo chown -R ylin1:ylin1 trained_models\n</code></pre>"},{"location":"Content/codes/server/#3_1","title":"3 \u8d26\u6237\u76f8\u5173\u547d\u4ee4","text":"<pre><code># \u67e5\u770b\u670d\u52a1\u5668\u6709\u54ea\u4e9b\u8d26\u6237\ngetent passwd\n\n# \u67e5\u770b\u5f53\u524d\u8d26\u6237\u662f\u5426\u5177\u6709root\u6743\u9650\nsudo -l\n\n# \u67e5\u770b\u67d0\u7528\u6237\u7684\u6240\u6709\u6743\u9650\ngroups username\n\n# \u521b\u5efa\u8d26\u6237\nsudo adduser newuser\n\n# \u7ed9\u67d0\u7528\u6237sudo\u6743\u9650\nsudo adduser username sudo\n</code></pre>"},{"location":"Content/codes/server/#4","title":"4 \u540e\u53f0\u8fd0\u884c\u7ba1\u7406","text":"<p>\u540e\u53f0\u8fd0\u884cipynb\u6587\u4ef6\uff1a</p> <pre><code>nohup runipy ./codes/Train.ipynb 2&gt;&amp;1 &amp;\n</code></pre> <p>\u67e5\u770b\u540e\u53f0\u3001\u67e5\u770b\u6307\u5b9a\u540e\u53f0\u3001\u505c\u6b62\u540e\u53f0</p> <p>\u6ce8\uff1aps aux \u4e2d Time \u7684\u5355\u4f4d\u662f\u5c0f\u65f6\uff08 7:23 \u8868\u793a 7h23min\uff09</p> <pre><code># \u67e5\u770b\u6240\u6709\u540e\u53f0\nps aux \n\n# \u67e5\u770b\u6307\u5b9a\u7528\u6237\u540e\u53f0\nps aux | grep username\n\n# \u67e5\u770b runipy \u5b57\u7b26\u4e32\u540e\u53f0\nps aux | grep runipy\n\n# \u505c\u6b62\u67d0\u4e2a\u540e\u53f0\nkill PID\n</code></pre>"},{"location":"Content/codes/server/#5","title":"5 \u7cfb\u7edf\u73af\u5883\u53d8\u91cf","text":"<p>pip\u5b89\u88c5\u76f8\u5173\u5305\u65f6\u51fa\u73b0\uff1a</p> <pre><code>WARNING: The script lit is installed in '/home/zywang/.local/bin' which is not on PATH.\n</code></pre> <p>\u5e76\u4e14\u8fd0\u884c\u4e00\u4e9b\u547d\u4ee4\u4f1a\u627e\u4e0d\u5230\u3002\u5982\u5b89\u88c5jupyter\u540e\u8fd0\u884c<code>jupyter notebook</code> \uff0c\u53ef\u80fd\u4f1a\u62a5\u9519\uff1a</p> <pre><code>Jupyter command `jupyter-notebook` not found.\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p>1.\u6253\u5f00.bashrc\uff0c\u5c06\u9700\u8981\u7684\u53d8\u91cf\u5199\u5165\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e2d\uff1a</p> <pre><code>echo 'export PATH=\"$HOME/.local/bin:$PATH\"' &gt;&gt; ~/.bashrc\n</code></pre> <p>2.\u5e94\u7528\u73af\u5883\u53d8\u91cf</p> <pre><code>source ~/.bashrc\n</code></pre>"},{"location":"Content/codes/server/#6","title":"6 \u914d\u7f6e\u7f51\u7edc","text":"<ol> <li> <p>\u4e3b\u8981\u7f51\u53e3\uff1a\"2: enp4s0f0\"\uff0c\u6253\u5f00\u5c31\u53ef\u4ee5\u8bbf\u95ee\u6559\u80b2\u7f51\u3002\u9664lo\u7f51\u53e3\uff08loop\u56de\u73af\uff09\u5916\uff0c\u7f51\u53e3\u5747\u4e3a\u81ea\u52a8\u83b7\u53d6ip\u5730\u5740\u3002</p> </li> <li> <p>\u8bbf\u95ee\u6559\u80b2\u7f51\u5916\u7f51\u65b9\u6cd5\uff1a</p> </li> </ol> <pre><code># \u8fdb\u5165root\u8d26\u6237\nsudo -i\n# \u5207\u6362\u5230\u811a\u672c\u76ee\u5f55\ncd /home/jzhang/bin\n# \u4ee5\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00login\u6587\u4ef6\uff08\u6ca1\u6709\u540e\u7f00\u540d\uff09\nnano login\n# \u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\ncurl -X POST https://p.nju.edu.cn/api/portal/v1/login -H \"Content-type: application/json\" -d '{\"username\":\"\u7edf\u4e00\u9a8c\u8bc1\u8d26\u53f7\",\"password\":\"\u7edf\u4e00\u9a8c\u8bc1\u5bc6\u7801\"}'\n# Ctrl+W\u5199\u5165Ctrl+X\u5173\u95ed\uff0c\u8fd0\u884c\u811a\u672c\nrun ./login\n</code></pre>"},{"location":"Content/codes/server/#vpn","title":"\u4e09 VPN(\u4ee3\u7406)","text":""},{"location":"Content/codes/server/#1_2","title":"1 \u57fa\u672c\u4e0b\u8f7d\u4e0e\u4f7f\u7528","text":"<p>\u4f7f\u7528 clash for linux \u4e3a\u4e91\u670d\u52a1\u5668\u63d0\u4f9b\u4ee3\u7406</p> <p>clash for linux github address</p> <ol> <li> <p>\u4e0b\u8f7d <code>clash for linux</code></p> <p>\uff081\uff09\u4ecegithub\u4e0a\u4e0b\u8f7d</p> <pre><code>git clone https://github.com/wanhebin/clash-for-linux.git\n</code></pre> <p>\uff082\uff09\u4ecealiyunpan\u4e0a\u4e0b\u8f7d</p> </li> <li> <p>\u4fee\u6539\u8ba2\u9605\u4ee3\u7406URL</p> <pre><code>cd clash-for-linux\nvim .env\n</code></pre> <p>\u5728\u81ea\u5df1\u8ba2\u9605\u7684\u4ee3\u7406\u7f51\u7ad9\u4e0a\u83b7\u53d6 subscription URL\uff0c\u7c98\u8d34\u5230 <code>.env</code> \u6587\u4ef6\u7684 clash URL\uff0csecret\u4e00\u822c\u4e0d\u7528\u7ba1</p> </li> <li> <p>\u4f7f\u7528 <code>clash for linux</code></p> <pre><code>cd clash-for-linux\nbash start.sh\nsource /etc/profile.d/clash.sh\nproxy_on\n</code></pre> <p>\u6b63\u5e38\u5f39\u7a97\u4e3a\uff1a</p> <pre><code>\u6b63\u5728\u68c0\u6d4b\u8ba2\u9605\u5730\u5740...\nClash\u8ba2\u9605\u5730\u5740\u53ef\u8bbf\u95ee\uff01                                      [  OK  ]\n\n\u6b63\u5728\u4e0b\u8f7dClash\u914d\u7f6e\u6587\u4ef6...\n\u914d\u7f6e\u6587\u4ef6config.yaml\u4e0b\u8f7d\u6210\u529f\uff01                              [  OK  ]\n\n\u6b63\u5728\u542f\u52a8Clash\u670d\u52a1...\n\u670d\u52a1\u542f\u52a8\u6210\u529f\uff01                                             [  OK  ]\n\nClash Dashboard \u8bbf\u95ee\u5730\u5740\uff1ahttp://&lt;ip&gt;:9090/ui\nSecret\uff1axxxxxxxxxxxxx\n\n\u8bf7\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u52a0\u8f7d\u73af\u5883\u53d8\u91cf: source /etc/profile.d/clash.sh\n\n\u8bf7\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5f00\u542f\u7cfb\u7edf\u4ee3\u7406: proxy_on\n\n\u82e5\u8981\u4e34\u65f6\u5173\u95ed\u7cfb\u7edf\u4ee3\u7406\uff0c\u8bf7\u6267\u884c: proxy_off\n</code></pre> </li> <li> <p>\u68c0\u9a8c\u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u53ca\u662f\u5426\u5f00\u542f\u4ee3\u7406</p> <pre><code>$ env | grep -E 'http_proxy|https_proxy'\nhttp_proxy=http://127.0.0.1:7890 # \u4e0b\u9762\u4e24\u4e2a\u662fcmd\u8f93\u51fa\nhttps_proxy=http://127.0.0.1:7890\n</code></pre> <p>\u68c0\u67e5\u662f\u5426\u4ee3\u7406\u987a\u5229\uff1a</p> <pre><code>wget www.youtube.com\n</code></pre> <p>\u5982\u679c\u4e0d\u662f\u4e00\u76f4\u5728\u8fde\u63a5\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002</p> </li> </ol>"},{"location":"Content/codes/server/#2-ipynb","title":"2 ipynb\u6587\u4ef6\u4f7f\u7528","text":"<p>\u9996\u5148\u5728cmd\u4e2d\u6253\u5f00\u4ee3\u7406 proxy_on\uff0c\u7136\u540e\u5728\u7b2c\u4e00\u4e2a\u5355\u5143\u683c\u52a0\u5165\uff1a</p> <pre><code># \u5728 Jupyter Notebook \u4e2d\u8bbe\u7f6e\u4ee3\u7406\nimport os\n\nos.environ[\"http_proxy\"] = \"http://127.0.0.1:7890\" # \u8fd9\u51e0\u4e2aip\u5730\u5740\u8bbe\u7f6e\u4e3a\u4e0a\u9762 env | grep -E 'http_proxy|https_proxy'\u8f93\u51fa\u7684\u5730\u5740\nos.environ[\"https_proxy\"] = \"http://127.0.0.1:7890\"\nos.environ[\"all_proxy\"] = \"socks5://127.0.0.1:7890\" # \u8fd9\u4e2a\u53ef\u4ee5\u4e0d\u8981\n</code></pre>"},{"location":"Content/codes/server/#3-python","title":"3 python\u6587\u4ef6\u4f7f\u7528","text":"<p>\u9996\u5148\u5728cmd\u4e2d\u6253\u5f00\u4ee3\u7406 proxy_on\uff0c\u7136\u540e\u5728python\u4ee3\u7801\u4e2d\u52a0\u5165\uff1a</p> <pre><code>import requests\n\n# \u914d\u7f6e\u4ee3\u7406\nproxies = {\n    \"http\": \"http://127.0.0.1:7890\",\n    \"https\": \"http://127.0.0.1:7890\",\n}\n\n# \u6d4b\u8bd5\u8bf7\u6c42\ntry:\n    response = requests.get(\"https://www.google.com\", proxies=proxies)\n    print(\"\u4ee3\u7406\u6d4b\u8bd5\u6210\u529f\uff0c\u72b6\u6001\u7801\uff1a\", response.status_code)\nexcept Exception as e:\n    print(\"\u4ee3\u7406\u6d4b\u8bd5\u5931\u8d25\uff1a\", e)\n</code></pre>"},{"location":"Content/codes/server/#_1","title":"\u56db \u6570\u636e","text":""},{"location":"Content/codes/server/#1_3","title":"1 \u4e0a\u4f20\u6570\u636e","text":"<ol> <li>\u516c\u7f51\u7f51\u76d8\uff0c\u76f4\u63a5\u4f7f\u7528\u963f\u91cc\u4e91\u76d8\u3001\u767e\u5ea6\u7f51\u76d8\u4e0a\u4f20\u4e0b\u8f7d\u6570\u636e</li> <li>JupyterLab\u4e0a\u4f20\uff0c\u548c\u7f51\u76d8\u7c7b\u4f3c\uff0c\u4f18\u70b9\u7b80\u5355\uff0c\u4f46\u662f\u53ea\u652f\u6301\u6587\u4ef6\u4e0d\u652f\u6301\u6587\u4ef6\u5939</li> <li>scp\u547d\u4ee4\u652f\u6301\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u4e0a\u4f20\u4e0b\u8f7d\uff0c\u547d\u4ee4\u884c\u6267\u884c</li> <li>FileZilla\u8f6f\u4ef6\u652f\u6301\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u62d6\u62c9\u62fd\u5373\u53ef\u4e0a\u4f20\u4e0b\u8f7d\uff0c\u63a8\u8350\u4f7f\u7528</li> <li>XShell\u8f6f\u4ef6\u652f\u6301\u7ba1\u7406SSH\u8fde\u63a5\uff0c\u800c\u4e14\u96c6\u6210\u4e86xftp\uff0c\u652f\u6301\u62d6\u62c9\u62fd\u4e0a\u4f20\u4e0b\u8f7d\u6587\u4ef6\u5939/\u6587\u4ef6\uff0c\u63a8\u8350\u4f7f\u7528</li> </ol>"},{"location":"Content/codes/server/#2_1","title":"2 \u4e0b\u8f7d\u6570\u636e","text":"<ol> <li> <p>JupyterLab\u53ef\u4ee5\u4e0b\u8f7d\u6587\u4ef6\uff0c\u4f46\u662f\u4e0d\u80fd\u4e0b\u8f7d\u6587\u4ef6\u5939\uff0c\u597d\u5904\u662f\u7b80\u5355\u6613\u7528</p> </li> <li> <p>\u516c\u7f51\u7f51\u76d8\uff0c\u76f4\u63a5\u4f7f\u7528\u963f\u91cc\u4e91\u76d8\u3001\u767e\u5ea6\u7f51\u76d8\u4e0a\u4f20\u4e0b\u8f7d\u6570\u636e</p> </li> <li> <p>scp\u547d\u4ee4\u652f\u6301\u6587\u4ef6\u548c\u6587\u4ef6\u5939</p> <p>\u4e0b\u8f7d\u6587\u4ef6\uff1a</p> <pre><code>scp -P 40233 root@connect.westb.seetacloud.com:/root/data/result.txt ./\n</code></pre> <p>\u4e0b\u8f7d\u6587\u4ef6\u5939\uff1a</p> <pre><code>scp -P 40233 -r root@connect.westb.seetacloud.com:/root/data ./data_local_copy\n</code></pre> </li> </ol>"},{"location":"Content/codes/server/#-anaconda","title":"\u4e94 \u73af\u5883\u914d\u7f6e-anaconda","text":""},{"location":"Content/codes/server/#1-anaconda","title":"1 \u5b89\u88c5anaconda","text":"<p>\u5982\u679c\u5f53\u524d\u670d\u52a1\u5668\u6ca1\u6709anaconda\uff0c\u9700\u8981\u4e0b\u8f7d\u3002</p> <ul> <li>x86\u67b6\u6784</li> </ul> <p><code>uname -a</code> \u67e5\u770b\u67b6\u6784\u7c7b\u578b</p> <p>\u4e0b\u8f7d\u538b\u7f29\u5305\uff1a</p> <pre><code>wget https://repo.anaconda.com/archive/Anaconda3-2021.11-Linux-x86_64.sh\n</code></pre> <p>\u89e3\u538b\uff1a</p> <pre><code>bash Anaconda3-2021.11-Linux-x86_64.sh -b -p /fsa/home/ww_liuzh/anaconda\n</code></pre> <ul> <li>aarch64\u67b6\u6784\uff08\u534e\u4e3a\u670d\u52a1\u5668\uff09</li> </ul> <pre><code>wget -c https://repo.anaconda.com/archive/Anaconda3-2021.05-Linux-aarch64.sh\n</code></pre>"},{"location":"Content/codes/server/#2_2","title":"2 \u8bbe\u7f6e\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf","text":"<p>\u6253\u5f00.bashrc\uff0c\u5e76\u6dfb\u52a0\u8def\u5f84\u5230\u73af\u5883\u53d8\u91cf</p> <pre><code>vim .bashrc\n\n# \u6dfb\u52a0\uff1a\nexport PATH=\"/fsa/home/ww_liuzh/anaconda/bin:$PATH\"\n\n# \u6fc0\u6d3b\uff1a\uff08\u6211\u8001\u662f\u5fd8\u8bb0\uff09\nsource ~/.bashrc\n</code></pre>"},{"location":"Content/codes/server/#3_2","title":"3 \u521b\u5efa\u865a\u62df\u73af\u5883","text":"<pre><code># \u521b\u5efa\uff08\u81ea\u52a8\u7ee7\u627fbase\u6240\u6709\u5305\uff09\nconda create -n env_name python=3.10.14\n# \u521b\u5efa\uff08\u4e0d\u7ee7\u627f\u4efb\u4f55\u5305\uff09\nconda create --name env_name python=3.6.8 --no-default-packages\n# \u6fc0\u6d3b\nconda activate env_name\n# \u9000\u51fa\nconda deactivate\n# \u5217\u51fa\u73af\u5883\nconda list\n# \u5220\u6389\u73af\u5883\nconda env remove -n env_name\n# \u521b\u5efa\u73af\u5883\u6587\u4ef6\uff08conda\u7248\uff0cpip\u540c\u6837\u4f7f\u7528\u3002\u5b9e\u9645\u4e0a\uff0cpip\u4e5f\u4e00\u6837\uff09\nconda env export &gt; environment.yml\n# \u8fd8\u539f\u73af\u5883\nconda env create -f environment.yml\n</code></pre>"},{"location":"Content/codes/server/#4-jupyter-notebook","title":"4 \u5728jupyter notebook\u4e2d\u5f15\u7528\u865a\u62df\u73af\u5883","text":"<p>\u8fd0\u884cjupyter\u7684\u65f6\u5019\uff0c\u5982\u679c\u8981\u5f15\u7528\u67d0\u4e2aconda\u521b\u5efa\u7684\u865a\u62df\uff0c\u9700\u8981\u6dfb\u52a0\u67d0\u4e2a\u865a\u62df\u73af\u5883\u5230Kernel\uff0c\u89c1\uff1a</p> <p>https://zhuanlan.zhihu.com/p/160997771</p> <ol> <li>\u8fdb\u5165\u865a\u62df\u73af\u5883\uff08\u91cd\u8981\uff09</li> <li>\u5b89\u88c5ipykernel <pre><code>#conda\u5b89\u88c5\nconda install -c anaconda ipykernel\n# pip\u5b89\u88c5\u65b9\u6cd5\npip install ipykernel\n</code></pre></li> <li>\u5728ipykernel\u4e2d\u6dfb\u52a0\u865a\u62df\u73af\u5883\u540d\u79f0\uff0c--name\u540e\u9762\u5bf9\u5e94\u8bbe\u7f6e\u7684\u73af\u5883\u540d\u79f0 <pre><code>python -m ipykernel install --user --name=my_env\n</code></pre> <p>\u9644\uff1aipykernel\u76f8\u5173\u64cd\u4f5c 1. \u5217\u51fa\u5df2\u5b89\u88c5\u7684kernel:  <code>jupyter kernelspec list</code>\uff0c\u9644\u5e26\u6bcf\u4e2akernel\u6240\u5728\u8def\u5f84 2. \u67e5\u770b\u5236\u5b9akernel\u8def\u5f84: <code>jupyter kernelspec list | grep my_env</code></p> </li> </ol>"},{"location":"Content/codes/server/#docker","title":"\u516d DOCKER","text":""},{"location":"Content/codes/server/#1_4","title":"1 \u5e94\u7528\u573a\u666f","text":"<p>\u4f7f\u7528Docker\u5728\u8f7b\u91cf\u5e94\u7528\u670d\u52a1\u5668\u4e0a\u642d\u5efa\u5e94\u7528\u670d\u52a1\uff0c\u4f8b\u5982\uff1a</p> <ul> <li> <p>\u642d\u5efa\u4e2a\u4eba\u535a\u5ba2\u6216\u7f51\u7ad9\uff0c\u4f7f\u7528Docker\u53ef\u4ee5\u5feb\u901f\u90e8\u7f72Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u786e\u4fdd\u6bcf\u4e2a\u73af\u5883\u7684\u4e00\u81f4\u6027\u3002</p> </li> <li> <p>\u6784\u5efa\u5f00\u53d1\u73af\u5883\uff0cDocker\u53ef\u4ee5\u8f7b\u677e\u5730\u4e3a\u6bcf\u4e2a\u9879\u76ee\u521b\u5efa\u4e00\u4e2a\u9694\u79bb\u7684\u73af\u5883\uff0c\u786e\u4fdd\u5f00\u53d1\u5de5\u5177\u548c\u4f9d\u8d56\u9879\u7684\u4e00\u81f4\u6027\u3002</p> </li> <li> <p>\u90e8\u7f72\u6570\u636e\u5e93\u670d\u52a1\uff0c\u4f8b\u5982MySQL\u3001PostgreSQL\u7b49\uff0cDocker\u53ef\u4ee5\u7b80\u5316\u6570\u636e\u5e93\u7684\u5b89\u88c5\u548c\u914d\u7f6e\u8fc7\u7a0b\u3002</p> </li> </ul>"},{"location":"Content/codes/server/#2_3","title":"2 \u64cd\u4f5c","text":"<p><code>docker ps</code>\uff1a\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002 <code>docker start/stop</code>\uff1a\u542f\u52a8\u6216\u505c\u6b62\u5bb9\u5668\u3002 <code>docker rm</code>\uff1a\u5220\u9664\u5bb9\u5668\u3002 <code>docker logs</code>\uff1a\u67e5\u770b\u5bb9\u5668\u7684\u65e5\u5fd7\u3002 <code>docker exec</code>\uff1a\u5728\u5bb9\u5668\u5185\u6267\u884c\u547d\u4ee4\u3002  </p>"},{"location":"Content/codes/train/","title":"Starting Model Training from Git Clone","text":"<p>The storage address of 'train.py' is:</p> <pre><code>LHAI/LHAI/modeling/train.py\n</code></pre> <p>After understanding the basic functions of the LHAI source code structure (<code>data</code>, <code>docs</code>, <code>LHAI</code>, <code>saves</code> folders), you can begin training and inference.</p> <p>This page explains how to prepare and start training, beginning with <code>git clone</code>.</p>"},{"location":"Content/codes/train/#1-step-one-git-clone","title":"1. Step One: Git Clone","text":"<p>\u5148\u5b89\u88c5lfs\uff0c\u4ee5\u4e0b\u8f7d\u5927\u6587\u4ef6\uff08\u6570\u636e\uff09\uff1a</p> <pre><code>conda install -c conda-forge git-lfs\ngit lfs install\n</code></pre> <p>Run the following command to clone the code from the <code>Code</code> branch:</p> <pre><code>git clone --branch Code https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>Navigate to the cloned repository:</p> <pre><code>cd LHAI\n</code></pre>"},{"location":"Content/codes/train/#2-verify-the-project-structure","title":"2. Verify the Project Structure","text":"<p>Ensure the <code>LHAI</code> folder contains the following structure:</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- Open-source license (if applicable)\n\u251c\u2500\u2500 Makefile           &lt;- Utility commands, e.g., `make data` or `make train`\n\u251c\u2500\u2500 README.md          &lt;- Top-level README for developers\n\u251c\u2500\u2500 data               &lt;- Various types of data (recommended format: .npy)\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u251c\u2500\u2500 saves              &lt;- Stores images, loss data, trained models, and results\n\u2502   \u251c\u2500\u2500 FIGURE         &lt;- Training images\n\u2502   \u251c\u2500\u2500 PRE_FIG        &lt;- Inference images\n\u2502   \u251c\u2500\u2500 LOSS           &lt;- Loss data and plots (.npy/.png)\n\u2502   \u2514\u2500\u2500 MODEL          &lt;- Saved trained models\n\u251c\u2500\u2500 docs               &lt;- MkDocs project files (see www.mkdocs.org for details)\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks with standard naming conventions\n\u251c\u2500\u2500 pyproject.toml     &lt;- Project configuration (e.g., Black formatting)\n\u251c\u2500\u2500 references         &lt;- Data dictionaries, manuals, and other resources\n\u251c\u2500\u2500 reports            &lt;- Generated reports (HTML, PDF, LaTeX)\n\u2502   \u2514\u2500\u2500 figures        &lt;- Figures and plots for reports\n\u251c\u2500\u2500 requirements.txt   &lt;- Dependencies file (e.g., via `pip freeze`)\n\u251c\u2500\u2500 setup.cfg          &lt;- flake8 configuration\n\u2514\u2500\u2500 LHAI               &lt;- Source code\n    \u251c\u2500\u2500 config.py               &lt;- Configuration settings\n    \u251c\u2500\u2500 dataset.py              &lt;- Data generation/loading scripts\n    \u251c\u2500\u2500 features.py             &lt;- Feature generation\n    \u251c\u2500\u2500 modeling                &lt;- Model training and inference\n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- Inference code\n    \u2502   \u2514\u2500\u2500 train.py            &lt;- Training code\n    \u251c\u2500\u2500 models                  &lt;- Neural network models\n    \u251c\u2500\u2500 function                &lt;- Utilities for training/inference\n    \u2502   \u251c\u2500\u2500 Dataset.py          &lt;- Dataset loader\n    \u2502   \u251c\u2500\u2500 Log.py              &lt;- Logging utilities\n    \u2502   \u2514\u2500\u2500 Loss.py             &lt;- Loss functions\n    \u2514\u2500\u2500 plots.py                &lt;- Visualization code\n</code></pre>"},{"location":"Content/codes/train/#3-configure-python-environment","title":"3. Configure Python Environment","text":"<p>Ensure your system meets the requirements for machine learning tasks. Recommended environment setup(not matter if close):</p> <ul> <li>PyTorch: 2.1.0</li> <li>Python: 3.10 (Ubuntu 22.04)</li> <li>CUDA: 12.1</li> </ul> <p>Install dependencies using the provided file:</p> <pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"Content/codes/train/#4-prepare-data","title":"4. Prepare Data","text":"<p>Place your data in the appropriate folder under <code>data</code>. Update <code>config.py</code> to point to your dataset.</p> <p>For example, if your Poisson data is named <code>poisson_src_bkg.pkl.npy</code>, its path in <code>config.py</code> should be:</p> <pre><code>\"data\" / \"POISSON\" / \"poisson_src_bkg.pkl.npy\"\n</code></pre>"},{"location":"Content/codes/train/#5-prepare-neural-network-code","title":"5. Prepare Neural Network Code","text":"<p>Place your neural network code in the <code>models</code> folder. Update <code>config.py</code> to reference your model.</p> <p>For example, if your CNN model file is <code>CNN_EXP_0_1.py</code>, its path in <code>config.py</code> should be:</p> <pre><code>\"LHAI\" / \"models\" / \"CNN_EXP_0_1.py\"\n</code></pre>"},{"location":"Content/codes/train/#6-pre-train-for-debugging","title":"6. Pre-train for Debugging","text":"<p>Set a small number of <code>epochs</code> and a large <code>batch_size</code> to ensure the training process runs without issues.</p>"},{"location":"Content/codes/train/#7-start-training","title":"7. Start Training","text":"<p>Method 1: Configure parameters in <code>config.py</code> and run:</p> <pre><code>python train.py\n</code></pre> <p>Method 2: Use the <code>Typer</code> command-line interface for dynamic parameter setting:</p> <pre><code>python train.py --model-name \"GAN\" --exp-name \"MyExperiment\" --data-dir \"./data\" --data-name \"dataset.csv\" --seed 42 --traintype \"supervised\" --frac-train 0.8 --epochs 10 --batch-size 32 --latentdim 128 --lr-max 0.01 --lr-min 0.001\n</code></pre> <p>For details, refer to the Code Section in the LHAI manual.</p> <p>by Zihang Liu</p>"},{"location":"Content/data/","title":"\u6570\u636e\u4ecb\u7ecd\u4e0e\u89c4\u8303\u5316\u6807\u51c6","text":""},{"location":"Content/data/#1","title":"1 \u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\u4e0e\u5b58\u50a8\u65b9\u5f0f","text":"<p>\u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\uff1a</p> <pre><code>[\u6570\u636e\u96c6\u7b80\u5199]_[\u6570\u636e\u6570\u91cf]_[\u56fe\u7247\u5927\u5c0f]_[\u7528\u9014]_[\u9884\u5904\u7406]_[\u7248\u672c].npy\n</code></pre> <p>\u6570\u636e\u96c6\u5b58\u50a8\u65b9\u5f0f\u4ecb\u7ecd\uff1a</p> <p>\u672c\u6570\u636e\u96c6\u4ee5 NumPy \u6570\u7ec4\uff08.npy\uff09\u683c\u5f0f\u5b58\u50a8\uff0c\u6570\u636e\u7ed3\u6784\u4e3a\u56db\u7ef4\u6570\u7ec4 (N, 2, H, W)\uff0c\u5176\u4e2d N \u8868\u793a\u6837\u672c\u6570\u91cf\uff0cH \u548c W \u5206\u522b\u4e3a\u56fe\u50cf\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6\u3002\u6bcf\u4e2a\u6837\u672c\u5305\u542b\u4e00\u5bf9\u56fe\u50cf\uff0c\u6309\u987a\u5e8f\u5b58\u50a8\u4e3a\u6e05\u6670\u56fe\u50cf\u4e0e\u6a21\u7cca\u56fe\u50cf\uff0c\u5373\u7ef4\u5ea6\u7d22\u5f15\u4e3a 0 \u7684\u56fe\u50cf\u4e3a\u6e05\u6670\u56fe\uff08\u5982\u9ad8\u5206\u8fa8\u7387\u6216\u53c2\u8003\u56fe\uff09\uff0c\u7d22\u5f15\u4e3a 1 \u7684\u56fe\u50cf\u4e3a\u5bf9\u5e94\u7684\u6a21\u7cca\u56fe\uff08\u5982\u4f4e\u5206\u8fa8\u7387\u6216\u9000\u5316\u56fe\uff09\u3002</p> <p>\u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\u8bf4\u660e</p> \u5b57\u6bb5\u540d \u793a\u4f8b \u542b\u4e49\u8bf4\u660e <code>\u6570\u636e\u96c6\u7b80\u5199</code> <code>poisson</code> / <code>biosr</code> / <code>simu</code> \u6ce8\u610f\u4e00\u822c\u4e0d\u8981\u6709\u76f8\u540c\u7684\u4e24\u4e2a\u6570\u636e\u96c6\u7b80\u5199\u540d\u79f0 <code>\u6570\u636e\u6570\u91cf</code> <code>7000</code> / <code>12000</code> \u5f53\u524d\u6587\u4ef6\u4e2d\u5305\u542b\u7684\u56fe\u50cf\u5bf9\u6570\u91cf\uff0c\u4fbf\u4e8e\u5feb\u901f\u4e86\u89e3\u6570\u636e\u89c4\u6a21 <code>\u56fe\u7247\u5927\u5c0f</code> <code>64</code> / <code>128</code> \u5355\u5f20\u56fe\u50cf\u7684\u7a7a\u95f4\u5c3a\u5bf8\uff08\u9ad8 \u00d7 \u5bbd\uff09\uff0c\u9002\u7528\u4e8e\u6a21\u578b\u8f93\u5165\u914d\u7f6e <code>\u7528\u9014</code> <code>train</code> / <code>val</code> / <code>orig</code> \u6570\u636e\u7528\u9014\u6807\u8bb0\uff1a\u8bad\u7ec3\u96c6\u3001\u9a8c\u8bc1\u96c6\u6216\u539f\u59cb\u6570\u636e\u96c6 <code>\u9884\u5904\u7406</code> <code>norm</code> / <code>crop</code> / <code>none</code> \u6570\u636e\u662f\u5426\u7ecf\u8fc7\u5f52\u4e00\u5316\u3001\u88c1\u526a\u7b49\u9884\u5904\u7406\u64cd\u4f5c\uff0c\u82e5\u65e0\u9884\u5904\u7406\u53ef\u7701\u7565 <code>\u7248\u672c</code> <code>v1</code> / <code>v2.1</code> / <code>v3</code> \u6570\u636e\u96c6\u7248\u672c\u53f7\uff0c\u652f\u6301\u8fed\u4ee3\u7ef4\u62a4\u4e0e\u66f4\u65b0\u8ffd\u8e2a"},{"location":"Content/data/#2-lhai","title":"2 LHAI\u6570\u636e\u96c6\u4e0e\u4ecb\u7ecd","text":"<p>\u539f\u59cb\u6570\u636e\u96c6\uff1a</p> \u6587\u4ef6\u540d \u542b\u4e49\u8bf4\u660e \u521b\u5efa\u65f6\u95f4 <code>miragesearch_4200_140_orig.npy</code> \u8001\u5e08\u90a3\u8fb9\u6700\u65b0\u7684\u4e00\u7ec4\u539f\u59cb\u6a21\u62df\u6570\u636e <p>\u8bad\u7ec3\u96c6\uff08\u4ee5\u521b\u5efa\u65f6\u95f4\u6392\u5e8f\uff09\uff1a</p> \u6587\u4ef6\u540d \u542b\u4e49\u8bf4\u660e \u521b\u5efa\u65f6\u95f4 <code>biosr_41190_64_train_crop.npy</code> \u663e\u5fae\u56fe\u50cf\u6765\u6e90\uff0c\u7ea4\u6bdb <code>cilium_6512_64_train.npy</code> \u663e\u5fae\u56fe\u50cf\u6765\u6e90\uff0c\u8367\u5149\u5c0f\u7403 <code>cube_1504_64_train.npy</code> \u663e\u5fae\u56fe\u50cf\u6765\u6e902\uff0c\u8367\u5149\u5c0f\u7403 <code>pysted_5204_64_train.npy</code> \u663e\u5fae\u56fe\u50cf\u6765\u6e90\uff0c\u91cf\u5b50\u70b9 <code>tangxiao_7000_64_train.npy</code> \u5510\u6653\u6a21\u62df\u6570\u636e\u96c6 <code>halos_1200_64_train_crop.npy</code> \u4ea4\u5927\u6a21\u62df\u6570\u636e\u96c6 <code>xingwei_10000_64_train_v1.npy</code> \u661f\u7ef4\u6a21\u62df4\u8868\u5f81\u6570\u636e\u96c6 <p>\u6d4b\u8bd5\u96c6\uff1a</p> \u6587\u4ef6\u540d \u542b\u4e49\u8bf4\u660e \u521b\u5efa\u65f6\u95f4 <code>nhit100_1_64_val.npy</code> \u4e00\u5f202\u6e90\u7684\u7b80\u5355\u6d4b\u8bd5\u56fe\u7247\uff0cE=100 <code>nhit2000_1_64_val.npy</code> \u4e00\u5f202\u6e90\u7684\u7b80\u5355\u6d4b\u8bd5\u56fe\u7247\uff0cE=2000"},{"location":"Content/data/#3","title":"3 \u6570\u636e\u96c6\u76f8\u5173\u4ee3\u7801","text":""},{"location":"Content/data/#lhai-dataset","title":"LHAI Dataset\u6a21\u5757","text":"<p>\u5f52\u4e00\u5316\u4e3a[0,1]\uff1a</p> <pre><code>import torch\nfrom tifffile import tifffile\nimport matplotlib.pyplot as plt\nimport os\nimport numpy as np\nfrom PIL import Image\nfrom torch.utils.data import Dataset\nimport torchvision.transforms as transforms\nfrom torch.utils.data import DataLoader,random_split, ConcatDataset\n\nclass ImageDataset(Dataset):\n    def __init__(self, num_to_learn, path_data,inverse=False):\n        self.transform = transforms.Compose([\n            transforms.ToTensor(),\n        ])\n        self.data = []\n\n        if not os.path.exists(path_data):\n            raise FileNotFoundError(\"Blurry or Original data file not found.\")\n        datas = np.load(path_data,allow_pickle=True)#.astype(np.object)\n        blurry_datas = np.stack(datas[:,1])\n        original_datas = np.stack(datas[:,0])\n\n        if inverse == False:\n            idx_beg = 0;\n            idx_end = num_to_learn;\n        else:\n            idx_beg = blurry_datas.shape[0]-num_to_learn;\n            idx_end = blurry_datas.shape[0];\n\n        for i in range(idx_beg,idx_end):\n            blurry_data = blurry_datas[i]\n            original_data = original_datas[i]\n\n            img_blurry = (blurry_data - blurry_data.min()) / (blurry_data.max() - blurry_data.min())\n            img_original = (original_data - original_data.min()) / (original_data.max() - original_data.min())\n\n            img_blurry = Image.fromarray(img_blurry)\n            img_original = Image.fromarray(img_original)\n\n            img_blurry = self.transform(img_blurry)\n            img_original = self.transform(img_original)\n\n            self.data.append((img_blurry, img_original))\n\n    def __len__(self):\n        return len(self.data)\n\n    def __getitem__(self, index):\n        return self.data[index]\n</code></pre> <p>\u5f52\u4e00\u5316\u4e3a[-1,1]\uff1a</p> <pre><code>import torch\nfrom tifffile import tifffile\nimport matplotlib.pyplot as plt\nimport os\nimport numpy as np\nfrom PIL import Image\nfrom torch.utils.data import Dataset\nimport torchvision.transforms as transforms\nfrom torch.utils.data import DataLoader,random_split, ConcatDataset\n\nclass ImageDataset(Dataset):\n    def __init__(self, num_to_learn, path_data,inverse=False):\n        self.transform = transforms.Compose([\n            transforms.ToTensor(),\n        ])\n        self.data = []\n\n        if not os.path.exists(path_data):\n            raise FileNotFoundError(\"Blurry or Original data file not found.\")\n        datas = np.load(path_data,allow_pickle=True)#.astype(np.object)\n        blurry_datas = np.stack(datas[:,1])\n        original_datas = np.stack(datas[:,0])\n\n        if inverse == False:\n            idx_beg = 0;\n            idx_end = num_to_learn;\n        else:\n            idx_beg = blurry_datas.shape[0]-num_to_learn;\n            idx_end = blurry_datas.shape[0];\n\n        for i in range(idx_beg,idx_end):\n            blurry_data = blurry_datas[i]\n            original_data = original_datas[i]\n\n            img_blurry = 2 * (blurry_data - blurry_data.min()) / (blurry_data.max() - blurry_data.min()) - 1\n            img_original = 2 * (original_data - original_data.min()) / (original_data.max() - original_data.min()) - 1\n\n            #img_blurry = blurry_data/blurry_data.max()\n            #img_original = original_data/original_data.max()\n\n            img_blurry = Image.fromarray(img_blurry)\n            img_original = Image.fromarray(img_original)\n\n            img_blurry = self.transform(img_blurry)\n            img_original = self.transform(img_original)\n\n            self.data.append((img_blurry, img_original))\n\n    def __len__(self):\n        return len(self.data)\n\n    def __getitem__(self, index):\n        return self.data[index]\n</code></pre>"},{"location":"Content/data/#_2","title":"\u6570\u636e\u96c6\u89c4\u8303\u5316\u9884\u5904\u7406\u3001\u68c0\u67e5\u6a21\u5757","text":"<p>\u89c4\u8303\u5316\u9884\u5904\u7406\u6d41\u7a0b\uff1a\u56fe\u50cf\u5c3a\u5bf8\u7edf\u4e00\u5316 - \u6570\u636e\u96c6\u7070\u5ea6\u5316 - \u5f52\u4e00\u5316\u5904\u7406 - \u6570\u636e\u96c6\u6269\u5f20 - \u6570\u636e\u589e\u5f3a - \u91cd\u4f30\u6570\u636e/\u4f4e\u4fe1\u606f\u6570\u636e\u6e05\u7406</p> <p>\u68c0\u67e5\u6a21\u5757\uff1a\uff08\u6682\u5b9a\uff09</p>"},{"location":"Content/data/#_3","title":"\u5176\u4ed6\u4ee3\u7801\u9644\u4ef6","text":"<p>\u5c55\u793a\u6570\u636e\u96c6\u5927\u5c0f\u3001imshow\u90e8\u5206\u6570\u636e\uff1aimshow \u70b9\u51fb\u4e0b\u8f7d</p> <p>\u7531jpg\u7b49\u4e3b\u6d41\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\u8f6c\u6362\u4e3alhai\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\uff1a\uff08\u4ee3\u7801\u4e22\u5931\uff09</p> <p>\u5c06\u4e24\u4e2alhai\u6570\u636e\u96c6\u968f\u673a\u6df7\u5408\u8d77\u6765\uff1a\uff08\u4ee3\u7801\u4e22\u5931\uff09</p> <p>\u5c06\u5927\u4e8e64\u5c3a\u5bf8\u7684\u4ee3\u7801\u88c1\u526a\u4e3a64\uff1a\u4ee3\u7801\u4e22\u5931</p>"},{"location":"Content/data/simulation/","title":"Simulation","text":""},{"location":"Content/data/simulation/#introduction","title":"Introduction","text":"<p>For supervised training, we need two groups of data -- the intensity map and the counts map. </p> <p>The former is the target map, which refers to intrinsic flux distribution of the gamma-ray source. With the machine learning model, we aim at recover this intensity map from the observed counts map.</p> <p>The latter is the spacial event distribution detected by instruments, therefore affected by system error and random fluctuation. Both WCDA and KM2A have the problem of misclassifying cosmic ray events as gamma-ray events, thus there is also cosmic ray background. As a result of the direction reconstruction error, the morphology of gamma-ray source is affected by the spacial uncertainty and blurred with the point spread function (PSF). </p> <p>Therefore, in order to simulate the instrument response, we need to consider the gamma-ray background, the source intensity, localization uncertainty and also the cosmic ray background. At present we did not add the CR background. Instead, we assume the sample are pure gamma-ray events. Also, a practical method to imitate the localization error is to adopt a PSF, which is yield from atmospheric air shower Monte Carlo simulations. </p>"},{"location":"Content/data/simulation/#gamma-ray-background","title":"Gamma-ray Background","text":""},{"location":"Content/data/simulation/#diffusive-gamma-ray-background-model","title":"Diffusive Gamma-Ray Background Model","text":"<p>The diffusive gamma-ray background model published by Fermi LAT is derived from multi-wavelength observation of the diffusive gas in the galaxy. The original background data is saved in FITS, binned in 28 energy bins. We convert it into HEALPix data using Python package healpy. Now the angular resolution of the data (pixel width) is approximately \\(0.1\\deg\\). </p> <p></p> <p>By selecting different region on the all-sky map, we get the intensity map of the gamma-ray background. The selected pixels are then interpolated to the cartesian coordinate with pixel width \\(\\delta x = 0.1\\deg\\). For convenience, we select \\(6.5\\times 6.5\\deg\\) region, which result in \\(64\\times 64\\) array. </p>"},{"location":"Content/data/simulation/#point-spread-function","title":"Point Spread Function","text":"<p>The PSF assumption is a rough method and serves only for the preliminary attempts. By setting a symmetric PSF, we have assumed each events have the same localization error. In reality, this is not the case. The PSF is declination and energy dependent, and not necessarily symmetric.</p> <p>With a 2D convolution with PSF on the selected intensity map, we get the blurred sky map.</p> <p></p>"},{"location":"Content/data/simulation/#random-fluctuation","title":"Random Fluctuation","text":"<p>Now the sky map we have is still some kinds of blurred intensity map, as value of each pixel reflects the expectation value of counts number. Photos could be regarded as produced by random Poisson process. We did some sampling with the pixel value as parameter of a Poisson distribution to simulate the random photon fluctuation. The strength of fluctuation depends on observation duration. Longer exposure time means higher signal-to-noise ratio and better imaging quality and vice versa. </p> <p>by Xingwei Gong</p>"},{"location":"Content/data/tangxiao/","title":"Fermi\u6a21\u62df\u6570\u636e","text":""},{"location":"Content/data/tangxiao/#_1","title":"\u6570\u636e\u4ea7\u751f","text":""},{"location":"Content/data/tangxiao/#_2","title":"\u6570\u636e\u9884\u5904\u7406","text":""},{"location":"Content/data/tangxiao/#_3","title":"\u6570\u636e\u5b58\u50a8\u4e0e\u7ba1\u7406","text":""},{"location":"Content/data/xingwei/","title":"Fermi\u5168\u5929\u56fe\u6570\u636e","text":""},{"location":"Content/data/xingwei/#_1","title":"\u6570\u636e\u4ea7\u751f","text":""},{"location":"Content/data/xingwei/#_2","title":"\u6570\u636e\u9884\u5904\u7406","text":""},{"location":"Content/data/xingwei/#_3","title":"\u6570\u636e\u5b58\u50a8\u4e0e\u7ba1\u7406","text":""},{"location":"Content/eval/","title":"\u8bc4\u4f30\u4ecb\u7ecd\u4e0e\u89c4\u8303\u5316\u6807\u51c6","text":"<p>\u4e3a\u4e86\u4fdd\u8bc1\u8bc4\u4f30\u7684\u5168\u9762\uff0c\u5206\u4e3a\u51e0\u7c7b\u8bc4\u4f30\uff1a</p>"},{"location":"Content/eval/cnn/","title":"CNN\u8bc4\u4f30","text":""},{"location":"Content/eval/cnn/#default","title":"DEFAULT \u53c2\u6570","text":"<p>\u5e73\u5747\u6570\u636e\uff1a</p> <pre><code>Average PSNR (SR): 20.0534\nAverage PSNR (Input): 13.8421\nAverage SSIM (SR): 0.2433\nAverage SSIM (Input): 0.2661\nAverage MS-SSIM (SR): 0.5791\nAverage MS-SSIM (Input): 0.5331\nAverage MAE (SR): 0.0371\nAverage MAE (Input): 0.1158\nAverage MSE (SR): 0.0110\nAverage MSE (Input): 0.0418\nAverage NRMSE (SR): 0.1022\nAverage NRMSE (Input): 0.2038\n</code></pre>"},{"location":"Content/model/","title":"\u6a21\u578b\u4ecb\u7ecd\u4e0e\u89c4\u8303\u5316\u6807\u51c6","text":"<p>\u672c\u7bc7\u4ecb\u7ecd\u8d85\u5206\u8fa8\u5e38\u7528\u7684\u795e\u7ecf\u7f51\u7edc\u6280\u672f\uff0c\u5305\u62ec\uff1a</p> <ol> <li> <p><code>CNN</code> \u7f51\u7edc\u539f\u7406\u4e0e\u7ed3\u6784</p> </li> <li> <p><code>VAE</code> \u7f51\u8def\u539f\u7406\u4e0e\u7ed3\u6784</p> </li> <li> <p><code>GAN</code> \u7f51\u7edc\u539f\u7406\u4e0e\u7ed3\u6784</p> </li> <li> <p><code>ResNet</code> \u7f51\u7edc\u539f\u7406\u4e0e\u7ed3\u6784</p> </li> <li> <p><code>DIFFUSION</code> \u7f51\u7edc\u539f\u7406\u4e0e\u7ed3\u6784</p> </li> <li> <p><code>Transformer</code> \u7f51\u7edc\u539f\u7406\u4e0e\u7ed3\u6784</p> </li> <li> <p>\u7279\u6b8a\u67b6\u6784\u6a21\u578b</p> </li> </ol> <p>\u6a21\u578b\u547d\u540d\u89c4\u5219\u683c\u5f0f:</p> <pre><code>[\u6a21\u578b\u67b6\u6784]_[\u5b9e\u9a8c\u4ee3\u53f7]_[\u8bad\u7ec3\u8f6e\u6570]epo_[\u6279\u5927\u5c0f]bth_[\u6570\u636e\u96c6\u7b80\u5199]_[\u7248\u672c].pth\n</code></pre> <p>\u5b57\u6bb5\u8bf4\u660e:</p> \u5b57\u6bb5\u540d \u793a\u4f8b \u542b\u4e49\u8bf4\u660e \u6a21\u578b\u67b6\u6784 <code>CNN</code> / <code>DIFFUSION</code> / <code>ResNet</code> \u7f51\u7edc\u6a21\u578b\u540d\u79f0\uff0c\u4fbf\u4e8e\u5feb\u901f\u8bc6\u522b\u6240\u7528\u67b6\u6784 \u5b9e\u9a8c\u4ee3\u53f7 <code>EXP01</code> \u8bad\u7ec3\u5b9e\u9a8c\u7684\u7f16\u53f7\u6216\u6807\u7b7e\uff0c\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u5b9e\u9a8c \u8bad\u7ec3\u8f6e\u6570 <code>400epo</code> \u8bad\u7ec3\u7684 epoch \u6570\uff0c\u4fbf\u4e8e\u8bc6\u522b\u8bad\u7ec3\u65f6\u957f \u6279\u5927\u5c0f <code>32bth</code> \u6279\u6b21\u5927\u5c0f\uff0c\u8868\u793a\u4e00\u6b21\u8bad\u7ec3\u8fed\u4ee3\u4e2d\u4f7f\u7528\u7684\u6837\u672c\u6570\u91cf \u6570\u636e\u96c6\u7b80\u5199 <code>poisson</code> \u8bad\u7ec3\u6570\u636e\u96c6\u6587\u4ef6\u540d\u7b80\u5199\uff0c\u4fbf\u4e8e\u5feb\u901f\u5173\u8054\u6570\u636e\u96c6 \u7248\u672c\u53f7 <code>v1</code> / <code>v2</code> \u6a21\u578b\u7248\u672c\u53f7\uff0c\u4fbf\u4e8e\u6a21\u578b\u8fed\u4ee3\u66f4\u65b0\u53ca\u7248\u672c\u7ba1\u7406\uff08\u53ef\u7701\u7565\uff09 <p>\u793a\u4f8b:</p> <pre><code>CNN_EXP01_400epo_32bth_poisson.pth\n</code></pre> <p>\u6a21\u578b\u5b58\u50a8\u65b9\u5f0f\u4ecb\u7ecd:</p> <p>\u672c\u6a21\u578b\u4ee5 PyTorch \u7684 <code>.pth</code> \u683c\u5f0f\u5b58\u50a8\uff0c\u5305\u542b\u8bad\u7ec3\u597d\u7684\u6743\u91cd\u53c2\u6570\uff0c\u547d\u540d\u89c4\u5219\u53cd\u6620\u4e86\u6a21\u578b\u7684\u67b6\u6784\u3001\u8bad\u7ec3\u914d\u7f6e\u4e0e\u5bf9\u5e94\u6570\u636e\u96c6\uff0c\u65b9\u4fbf\u7248\u672c\u7ba1\u7406\u548c\u5feb\u901f\u5b9a\u4f4d\u3002</p> <p>\u5728\u4ee3\u7801\u914d\u7f6e\u4e2d\u7684\u89c4\u8303\u5199\u6cd5\u793a\u4f8b:</p> <pre><code>TRAIN_EXP_NAME        = \"EXP_0_1\"\nTRAIN_MODEL_NAME      = \"CNN\"\nTRAIN_MODEL_PY        = PROJ_ROOT / \"LHAI\" / \"models\" / f\"{TRAIN_MODEL_NAME}_{TRAIN_EXP_NAME}.py\"\nTRAIN_DATA_DIR        = PROJ_ROOT / \"data\" / \"POISSON\"\nTRAIN_DATA_NAME       = \"poisson_src_bkg.pkl.npy\"\nTRAIN_DATA_PATH       = TRAIN_DATA_DIR / TRAIN_DATA_NAME\nTRAIN_SEED            = 0\nTRAIN_TYPE            = \"poissonsrc+bkg_highresorig\"\nTRAIN_FRAC            = 0.8\nTRAIN_EPOCHS          = 400\nTRAIN_BATCH_SIZE      = 32\nTRAIN_LATENT_DIM      = 64\nTRAIN_LR_MAX          = 5e-4\nTRAIN_LR_MIN          = 5e-6\n</code></pre>"},{"location":"Content/others/1/","title":"\u52a0\u5165\u6587\u6863\u6307\u5bfc","text":""},{"location":"Content/others/1/#lhaigit","title":"LHAI\u7684git\u8fde\u63a5","text":""},{"location":"Content/others/1/#_2","title":"\u4f5c\u4e3a\u521b\u59cb\u8005","text":""},{"location":"Content/others/1/#collaborator","title":"\u4f5c\u4e3acollaborator","text":"<p>\u524d\u7f6e\u6761\u4ef6\uff1agit\u3001\u68af\u5b50\u3001python3.10\u4ee5\u4e0a</p> <ol> <li> <p>\u521b\u5efa\u672c\u5730\u4ed3\u5e93\uff0c\u4e0egit\u4ed3\u5e93\u8fde\u63a5</p> <p>\uff081\uff09\u521b\u5efa\u4e00\u4e2a\u7a7a\u767d\u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u5b58\u50a8\u6587\u6863\u672c\u5730\u6587\u4ef6</p> <p>\uff082\uff09\u514b\u9686github\u9879\u76ee\u6587\u6863\uff1a</p> <pre><code>git clone https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>\u8fd9\u4e00\u6b65\u5f88\u5927\u6982\u7387\u4f1a\u62a5\u9519\uff0c\u662f\u521d\u59cb\u73af\u5883\u8bbe\u7f6e\u7684\u95ee\u9898\uff1b\u6839\u636e\u5177\u4f53\u62a5\u9519\u5177\u4f53\u89e3\u51b3</p> </li> <li> <p>\u62ff\u5230\u9879\u76ee\u7528\u6237\u624b\u518c\u6587\u4ef6 LHAI \u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u67e5\u770b\uff1a</p> <p>\uff081\uff09\u7528\u6237\u624b\u518c\u57fa\u4e8emkdocs\u6784\u5efa\u3002\u9996\u5148\u662fmkdocs\u7684\u73af\u5883\uff1a</p> <pre><code>pip install mkdocs\n\npip install mkdocs-material\n\npip install pymdown-extensions\n</code></pre> <p>\u4ee5\u4e0a\u4e09\u4e2a\u662f\u4e3b\u8981\u7684\u73af\u5883\uff0c\u8fd8\u6709\u4e00\u4e9b\u63d2\u4ef6\uff0c\u6839\u636e\u62a5\u9519\u5dee\u54ea\u4e9b\u5c31\u5b89\u88c5\u54ea\u4e9b\uff0c\u77e5\u9053\u53ef\u4ee5\u8fd0\u884c\uff1a</p> <pre><code>mkdocs serve\n</code></pre> </li> <li> <p>\u4fee\u6539\u7528\u6237\u624b\u518c</p> <p>\uff081\uff09\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u4fee\u6539</p> <p>\uff082\uff09mkdocs.yml \u6587\u4ef6\u5b58\u50a8\u4e86\u6240\u6709\u7684\u914d\u7f6e\u4fe1\u606f\u3001\u7f51\u9875\u7ed3\u6784\u4fe1\u606f</p> <p>\uff083\uff09\u5177\u4f53mkdocs\u6559\u7a0b\u67e5\u770b\uff1a</p> <p>https://mkdocs-like-code.readthedocs.io/zh-cn/latest/</p> </li> <li> <p>\u786e\u8ba4\u81ea\u5df1\u4fee\u6539\u6ca1\u95ee\u9898\u540e\uff0c\u4e0a\u4f20\u5230 github\uff0c\u4e0a\u4f20\u5230 github-pages</p> <p>\uff081\uff09\u4e0a\u4f20github\u8fde\u62db\uff1a</p> <pre><code>git add .\n\ngit commit -m \"\u82f1\u6587\u586b\u5199\u4fee\u6539\u65e5\u5fd7\"\n\ngit push\n</code></pre> <p>\uff082\uff09\u4e0a\u4f20github-pages\uff1a</p> <pre><code>mkdocs gh-deploy\n</code></pre> </li> <li> <p>\u5e73\u5e38\u5de5\u4f5c\u6d41\u7a0b</p> <p>\u7531\u4e8e\u662f\u591a\u4eba\u534f\u540c\uff0c\u5171\u540c\u7ba1\u7406\u5f62\u5f0f\uff0c\u9700\u8981\u6bcf\u4e2a\u4eba\u9ed8\u5951\u914d\u5408\uff0c\u5e76\u5f62\u6210\u4e25\u8c28\u7684\u4fee\u6539\u89c4\u5219\u3002\u5de5\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p>\uff081\uff09\u81ea\u5df1\u8fdb\u884c\u4e86\u4e00\u4e9b\u5de5\u4f5c\uff0c\u5728\u81ea\u5df1\u672c\u5730\u5199\u4e86\u65b0\u7684\u5185\u5bb9</p> <p>\uff082\uff09\u540c\u6b65github\u7684\u7248\u672c\uff1a</p> <p><pre><code>git pull\n</code></pre> \u8fd9\u4e00\u6b65\u4f1a\u5c06github\u4e0a\u6700\u65b0\u7684\u7248\u672c\u62c9\u53d6\u5230\u81ea\u5df1\u672c\u5730\uff0c\u4f46\u53ea\u4f1a\u5bf9\u4fee\u6539\u8fc7\u7684\u90e8\u5206\u8fdb\u884c\u66f4\u6539\uff0c\u4e0d\u4f1a\u628a\u4f60\u521b\u5efa\u7684\u65b0\u7684\u672c\u5730\u6587\u6863\u8986\u76d6\u6d88\u9664\u6389</p> <p>\uff083\uff09\u8fdb\u884cgithub\u4e0a\u4f20</p> <p>\uff084\uff09\u8fdb\u884cgithub-pages\u4e0a\u4f20</p> <p>\u8bf7\u9075\u5b88\u8fd9\u6837\u7684\u5de5\u4f5c\u6d41\u7a0b</p> </li> </ol>"},{"location":"Content/others/GP/","title":"\u7ec4\u4f1a\u4e0e\u8fdb\u5c55","text":""},{"location":"Content/others/GP/#_2","title":"\u7ec4\u4f1a\u4e09","text":"<p>\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u8fdb\u884c\u4f18\u5316\uff1a</p> <ol> <li> <p>Model</p> <p>\uff081\uff09\u5c1d\u8bd5transformer</p> <p>\uff082\uff09\u5c1d\u8bd5resnet\uff08\u6b8b\u5dee\u7f51\u7edc\uff09</p> </li> <li> <p>LOSS</p> <p>\uff081\uff09\u5e94\u5bf9\u9ad8/\u4f4e\u6d41\u5f3a\u5dee\u7684\u60c5\u51b5\uff1a\u52a0\u5165log loss</p> <p>\uff082\uff09\u6bcf\u4e2a\u683c\u70b9\u90fd\u4e0d\u8981\u5dee\u8fc710%\uff1a\u52a0\u6846\u65b9\u5dee</p> <p>\uff083\uff09\u52a0\u5165\u7269\u7406\u673a\u5236/\u7ea6\u675f\uff1aLOSS\u52a0\u7269\u7406\u673a\u5236\u9650\u5236\uff08\u975e\u5e38FURTHER\uff09</p> </li> <li> <p>Data</p> </li> <li> <p>Evaluation</p> <p>\uff081\uff09\u52a0\u4e2a\u6846\u518d\u8fdb\u884c\u8bc4\u4f30\uff0c\u9a8c\u8bc1LOSS-\uff082\uff09\u7684\u6548\u679c</p> <p>\uff082\uff09\u6839\u636e\u4eba\u5de5\u6253\u5206\u6807\u7b7e\uff0c\u8bad\u7ec3\u51fa evaluation model\uff08\u975e\u5e38FURTHER\uff09</p> </li> <li> <p>\u8bad\u7ec3\u673a\u5236\uff1a\u534a\u76d1\u7763\u65b9\u6cd5</p> <p>\uff081\uff09\u81ea\u6211\u5faa\u73af\u8fed\u4ee3\u534a\u76d1\u7763</p> <p>\uff082\uff09\u6839\u636e\u4eba\u5de5\u6253\u5206\u6807\u7b7e\uff0c\u8bad\u7ec3\u51fa evaluation model\uff1b\u6839\u636eeval model\u8fdb\u884c\u5927\u91cf\u6570\u636e\u96c6\u751f\u6210\uff1b\u8fdb\u884c\u5faa\u73af\u8bad\u7ec3\uff08input data\u8db3\u591f\u591a\uff09</p> </li> </ol>"},{"location":"Content/others/GP/#624","title":"\u7ec4\u4f1a\u56db 6\u670824\u65e5","text":"<p>\u4e3b\u8981\u5185\u5bb9\uff1a\u661f\u7ef4\u3001\u9648\u529b\u7430\u3001\u80e1\u6b23\u96e8\u3001\u5218\u6893\u822a\u9636\u6bb5\u6027\u603b\u7ed3\u4e4b\u524d\u5de5\u4f5c\u8fdb\u5c55\uff0c\u5e76\u8fdb\u884c\u672a\u6765\u5c55\u671b</p> <p>\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u8fdb\u884c\u4f18\u5316\uff1a</p> <ol> <li> <p>Model</p> <p>\uff081\uff09\u5c1d\u8bd5transformer</p> <p>\uff082\uff09\u5c1d\u8bd5resnet\uff08\u6b8b\u5dee\u7f51\u7edc\uff09</p> </li> <li> <p>LOSS</p> <p>\uff081\uff09\u5e94\u5bf9\u9ad8/\u4f4e\u6d41\u5f3a\u5dee\u7684\u60c5\u51b5\uff1a\u52a0\u5165log loss</p> <p>\uff082\uff09\u6bcf\u4e2a\u683c\u70b9\u90fd\u4e0d\u8981\u5dee\u8fc710%\uff1a\u52a0\u6846\u65b9\u5dee</p> <p>\uff083\uff09\u52a0\u5165\u7269\u7406\u673a\u5236/\u7ea6\u675f\uff1aLOSS\u52a0\u7269\u7406\u673a\u5236\u9650\u5236\uff08\u975e\u5e38FURTHER\uff09</p> </li> <li> <p>Data</p> <p>\uff081\uff09\u6574\u7406\u76ee\u524d\u7684\u8bad\u7ec3-\u9a8c\u8bc1Dataset\uff0c\u76ee\u524d\u6570\u636e\u6709\u70b9\u592a\u4e71\uff0c\u5efa\u7acb\u6570\u636e\u5e93</p> <p>\uff082\uff09\u6570\u636e\u96c6\u6e05\u6d17\u5de5\u4f5c\u3002\u5efa\u7acb\u6570\u636e\u9884\u5904\u7406\u6d41\u7a0b\u6846\u67b6</p> </li> <li> <p>Evaluation</p> <p>\uff081\uff09\u52a0\u4e2a\u6846\u518d\u8fdb\u884c\u8bc4\u4f30\uff0c\u9a8c\u8bc1LOSS-\uff082\uff09\u7684\u6548\u679c</p> <p>\uff082\uff09\u6839\u636e\u4eba\u5de5\u6253\u5206\u6807\u7b7e\uff0c\u8bad\u7ec3\u51fa evaluation model\uff08\u975e\u5e38FURTHER\uff09</p> </li> <li> <p>\u8bad\u7ec3\u673a\u5236\uff1a\u534a\u76d1\u7763\u65b9\u6cd5</p> <p>\uff081\uff09\u81ea\u6211\u5faa\u73af\u8fed\u4ee3\u534a\u76d1\u7763</p> <p>\uff082\uff09\u6839\u636e\u4eba\u5de5\u6253\u5206\u6807\u7b7e\uff0c\u8bad\u7ec3\u51fa evaluation model\uff1b\u6839\u636eeval model\u8fdb\u884c\u5927\u91cf\u6570\u636e\u96c6\u751f\u6210\uff1b\u8fdb\u884c\u5faa\u73af\u8bad\u7ec3\uff08input data\u8db3\u591f\u591a\uff09</p> </li> <li> <p>Structure</p> <p>\u73b0\u5728\u6a21\u578b\u6709\u70b9\u6742\u591a\uff0c\u60f3\u4e2a\u529e\u6cd5\u628a\u4e0d\u540c\u7684\u7b97\u6cd5\u641e\u5230\u540c\u4e00\u4e2a\u6846\u67b6\u91cc\u53bb\uff08\u975e\u5e38\u91cd\u8981\u4e14\u6025\u8feb\uff09</p> </li> </ol>"},{"location":"blog/","title":"Blog","text":""},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#lhai-user-manual","title":"LHAI User Manual","text":""},{"location":"changelog/#1.0.3","title":"1.0.3 January 14, 2025","text":"<ul> <li>Added content <code>Code Section/SERVER</code></li> <li>Added content <code>Code Section/TRAIN</code></li> <li>Added content <code>Code Section/PREDICT</code></li> <li>Added content <code>Code Section/EVALUATION</code></li> </ul>"},{"location":"changelog/#1.0.2","title":"1.0.2 January 13, 2025","text":"<ul> <li>LHAI Progress: Added an evaluation module for comprehensive and intuitive model assessment. (<code>LHAI/evaluation.py</code>)</li> </ul>"},{"location":"changelog/#1.0.1","title":"1.0.1 January 13, 2025","text":"<ul> <li>LHAI Progress: Introduced new models for application and training in <code>LHAI/LHAI/model</code>:</li> <li>CNN-based (Residual + Recursive): CARN, DRCN, DRRN, EDSR, ESPCN, FSRCNN, IDN, LapSRN, SRCNN, VDSR</li> <li>GAN-based: CGAN, SRGAN</li> <li>DenseNet-based: SRDenseNet</li> <li>Diffusion-based: SR3 (Super-Resolution via Repeated Refinement)</li> </ul>"},{"location":"changelog/#1.0.0","title":"1.0.0 January 12, 2025","text":"<p>Great updates</p> <ul> <li>LHAI Progress: Completed industrialization of the code and released on LHAI</li> <li>Added content <code>Code Section/index</code></li> <li>Added content <code>Code Section/DATA</code></li> <li>Added content <code>Code Section/DOCS</code></li> <li>Added content <code>Code Section/LHAI</code></li> <li>Added content <code>Code Section/SAVES</code></li> <li>Added content <code>Code Section/TRAIN</code></li> <li>Added functionality: Chinese-English language switching</li> <li>Added functionality ChangeLog <code>Others Section/ChangeLog</code></li> <li>Fix bug: The content of language conversion on the homepage is missing</li> </ul>"},{"location":"changelog/#0.2.3","title":"0.2.3 January 1, 2025","text":"<ul> <li>Added content: <code>Data Section/simulation</code></li> <li>Added content: <code>Others Section/HowtoBeCollaborator</code></li> </ul>"},{"location":"changelog/#0.2.2","title":"0.2.2 December 20, 2024","text":"<ul> <li>Added content: <code>Homepage</code></li> <li>Added content: <code>Data Section/index</code></li> <li>Added content: <code>Network Section/index</code></li> <li>Added content: <code>Eval Section/index</code></li> <li>Added content: <code>Code Section/index</code></li> <li>Added content: <code>Others Section</code></li> </ul>"},{"location":"changelog/#0.2.1","title":"0.2.1 December 20, 2024","text":"<ul> <li>Completed homepage layout</li> <li>Finalized overall style</li> </ul>"},{"location":"changelog/#0.2.0","title":"0.2.0 December 10, 2024","text":"<ul> <li>Selected MkDocs template</li> <li>Decided on the user manual name: LHAI User Manual</li> <li>Finalized the structure of the manual content</li> </ul>"},{"location":"changelog/#0.1.0","title":"0.1.0 December 1, 2024","text":"<ul> <li>First release</li> </ul>"},{"location":"changelog/#0.0.0","title":"0.0.0 November 24, 2024","text":"<ul> <li>Completed initial super-resolution using FERMI simulation data</li> <li>Participated in the Second LHAASO Collaboration Conference in 2024</li> <li>Decided to create a user manual</li> </ul>"},{"location":"prompt/1/","title":"\u63d0\u793a\u8bcd - \u6839\u636e\u4ee3\u7801\u751f\u6210\u6587\u6863","text":""},{"location":"zh/Content/codes/","title":"\u4ee3\u7801\u90e8\u5206","text":"<p>\u672c\u8282\u5c06\u8be6\u7ec6\u8bf4\u660e\u4ee3\u7801\u7684\u7ed3\u6784\uff0c\u8bad\u7ec3\u6570\u636e\u548c\u6d4b\u8bd5\u6a21\u578b\u7684\u5b58\u653e\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u5982\u4f55\u5f00\u59cb\u8bad\u7ec3\u548c\u63a8\u7406\u3002</p> <p>\u4ee3\u7801\u7684\u603b\u4f53\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- Open-source license if one is chosen\n\u251c\u2500\u2500 Makefile           &lt;- Makefile with convenience commands like `make data` or `make train`\n\u251c\u2500\u2500 README.md          &lt;- The top-level README for developers using this project.\n\u251c\u2500\u2500 data               &lt;- Different types of data. (Recommended to upload with npy formation)\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u2502\n\u251c\u2500\u2500 saves             &lt;- Figure/Loss saves, Trained and Serialized models, model Predictions, .\n\u2502   \u251c\u2500\u2500 FIGURE        &lt;- Figure saves in training.\n\u2502   \u2502\u2500\u2500 PRE_FIG       &lt;- Figure saves in predicting.\n\u2502   \u251c\u2500\u2500 LOSS          &lt;- LOSS data(.npy) and LOSS Figure(.png) saves in training.\n\u2502   \u2514\u2500\u2500 MODEL         &lt;- Trained and Serialized models.\n\u2502\n\u251c\u2500\u2500 docs               &lt;- A default mkdocs project; see www.mkdocs.org for details\n\u2502\n\u2502\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks. Naming convention is a number (for ordering),\n\u2502                         the creator's initials, and a short `-` delimited description, e.g.\n\u2502                         `1.0-jqp-initial-data-exploration`.\n\u2502\n\u251c\u2500\u2500 pyproject.toml     &lt;- Project configuration file with package metadata for \n\u2502                         LHAI and configuration for tools like black\n\u2502\n\u251c\u2500\u2500 references         &lt;- Data dictionaries, manuals, and all other explanatory materials.\n\u2502\n\u251c\u2500\u2500 reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.\n\u2502   \u2514\u2500\u2500 figures        &lt;- Generated graphics and figures to be used in reporting\n\u2502\n\u251c\u2500\u2500 requirements.txt   &lt;- The requirements file for reproducing the analysis environment, e.g.\n\u2502                         generated with `pip freeze &gt; requirements.txt`      \n\u2502\n\u251c\u2500\u2500 setup.cfg          &lt;- Configuration file for flake8\n\u2502\n\u2514\u2500\u2500 LHAI   &lt;- Source code for use in this project.\n    \u2502\n    \u251c\u2500\u2500 __init__.py             &lt;- Makes LHAI a Python module\n    \u2502\n    \u251c\u2500\u2500 config.py               &lt;- Store useful variables and configuration\n    \u2502\n    \u251c\u2500\u2500 evaluation.py              &lt;- 3 different methods to evaluation trained models.\n    \u2502\n    \u251c\u2500\u2500 modeling                \n    \u2502   \u251c\u2500\u2500 __init__.py \n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- Code to run model inference with trained models          \n    \u2502   \u2514\u2500\u2500 train.py            &lt;- Code to train models\n    \u2502\n    \u251c\u2500\u2500 models                  &lt;- Neural network model code.\n    \u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- Modelname_Experimentnumber.py\n    \u2502\n    \u2514\u2500\u2500 function             &lt;- Functions used in training and predicting processes.\n       \u251c\u2500\u2500 Dataset.py        &lt;- Function used in loading Dataset.\n       \u251c\u2500\u2500 Log.py            &lt;- Function used in Logging.\n       \u2514\u2500\u2500 Loss.py           &lt;- Function used in Loss generating.\n</code></pre> <p>\u6211\u4eec\u5c06\u4e3b\u8981\u8ba8\u8bba\u4ee5\u4e0b\u90e8\u5206\uff1a</p> <ol> <li><code>data</code> \u6587\u4ef6\u5939\uff1a\u5b58\u653e\u8bad\u7ec3\u6570\u636e\u3002</li> <li><code>docs</code> \u6587\u4ef6\u5939\uff1a\u5305\u542bLHAI\u7528\u6237\u624b\u518c\u3002</li> <li><code>LHAI</code> \u6587\u4ef6\u5939\uff1a\u5b58\u653e\u9879\u76ee\u4ee3\u7801\u3002</li> <li><code>saves</code> \u6587\u4ef6\u5939\uff1a\u5b58\u653e\u5df2\u8bad\u7ec3/\u63a8\u7406\u7684\u6a21\u578b\u53ca\u5176\u7ed3\u679c\u3002</li> </ol>"},{"location":"zh/Content/codes/data/","title":"LHAI \u9879\u76ee\u4ee3\u7801\uff1a<code>data</code> \u6587\u4ef6\u5939","text":"<p><code>data</code> \u6587\u4ef6\u5939\u7528\u4e8e\u5b58\u50a8\u8bad\u7ec3\u3001\u63a8\u7406\u548c\u8bc4\u4f30\u6240\u9700\u7684\u6570\u636e\u96c6\u3002\u5176\u7ed3\u6784\u6e05\u6670\uff0c\u6309\u6570\u636e\u7c7b\u578b\u7ec4\u7ec7\uff0c\u4ee5\u4fbf\u4e8e\u8bbf\u95ee\u548c\u7248\u672c\u7ba1\u7406\u3002  </p>"},{"location":"zh/Content/codes/data/#_1","title":"\u6587\u4ef6\u5939\u7ed3\u6784","text":"<pre><code>\u251c\u2500\u2500 data               &lt;- \u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\uff08\u5efa\u8bae\u4ee5 `.npy` \u683c\u5f0f\u4e0a\u4f20\uff09\n    \u251c\u2500\u2500 FERMI          &lt;- \u4e0e Fermi \u89c2\u6d4b\u6216\u6a21\u62df\u76f8\u5173\u7684\u6570\u636e\u96c6\n    \u251c\u2500\u2500 POISSON        &lt;- \u7528\u4e8e\u7edf\u8ba1\u5206\u6790\u6216\u5efa\u6a21\u7684\u6cca\u677e\u5206\u5e03\u6570\u636e\u96c6\n    \u251c\u2500\u2500 SIMU           &lt;- \u7528\u4e8e\u6a21\u62df\u76ee\u7684\u7684\u5408\u6210\u6570\u636e\n    \u2514\u2500\u2500 RAW            &lt;- \u4ece\u5b9e\u9a8c\u6216\u5916\u90e8\u6765\u6e90\u76f4\u63a5\u83b7\u53d6\u7684\u672a\u5904\u7406\u539f\u59cb\u6570\u636e\n</code></pre>"},{"location":"zh/Content/codes/data/#_2","title":"\u6587\u4ef6\u5939\u8be6\u60c5","text":""},{"location":"zh/Content/codes/data/#fermi","title":"FERMI","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5305\u542b\u6765\u81ea Fermi Gamma \u5c04\u7ebf\u7a7a\u95f4\u671b\u8fdc\u955c\u7684\u89c2\u6d4b\u6570\u636e\u6216\u76f8\u5173\u7684\u6a21\u62df\u6570\u636e\u96c6\u3002  </li> <li>\u7528\u9014\uff1a\u7528\u4e8e\u4f3d\u9a6c\u5c04\u7ebf\u7814\u7a76\u7684\u9884\u5904\u7406\u6d41\u7a0b\u6216\u8bad\u7ec3\u6a21\u578b\u3002  </li> <li>\u793a\u4f8b\uff1a  </li> <li><code>FERMI_2024_observations.npy</code>\uff1a2024 \u5e74\u89c2\u6d4b\u671f\u7684\u9884\u5904\u7406\u6570\u636e\u3002  </li> <li><code>FERMI_training_split.npy</code>\uff1a\u7528\u4e8e\u6a21\u578b\u8f93\u5165\u7684\u8bad\u7ec3\u6570\u636e\u5b50\u96c6\u3002  </li> </ul>"},{"location":"zh/Content/codes/data/#poisson","title":"POISSON","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5b58\u50a8\u57fa\u4e8e\u6cca\u677e\u5206\u5e03\u7684\u6570\u636e\u96c6\uff0c\u5e38\u7528\u4e8e\u4e8b\u4ef6\u6a21\u62df\u6216\u8bef\u5dee\u5efa\u6a21\u3002   </li> <li>\u7528\u9014\uff1a\u7edf\u8ba1\u5efa\u6a21\u3001\u4e8b\u4ef6\u7387\u9884\u6d4b\u6216\u4e0d\u786e\u5b9a\u6027\u91cf\u5316\u3002  </li> <li>\u793a\u4f8b\uff1a  </li> <li><code>Poisson_noise_samples.npy</code>\uff1a\u5e26\u6709\u6cca\u677e\u566a\u58f0\u7684\u5408\u6210\u6837\u672c\u3002  </li> <li><code>Poisson_event_counts.npy</code>\uff1a\u7528\u4e8e\u5206\u6790\u7684\u4e8b\u4ef6\u8ba1\u6570\u5206\u5e03\u3002  </li> </ul>"},{"location":"zh/Content/codes/data/#simu","title":"SIMU","text":"<ul> <li>\u63cf\u8ff0\uff1a\u4fdd\u5b58\u7528\u4e8e\u7279\u5b9a\u573a\u666f\u6216\u5b9e\u9a8c\u6a21\u62df\u7684\u5408\u6210\u6570\u636e\u96c6\u3002    </li> <li>\u7528\u9014\uff1a\u6a21\u578b\u9a8c\u8bc1\u3001\u7075\u654f\u5ea6\u5206\u6790\u6216\u6d4b\u8bd5\u65b0\u7b97\u6cd5\u3002  </li> <li>\u793a\u4f8b\uff1a  </li> <li><code>Simu_100k_events.npy</code>\uff1a\u5305\u542b 100,000 \u6761\u4e8b\u4ef6\u8bb0\u5f55\u7684\u6a21\u62df\u6570\u636e\u96c6\u3002  </li> <li><code>Simu_input_parameters.json</code>\uff1a\u751f\u6210\u5408\u6210\u6570\u636e\u7684\u914d\u7f6e\u6587\u4ef6\u3002  </li> </ul>"},{"location":"zh/Content/codes/data/#raw","title":"RAW","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8be5\u6587\u4ef6\u5939\u5305\u542b\u76f4\u63a5\u4ece\u4eea\u5668\u6216\u5408\u4f5c\u8005\u5904\u83b7\u5f97\u7684\u672a\u5904\u7406\u539f\u59cb\u6570\u636e\u96c6\u3002  </li> <li>\u7528\u9014\uff1a\u9884\u5904\u7406\u6d41\u7a0b\u7684\u8d77\u70b9\u6216\u624b\u52a8\u5206\u6790\u3002  </li> <li>\u793a\u4f8b\uff1a  </li> <li><code>Raw_experiment_2024.dat</code>\uff1a\u6765\u81ea\u6700\u65b0\u5b9e\u9a8c\u7684\u6570\u636e\u8f6c\u50a8\u3002  </li> <li><code>Raw_sensor_readings.bin</code>\uff1a\u9700\u8981\u89e3\u7801\u7684\u4f20\u611f\u5668\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002  </li> </ul>"},{"location":"zh/Content/codes/data/#_3","title":"\u8bad\u7ec3\u3001\u63a8\u7406\u7684\u6587\u4ef6\u683c\u5f0f\u8981\u6c42","text":"<p>\u8fd9\u90e8\u5206\u5f88\u91cd\u8981\uff0c\u6587\u4ef6\u5b58\u50a8\u89c4\u5219\u5f85\u5b8c\u5584</p> <p>by Zihang Liu</p>"},{"location":"zh/Content/codes/docs/","title":"LHAI\u9879\u76ee\u4ee3\u7801\uff1adocs\u6587\u4ef6\u5939","text":"<p><code>docs</code> \u6587\u4ef6\u5939\u7528\u4e8e\u5b58\u653eLHAI\u7684\u7528\u6237\u624b\u518c\uff0c\u672c\u7528\u6237\u624b\u518c\u4ee5 <code>mkdocs</code> \u683c\u5f0f\u4e66\u5199\u3002</p>"},{"location":"zh/Content/codes/docs/#folder-structure","title":"Folder Structure","text":"<pre><code>\u251c\u2500\u2500 README.md                  &lt;- Top-level README for developers using this project\n\u251c\u2500\u2500 mkdocs.yml                 &lt;- Main configuration file for MkDocs\n\u251c\u2500\u2500 requirements.txt           &lt;- Python dependencies for the MkDocs project\n\u251c\u2500\u2500 Content                    &lt;- Folder containing the documentation content\n\u2502   \u251c\u2500\u2500 data                   &lt;- Section for data-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Data Section\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 network                &lt;- Section for network-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Network Section\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 eval                   &lt;- Section for evaluation-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Eval Section\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 codes                  &lt;- Section for code-related documentation\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Codes Section\n\u2502   \u2502   \u251c\u2500\u2500 data.md            &lt;- Documentation for data usage in codes\n\u2502   \u2502   \u251c\u2500\u2500 docs.md            &lt;- Documentation for code structure and details\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 others                 &lt;- Section for miscellaneous content\n\u2502   \u2502   \u251c\u2500\u2500 index.md           &lt;- Overview page for the Others Section\n\u2502   \u2502   \u251c\u2500\u2500 1.md               &lt;- Documentation guidance or additional content\n\u2502\n\u251c\u2500\u2500 docs                       &lt;- Default MkDocs output folder for site generation\n\u2502\n\u251c\u2500\u2500 css                        &lt;- Custom CSS for styling the MkDocs project\n\u2502   \u251c\u2500\u2500 base.css               &lt;- Base styling for the entire site\n\u2502   \u251c\u2500\u2500 theme-overrides.css    &lt;- Customizations to override the default MkDocs theme\n\u2502   \u251c\u2500\u2500 typography.css         &lt;- Specific typography adjustments for better readability\n\u2502   \u2514\u2500\u2500 responsive.css         &lt;- Styles for ensuring responsive design across devices\n\u2502\n\u2514\u2500\u2500 assets                     &lt;- Static assets like images or fonts\n    \u251c\u2500\u2500 images                 &lt;- Images used throughout the documentation\n    \u2502   \u251c\u2500\u2500 logo.png           &lt;- Site logo\n    \u2502   \u251c\u2500\u2500 favicon.ico        &lt;- Favicon for the site\n    \u2502\n    \u251c\u2500\u2500 fonts                  &lt;- Custom fonts for the site, if needed\n</code></pre>"},{"location":"zh/Content/codes/docs/#_1","title":"\u8fd9\u4e2a\u624b\u518c\u5982\u4f55\u8fd0\u884c\uff1f","text":"<p>\u672c\u7528\u6237\u624b\u518c\u57fa\u4e8e MkDocs \u8fdb\u884c\u7f51\u9875\u6784\u5efa\uff0c\u901a\u8fc7 Git \u7ba1\u7406\u4ee3\u7801\u7248\u672c\u63a7\u5236\u548c\u591a\u7528\u6237\u534f\u4f5c\uff0c\u501f\u52a9 GitHub Pages \u5b9e\u73b0\u5728\u7ebf\u53d1\u5e03\u4e0e\u5206\u4eab\u3002</p>"},{"location":"zh/Content/codes/docs/#mkdocs","title":"MkDocs","text":"<p>MkDocs \u662f\u4e00\u4e2a\u7528\u4e8e\u5feb\u901f\u751f\u6210\u9759\u6001\u7f51\u7ad9\u7684\u6587\u6863\u5de5\u5177\uff0c\u652f\u6301\u7b80\u5355\u7684 Markdown \u683c\u5f0f\u4e66\u5199\u6587\u6863\uff0c\u5e76\u751f\u6210\u7ed3\u6784\u6e05\u6670\u7684 HTML \u7f51\u7ad9\u3002</p> <ul> <li> <p>\u5b89\u88c5\u4e0e\u4f7f\u7528\uff1a</p> </li> <li> <p>\u5b89\u88c5 MkDocs\uff1a  </p> <pre><code>pip install mkdocs\n</code></pre> </li> <li> <p>\u521b\u5efa\u9879\u76ee\uff1a  </p> <pre><code>mkdocs new my-project\ncd my-project\n</code></pre> </li> <li> <p>\u672c\u5730\u8fd0\u884c\u9884\u89c8\uff1a  </p> <pre><code>mkdocs serve\n</code></pre> <p>\u8bbf\u95ee <code>http://127.0.0.1:8000</code> \u67e5\u770b\u6587\u6863\u6548\u679c\u3002</p> </li> <li> <p>\u6784\u5efa\u9759\u6001\u7f51\u7ad9\uff1a  </p> <pre><code>mkdocs build\n</code></pre> <p>\u6240\u6709\u751f\u6210\u7684\u6587\u4ef6\u5c06\u5b58\u50a8\u5728 <code>site</code> \u6587\u4ef6\u5939\u4e2d\u3002</p> </li> <li> <p>\u4e3b\u9898\u4e0e\u63d2\u4ef6\uff1a  </p> </li> </ul> <p>\u4f7f\u7528 MkDocs \u9ed8\u8ba4\u4e3b\u9898 <code>mkdocs</code> \u6216\u6269\u5c55\u4e3b\u9898\u5982 <code>mkdocs-material</code>\u3002\u53ef\u901a\u8fc7 <code>mkdocs.yml</code> \u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u63d2\u4ef6\u5b9e\u73b0\u529f\u80fd\u6269\u5c55\u3002</p>"},{"location":"zh/Content/codes/docs/#git","title":"Git","text":"<p>Git \u662f\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u7528\u4e8e\u7ba1\u7406\u6587\u6863\u4e0e\u4ee3\u7801\u7248\u672c\uff0c\u540c\u65f6\u652f\u6301\u56e2\u961f\u534f\u4f5c\u3002</p> <ul> <li>\u521d\u59cb\u5316\u4e0e\u514b\u9686\uff1a</li> <li> <p>\u521d\u59cb\u5316\u9879\u76ee\uff1a  </p> <pre><code>git init\n</code></pre> </li> <li> <p>\u514b\u9686\u8fdc\u7a0b\u4ed3\u5e93\uff1a  </p> <pre><code>git clone &lt;repository-url&gt;\n</code></pre> </li> <li> <p>\u5e38\u7528\u547d\u4ee4\uff1a</p> </li> <li> <p>\u63d0\u4ea4\u66f4\u6539\uff1a  </p> <pre><code>git add .\ngit commit -m \"Update documentation\"\n</code></pre> </li> <li> <p>\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff1a  </p> <pre><code>git push origin main\n</code></pre> </li> <li> <p>\u5206\u652f\u7ba1\u7406\uff1a\u591a\u7528\u6237\u534f\u4f5c\u65f6\uff0c\u53ef\u4f7f\u7528\u5206\u652f\u529f\u80fd\u907f\u514d\u51b2\u7a81\uff1a  </p> </li> </ul> <pre><code>git checkout -b new-feature\n</code></pre>"},{"location":"zh/Content/codes/docs/#github-pages","title":"GitHub Pages","text":"<p>GitHub Pages \u662f\u4e00\u4e2a\u6258\u7ba1\u9759\u6001\u7f51\u9875\u7684\u670d\u52a1\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece GitHub \u4ed3\u5e93\u4e2d\u6258\u7ba1 MkDocs \u751f\u6210\u7684\u7f51\u7ad9\u3002</p> <ul> <li> <p>\u53d1\u5e03\u6b65\u9aa4\uff1a</p> </li> <li> <p>\u5728 <code>mkdocs.yml</code> \u4e2d\u914d\u7f6e\u90e8\u7f72\u5206\u652f\uff1a  </p> <pre><code>site_name: My Documentation\nsite_dir: site\n</code></pre> </li> <li> <p>\u4f7f\u7528 <code>gh-deploy</code> \u90e8\u7f72\uff1a </p> <pre><code>mkdocs gh-deploy\n</code></pre> </li> <li> <p>\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u6587\u6863\u5c06\u53d1\u5e03\u5230 <code>https://&lt;username&gt;.github.io/&lt;repository&gt;</code>\u3002</p> </li> <li> <p>\u81ea\u52a8\u5316\u90e8\u7f72\uff1a  </p> </li> </ul> <p>\u501f\u52a9 GitHub Actions\uff0c\u53ef\u81ea\u52a8\u89e6\u53d1\u6784\u5efa\u4e0e\u90e8\u7f72\u6d41\u7a0b\u3002\u4f8b\u5982\uff1a</p> <pre><code>name: Deploy MkDocs\non:\n  push:\n    branches:\n      - main\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up Python\n        uses: actions/setup-python@v2\n        with:\n          python-version: 3.x\n      - name: Install dependencies\n        run: pip install mkdocs mkdocs-material\n      - name: Build and deploy\n        run: mkdocs gh-deploy --force\n</code></pre>"},{"location":"zh/Content/codes/docs/#_2","title":"\u672c\u624b\u518c\u7ed3\u6784","text":"<p>\u9996\u9875\uff1a\u76ee\u5f55 + \u7ed3\u679c\u76f4\u89c2\u8868\u793a\uff08\u7ed3\u679c\u7bc7\uff09</p> <p>\u5185\u5bb9\uff1a</p> <ul> <li> <p>\u6570\u636e\u7bc7</p> </li> <li> <p>\u6280\u672f\u7bc7</p> </li> <li> <p>\u9a8c\u8bc1\u7bc7</p> </li> <li> <p>\u4ee3\u7801\u7ed3\u6784\u8be6\u89e3</p> </li> <li> <p>\u5176\u4ed6\u6280\u672f\u6587\u6863\uff08GIT,MARKOWN,MKDOCS,SERVER\uff09</p> </li> </ul>"},{"location":"zh/Content/codes/docs/#_3","title":"\u6210\u4e3a\u5171\u540c\u521b\u4f5c\u8005","text":"<p>\u524d\u7f6e\u6761\u4ef6\uff1agit\u3001\u68af\u5b50\u3001python3.10\u4ee5\u4e0a</p> <ol> <li> <p>\u521b\u5efa\u672c\u5730\u4ed3\u5e93\uff0c\u4e0egit\u4ed3\u5e93\u8fde\u63a5</p> <p>\uff081\uff09\u521b\u5efa\u4e00\u4e2a\u7a7a\u767d\u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u5b58\u50a8\u6587\u6863\u672c\u5730\u6587\u4ef6</p> <p>\uff082\uff09\u514b\u9686github\u9879\u76ee\u6587\u6863\uff1a</p> <pre><code>git clone https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>\u8fd9\u4e00\u6b65\u5f88\u5927\u6982\u7387\u4f1a\u62a5\u9519\uff0c\u662f\u521d\u59cb\u73af\u5883\u8bbe\u7f6e\u7684\u95ee\u9898\uff1b\u6839\u636e\u5177\u4f53\u62a5\u9519\u5177\u4f53\u89e3\u51b3</p> </li> <li> <p>\u62ff\u5230\u9879\u76ee\u7528\u6237\u624b\u518c\u6587\u4ef6 LHAI \u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u67e5\u770b\uff1a</p> <p>\uff081\uff09\u7528\u6237\u624b\u518c\u57fa\u4e8emkdocs\u6784\u5efa\u3002\u9996\u5148\u662fmkdocs\u7684\u73af\u5883\uff1a</p> <pre><code>pip install mkdocs\n\npip install mkdocs-material\n\npip install pymdown-extensions\n</code></pre> <p>\u4ee5\u4e0a\u4e09\u4e2a\u662f\u4e3b\u8981\u7684\u73af\u5883\uff0c\u8fd8\u6709\u4e00\u4e9b\u63d2\u4ef6\uff0c\u6839\u636e\u62a5\u9519\u5dee\u54ea\u4e9b\u5c31\u5b89\u88c5\u54ea\u4e9b\uff0c\u77e5\u9053\u53ef\u4ee5\u8fd0\u884c\uff1a</p> <pre><code>mkdocs serve\n</code></pre> </li> <li> <p>\u4fee\u6539\u7528\u6237\u624b\u518c</p> <p>\uff081\uff09\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u4fee\u6539</p> <p>\uff082\uff09mkdocs.yml \u6587\u4ef6\u5b58\u50a8\u4e86\u6240\u6709\u7684\u914d\u7f6e\u4fe1\u606f\u3001\u7f51\u9875\u7ed3\u6784\u4fe1\u606f</p> <p>\uff083\uff09\u5177\u4f53mkdocs\u6559\u7a0b\u67e5\u770b\uff1a</p> <p>https://mkdocs-like-code.readthedocs.io/zh-cn/latest/</p> </li> <li> <p>\u786e\u8ba4\u81ea\u5df1\u4fee\u6539\u6ca1\u95ee\u9898\u540e\uff0c\u4e0a\u4f20\u5230 github\uff0c\u4e0a\u4f20\u5230 github-pages</p> <p>\uff081\uff09\u4e0a\u4f20github\u8fde\u62db\uff1a</p> <pre><code>git add .\n\ngit commit -m \"\u82f1\u6587\u586b\u5199\u4fee\u6539\u65e5\u5fd7\"\n\ngit push\n</code></pre> <p>\uff082\uff09\u4e0a\u4f20github-pages\uff1a</p> <pre><code>mkdocs gh-deploy\n</code></pre> </li> <li> <p>\u5e73\u5e38\u5de5\u4f5c\u6d41\u7a0b</p> <p>\u7531\u4e8e\u662f\u591a\u4eba\u534f\u540c\uff0c\u5171\u540c\u7ba1\u7406\u5f62\u5f0f\uff0c\u9700\u8981\u6bcf\u4e2a\u4eba\u9ed8\u5951\u914d\u5408\uff0c\u5e76\u5f62\u6210\u4e25\u8c28\u7684\u4fee\u6539\u89c4\u5219\u3002\u5de5\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p>\uff081\uff09\u81ea\u5df1\u8fdb\u884c\u4e86\u4e00\u4e9b\u5de5\u4f5c\uff0c\u5728\u81ea\u5df1\u672c\u5730\u5199\u4e86\u65b0\u7684\u5185\u5bb9</p> <p>\uff082\uff09\u540c\u6b65github\u7684\u7248\u672c\uff1a</p> <p><pre><code>git pull\n</code></pre> \u8fd9\u4e00\u6b65\u4f1a\u5c06github\u4e0a\u6700\u65b0\u7684\u7248\u672c\u62c9\u53d6\u5230\u81ea\u5df1\u672c\u5730\uff0c\u4f46\u53ea\u4f1a\u5bf9\u4fee\u6539\u8fc7\u7684\u90e8\u5206\u8fdb\u884c\u66f4\u6539\uff0c\u4e0d\u4f1a\u628a\u4f60\u521b\u5efa\u7684\u65b0\u7684\u672c\u5730\u6587\u6863\u8986\u76d6\u6d88\u9664\u6389</p> <p>\uff083\uff09\u8fdb\u884cgithub\u4e0a\u4f20</p> <p>\uff084\uff09\u8fdb\u884cgithub-pages\u4e0a\u4f20</p> <p>\u8bf7\u9075\u5b88\u8fd9\u6837\u7684\u5de5\u4f5c\u6d41\u7a0b</p> </li> </ol> <p>by Zihang Liu</p>"},{"location":"zh/Content/codes/lhai/","title":"LHAI\u9879\u76ee\u4ee3\u7801\uff1aLHAI\u6587\u4ef6\u5939","text":"<p><code>LHAI</code>\u6587\u4ef6\u5939\u5b58\u653e\u4e86\u672c\u9879\u76ee\u7684\u6240\u6709\u6e90\u4ee3\u7801\uff0c\u4e3b\u8981\u5206\u4e3a\u4e09\u4e2a\u529f\u80fd\uff1a\u8bad\u7ec3\u3001\u63a8\u7406\u4ee5\u53ca\u6d4b\u8bd5</p>"},{"location":"zh/Content/codes/lhai/#1-folder-structure","title":"1 Folder Structure","text":"<pre><code>LHAI                        &lt;- \u672c\u9879\u76ee\u4f7f\u7528\u7684\u6e90\u4ee3\u7801\n\u2502\n\u251c\u2500\u2500 __init__.py             &lt;- \u4f7fLHAI\u6210\u4e3a\u4e00\u4e2aPython\u6a21\u5757\n\u2502\n\u251c\u2500\u2500 config.py               &lt;- \u5b58\u50a8\u6709\u7528\u7684\u53d8\u91cf\u548c\u914d\u7f6e\n\u2502\n\u251c\u2500\u2500 evaluation.py           &lt;- 3 different methods to evaluation trained models.\n\u2502\n\u251c\u2500\u2500 modeling                &lt;- \u6a21\u578b\u8bad\u7ec3\u548c\u63a8\u7406\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 __init__.py \n\u2502   \u251c\u2500\u2500 predict.py          &lt;- \u7528\u4e8e\u6a21\u578b\u63a8\u7406\u7684\u4ee3\u7801          \n\u2502   \u2514\u2500\u2500 train.py            &lt;- \u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\u7684\u4ee3\u7801\n\u2502\n\u251c\u2500\u2500 models                  &lt;- \u5b58\u50a8\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\n\u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- \u547d\u540d\u89c4\u5219\uff1a\u6a21\u578b\u540d\u79f0_\u5b9e\u9a8c\u7f16\u53f7.py\n\u2502\n\u2514\u2500\u2500 function                &lt;- \u8bad\u7ec3\u548c\u63a8\u7406\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u51fd\u6570\uff0c\u4f1a\u5728train.py\u4ee5\u53capredict.py\u7528\u5230\n   \u251c\u2500\u2500 Dataset.py           &lt;- \u6570\u636e\u96c6\n   \u251c\u2500\u2500 Log.py               &lt;- \u65e5\u5fd7\n   \u2514\u2500\u2500 Loss.py              &lt;- LOSS\u51fd\u6570\n</code></pre> <p>\u63a5\u4e0b\u6765\u4f1a\u53d9\u8ff0\u5982\u4f55\u8c03\u7528\u53c2\u6570\uff0c\u8fdb\u884c\u8bad\u7ec3\uff0c\u8fdb\u884c\u63a8\u7406</p>"},{"location":"zh/Content/codes/lhai/#2-configpy","title":"2 \u73af\u5883\u53d8\u91cf\uff1aconfig.py","text":"<p><code>config.py</code> \u5b58\u50a8\u4e86\u8bad\u7ec3\u3001\u63a8\u7406\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684\u6240\u6709\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u8bad\u7ec3\u8fc7\u7a0b\u7684\u6240\u6709\u53c2\u6570\uff1a</p> <pre><code># ---- Train Parameters ----\nEXP_NAME = \"EXP_0_1\"                                    # \u53c2\u65701\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u5b9e\u9a8c\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4fee\u6539\nMODEL_NAME = \"CNN\"                                      # \u53c2\u65702\uff1a\u6a21\u578b\u7c7b\u578b\u540d\u79f0\uff08CNN,GAN,VAE,AE,DIFFUSION\uff09\nMODEL_PATH = PROJ_ROOT / \"LHAI\" / \"models\" / f\"{MODEL_NAME}_{EXP_NAME}.py\"\nDATA_DIR = PROJ_ROOT / \"data\" / \"POISSON\"               # \u53c2\u65703\uff1a\u6570\u636e\u96c6\u5b58\u50a8\u5730\u5740\nDATA_NAME = \"poisson_src_bkg.pkl.npy\"                   # \u53c2\u65704\uff1a\u6570\u636e\u96c6\u6587\u4ef6\u540d\u79f0\uff08\u6570\u636e\u96c6\u5b58\u50a8\u65b9\u6cd5\u683c\u5f0f\u89c1Data Section\uff09\nDATA_PATH = DATA_DIR / DATA_NAME\nSEED = 0                                                # \u53c2\u65705\uff1a\u968f\u673a\u79cd\u5b50\nTRAINTYPE = \"poissonsrc+bkg_highresorig\"                # \u53c2\u65706\uff1a\u8bad\u7ec3\u7c7b\u578b\nFRAC_TRAIN = 0.8                                        # \u53c2\u65707\uff1a\u8bad\u7ec3\u96c6/\u6d4b\u8bd5\u96c6\u6bd4\u4f8b\nEPOCHS = 400                                            # \u53c2\u65708\uff1a\u8bad\u7ec3\u8f6e\u6570\nBATCH_SIZE = 32                                         # \u53c2\u65709\uff1abatch\u6279\u6b21\u5927\u5c0f\nLATENTDIM = 64                                          # \u53c2\u657010\uff1a\u6f5c\u5728\u7ef4\u5ea6(\u4ec5VAE\u6a21\u578b)\nLR_MAX = 5e-4                                           # \u53c2\u657011\uff1a\u5b66\u4e60\u7387\u4e0a\u9650\nLR_MIN = 5e-6                                           # \u53c2\u657012\uff1a\u5b66\u4e60\u7387\u4e0b\u9650\n</code></pre> <p>\u63a8\u7406\u8fc7\u7a0b\u7684\u6240\u6709\u53c2\u6570\uff1a</p> <pre><code># ---- Test Parameters ----\nPRE_MODEL_PATH = PROJ_ROOT / \"saves\" / \"MODEL\"\nPRE_DATA_PATH = PROJ_ROOT / \"data\" / \"POISSON\"\nPRE_MODEL_NAME = \"CNN_EXP_0_1_400epo_32bth_64lat_poissonsrc+bkg_highresorig_poisson_src_bkg.pkl.npy.pth\"\nRRE_MODEL = \"CNN\"\nPRE_DATA_NAME = \"poisson_src_bkg.pkl.npy\"\nPRE_SEED = 0\nPRE_TRAINTYPE = \"poissonsrc+bkg_highresorig\"\nPRE_FRAC_TRAIN = 0.8\nPRE_BATCH_SIZE = 32\nPRE_LATENT_DIM = 64\n</code></pre> <p>\u5728\u8bad\u7ec3/\u63a8\u7406\u5f00\u59cb\u524d\uff0c\u4e00\u5b9a\u8981\u5bf9\u6bcf\u4e00\u4e2a\u53c2\u6570\u90fd\u975e\u5e38\u4e86\u89e3\uff0c\u5e76\u4e14\u660e\u786e\u5730\u77e5\u9053\u81ea\u5df1\u8bad\u7ec3/\u63a8\u7406\u6240\u9700\u8981\u7684\u53c2\u6570\u662f\u4ec0\u4e48\uff0c\u5426\u5219\u65e0\u6cd5\u786e\u4fdd\u6b63\u786e\u5730\u5b8c\u6210\u4e86\u4f60\u7684\u4efb\u52a1\u3002</p> <p>Tip</p> <p>\u5728\u672c\u9879\u76ee\u4e2d\uff0c\u5982\u679c\u60f3\u8981\u4fee\u6539\u7a0b\u5e8f\u8fd0\u884c\u4e2d\u7684\u73af\u5883\u53d8\u91cf/\u53c2\u6570\uff0c\u4e00\u5171\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ol> <li> <p>\u76f4\u63a5\u4fee\u6539<code>config.py</code>\u4e2d\u7684\u53c2\u6570</p> </li> <li> <p>python train.py --\u9644\u52a0\u53c2\u6570 \uff0c\u8fd9\u4e00\u4e2a\u65b9\u6cd5\u4f1a\u5728\u540e\u9762\u53d9\u8ff0</p> </li> </ol>"},{"location":"zh/Content/codes/lhai/#3-trainpy","title":"3 \u8bad\u7ec3\u529f\u80fd\uff1atrain.py","text":"<p>\u672c\u9879\u76ee\u4f7f\u7528\u4e86 <code>Typer</code> \u5e93\u4e3a\u547d\u4ee4\u884c\u63a5\u53e3\u8bbe\u8ba1\u7684\u53c2\u6570\u7ba1\u7406\u65b9\u5f0f\u3002\u4ee5\u4e0b\u662f\u5982\u4f55\u5728 \u547d\u4ee4\u884c \u4e2d\u8fd0\u884c\u4f60\u7684\u4ee3\u7801\u5e76\u4fee\u6539 <code>main</code> \u53c2\u6570\u7684\u6b65\u9aa4\uff1a</p> <pre><code>python train.py --model-name \"GAN\" --exp-name \"MyExperiment\" --data-dir \"./data\" --data-name \"dataset.csv\" --seed 42 --traintype \"supervised\" --frac-train 0.8 --epochs 10 --batch-size 32 --latentdim 128 --lr-max 0.01 --lr-min 0.001\n</code></pre> <p>\u6bcf\u4e2a\u53c2\u6570\u4f20\u9012\u7684\u5177\u4f53\u542b\u4e49\uff0c\u89c1 <code>2 \u73af\u5883\u53d8\u91cf\uff1aconfig.py</code> \u7684\u53d9\u8ff0\u3002</p> <p>Note</p> <ol> <li> <p>\u8fd0\u884c\u524d\u786e\u8ba4\u5f53\u524d\u7ec8\u7aef\u7684\u5de5\u4f5c\u8def\u5f84\u662f\u811a\u672c\u6240\u5728\u8def\u5f84\uff0c\u6216\u8005\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u8fd0\u884c\u811a\u672c\u3002</p> <pre><code>cd /path/to/train.py/folder\npython train.py --model-name \"GAN\" ...\n</code></pre> </li> <li> <p>\u5982\u679c\u4f60\u5728 <code>LHAI.config</code> \u4e2d\u8bbe\u7f6e\u4e86\u9ed8\u8ba4\u503c\uff0c\u4f8b\u5982 <code>EXP_NAME</code>, <code>MODEL_NAME</code>\uff0c\u8fd9\u4e9b\u503c\u4f1a\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u52a0\u8f7d\u5230 <code>main</code> \u51fd\u6570\u4e2d\u3002\u5982\u679c\u547d\u4ee4\u884c\u4e2d\u6ca1\u6709\u63d0\u4f9b\u67d0\u4e9b\u53c2\u6570\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002</p> </li> <li> <p>\u5982\u679c\u4e0d\u786e\u5b9a\u53c2\u6570\u5982\u4f55\u4f20\u9012\uff0c\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u5e2e\u52a9\u4fe1\u606f\uff1a</p> <p><pre><code>python train.py --help\npython predict.py --help\n</code></pre> \u8fd9\u4e2a\u547d\u4ee4\u975e\u5e38\u6709\u7528\uff01</p> </li> <li> <p>\u5982\u679c\u4f60\u53ea\u60f3\u4fee\u6539\u6a21\u578b\u540d\u79f0\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f20\u9012\uff1a</p> <pre><code>python train.py --model-name \"GAN\"\n</code></pre> <p>\u5176\u4f59\u53c2\u6570\u4f1a\u4f7f\u7528 <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u503c\u3002</p> </li> </ol>"},{"location":"zh/Content/codes/lhai/#4-predictpy","title":"4 \u63a8\u7406\u529f\u80fd\uff1apredict.py","text":"<p>\u5177\u4f53\u8fd0\u884c\u65b9\u6cd5\u4e0e <code>train.py</code> \u5b8c\u5168\u4e00\u81f4\u3002</p> <p>by Zihang Liu</p>"},{"location":"zh/Content/codes/predict/","title":"\u4ecegit clone\u5f00\u59cb\u63a8\u7406","text":"<p><code>predict.py</code>\u5b58\u653e\u5730\u5740:</p> <pre><code>LHAI/LHAI/modeling/predict.py\n</code></pre> <p>\u5728\u4e86\u89e3\u4e86LHAI\u6e90\u4ee3\u7801\u7ed3\u6784\uff1a<code>data</code>,<code>docs</code>,<code>LHAI</code>,<code>saves</code> \u6587\u4ef6\u5939\u7684\u57fa\u672c\u4f5c\u7528\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u63a8\u7406\u4e86\u3002</p> <p>\u8fd9\u4e00\u9875\u5c06\u4f1a\u4ece <code>git clone</code> \u5f00\u59cb\uff0c\u53d9\u8ff0\u6211\u4eec\u8be5\u51c6\u5907\u54ea\u4e9b\u4e1c\u897f\uff0c\u5982\u4f55\u5f00\u59cb\u8fdb\u884c\u63a8\u7406\u3002</p> <ol> <li> <p>\u7b2c\u4e00\u6b65\uff1agit clone</p> <pre><code>git clone --branch Code https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>\u8fd9\u4f1a\u4e0b\u8f7dCode branch\u4e0b\u7684\u6240\u6709\u4ee3\u7801\u4e8eLHAI\u6587\u4ef6\u5939\u5185\u3002\u6253\u5f00\u6587\u4ef6\u5939\uff1a</p> <pre><code>cd LHAI\n</code></pre> </li> <li> <p>\u68c0\u67e5LHAI\u6587\u4ef6\u5939\u7684\u9879\u76eestructure\uff0c\u662f\u5426\u5305\u542b\u5b8c\u6574\uff1a</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- Open-source license if one is chosen\n\u251c\u2500\u2500 Makefile           &lt;- Makefile with convenience commands like `make data` or `make train`\n\u251c\u2500\u2500 README.md          &lt;- The top-level README for developers using this project.\n\u251c\u2500\u2500 data               &lt;- Different types of data. (Recommended to upload with npy formation)\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u2502\n\u251c\u2500\u2500 saves             &lt;- Figure/Loss saves, Trained and Serialized models, model Predictions, .\n\u2502   \u251c\u2500\u2500 FIGURE        &lt;- Figure saves in training.\n\u2502   \u2502\u2500\u2500 PRE_FIG       &lt;- Figure saves in predicting.\n\u2502   \u251c\u2500\u2500 LOSS          &lt;- LOSS data(.npy) and LOSS Figure(.png) saves in training.\n\u2502   \u2514\u2500\u2500 MODEL         &lt;- Trained and Serialized models.\n\u2502\n\u251c\u2500\u2500 docs               &lt;- A default mkdocs project; see www.mkdocs.org for details\n\u2502\n\u2502\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks. Naming convention is a number (for ordering),\n\u2502                         the creator's initials, and a short `-` delimited description, e.g.\n\u2502                         `1.0-jqp-initial-data-exploration`.\n\u2502\n\u251c\u2500\u2500 pyproject.toml     &lt;- Project configuration file with package metadata for \n\u2502                         LHAI and configuration for tools like black\n\u2502\n\u251c\u2500\u2500 references         &lt;- Data dictionaries, manuals, and all other explanatory materials.\n\u2502\n\u251c\u2500\u2500 reports            &lt;- Generated analysis as HTML, PDF, LaTeX, etc.\n\u2502   \u2514\u2500\u2500 figures        &lt;- Generated graphics and figures to be used in reporting\n\u2502\n\u251c\u2500\u2500 requirements.txt   &lt;- The requirements file for reproducing the analysis environment, e.g.\n\u2502                         generated with `pip freeze &gt; requirements.txt`      \n\u2502\n\u251c\u2500\u2500 setup.cfg          &lt;- Configuration file for flake8\n\u2502\n\u2514\u2500\u2500 LHAI   &lt;- Source code for use in this project.\n    \u2502\n    \u251c\u2500\u2500 __init__.py             &lt;- Makes LHAI a Python module\n    \u2502\n    \u251c\u2500\u2500 config.py               &lt;- Store useful variables and configuration\n    \u2502\n    \u251c\u2500\u2500 evaluation.py              &lt;- 3 different methods to evaluation trained models.\n    \u2502\n    \u251c\u2500\u2500 modeling                \n    \u2502   \u251c\u2500\u2500 __init__.py \n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- Code to run model inference with trained models          \n    \u2502   \u2514\u2500\u2500 train.py            &lt;- Code to train models\n    \u2502\n    \u251c\u2500\u2500 models                  &lt;- Neural network model code.\n    \u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- Modelname_Experimentnumber.py\n    \u2502\n    \u2514\u2500\u2500 function             &lt;- Functions used in training and predicting processes.\n    \u251c\u2500\u2500 Dataset.py        &lt;- Function used in loading Dataset.\n    \u251c\u2500\u2500 Log.py            &lt;- Function used in Logging.\n    \u2514\u2500\u2500 Loss.py           &lt;- Function used in Loss generating.\n</code></pre> </li> <li> <p>\u914d\u7f6e python \u73af\u5883</p> <p>\u9996\u5148\u786e\u5b9a\u6211\u4eec\u7684\u673a\u5668\u7684\u5b8f\u89c2\u73af\u5883\u80fd\u591f\u7528\u4e8e\u673a\u5668\u5b66\u4e60\u4efb\u52a1\uff0c\u6211\u4e00\u822c\u559c\u6b22\u9009\u62e9\u670d\u52a1\u5668\u914d\u7f6e\uff1a</p> <pre><code>PyTorch  2.1.0\nPython  3.10(ubuntu22.04)\nCuda  12.1\n</code></pre> <p>\u5f53\u7136\uff0c\u66f4\u9ad8\u7684\u914d\u7f6e\u4e5f\u6ca1\u6709\u95ee\u9898\uff0c\u53ea\u662f\u8fd9\u4e2a\u914d\u7f6e\u6700\u7ecf\u5178\u548c\u7a33\u5b9a\uff1b</p> <p>\u7136\u540e\uff0c\u9700\u8981\u521b\u5efapython\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5python\u73af\u5883\uff1a</p> <pre><code>pip install -m requirements.txt\n</code></pre> <p>\u8fd9\u6837\u73af\u5883\u65b9\u9762\u5c31\u6ca1\u6709\u95ee\u9898\u4e86\u3002</p> </li> <li> <p>\u51c6\u5907\u6570\u636e\uff0c\u5e76\u4e14\u653e\u5230\u6570\u636e\u6587\u4ef6\u5939 <code>data</code> \u5bf9\u5e94\u7684\u7c7b\u522b\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u6307\u5411\u6211\u4eec\u7684\u6570\u636e</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684\u6cca\u677e\u7c7b\u578b\u6570\u636e <code>poisson_src_bkg.pkl.npy</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"data\" / \"POISSON\" / poisson_src_bkg.pkl.npy\n</code></pre> </li> <li> <p>\u51c6\u5907\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801\uff0c\u653e\u5230\u795e\u7ecf\u7f51\u7edc\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u5f15\u7528\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684CNN\u7c7b\u578b\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801 <code>CNN_EXP_0_1.py</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"LHAI\" / \"models\" / CNN_EXP_0_1.py\n</code></pre> </li> <li> <p>\u786e\u4fdd\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u5df2\u7ecf\u4fdd\u5b58\u5728 <code>saves/MODEL</code> \u6587\u4ef6\u5939\u5185\u3002</p> </li> <li> <p>\u5f00\u59cb\u63a8\u7406\u3002</p> <p>\u65b9\u6cd51\uff1a\u8bbe\u7f6e <code>config.py</code> \u4e2dPREDICT\u7684\u53c2\u6570\uff0c\u5728 <code>modeling</code> \u6587\u4ef6\u5939\u4e2d\u76f4\u63a5\u8fd0\u884c\u3002</p> <pre><code>python predict.py\n</code></pre> <p>\u65b9\u6cd52\uff1a\u9ad8\u7aef\u4e00\u70b9\u7684\u76f4\u63a5\u901a\u8fc7 <code>Typer</code> \u63a5\u53e3\u8bbe\u7f6e\u547d\u4ee4\u884c\u53c2\u6570</p> <p>\u5177\u4f53\u8bf7\u770b Code Section \u7684 LHAI \u624b\u518c\u9875\u9762\u3002</p> </li> </ol> <p>by Zihang Liu</p>"},{"location":"zh/Content/codes/saves/","title":"LHAI\u9879\u76ee\u4ee3\u7801\uff1asaves\u6587\u4ef6\u5939","text":"<p><code>saves</code> \u6587\u4ef6\u5939\u5b58\u653e\u8bad\u7ec3\u4e2d\u4ea7\u751f\u7684\u56fe\u50cf\u3001\u635f\u5931\u6570\u636e\uff1b\u8bad\u7ec3\u5b8c\u6210\u7684\u6a21\u578b\uff1b\u63a8\u7406\u5b8c\u6210\u7684\u7ed3\u679c\u56fe\u50cf</p> <pre><code>\u2502\u2500\u2500 saves              &lt;- \u4fdd\u5b58\u8bad\u7ec3\u4e2d\u7684\u56fe\u50cf\u3001\u635f\u5931\u6570\u636e\u3001\u8bad\u7ec3\u540e\u7684\u6a21\u578b\u548c\u9884\u6d4b\u7ed3\u679c\n\u2502   \u251c\u2500\u2500 FIGURE         &lt;- \u8bad\u7ec3\u7ed3\u675f\u540e\u521d\u6b65\u63a8\u7406\u5f62\u6210\u7684\u56fe\u50cf \n\u2502                       (\u5b58\u50a8\u683c\u5f0f\uff1a./saves/FIGURE/EarlyPre_{MODEL_NAME}_{EXP_NAME}_{epochs}epo_{batch_size}bth_{latentdim}lat_{traintype}_{DATA_NAME}.png)\n\u2502   \u2502\u2500\u2500 PRE_FIG        &lt;- \u63a8\u7406\u65f6\u4fdd\u5b58\u7684\u56fe\u50cf\n\u2502                       (\u5b58\u50a8\u683c\u5f0f\uff1a./saves/PRE_FIG/{savepath}/PRE_FIG/Pre_{PRE_MODEL_NAME}.png)\n\u2502   \u251c\u2500\u2500 LOSS           &lt;- \u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u4fdd\u5b58\u7684\u635f\u5931\u6570\u636e(.npy)\u548c\u635f\u5931\u56fe\u50cf(.png) \n\u2502                       (\u5b58\u50a8\u683c\u5f0f\uff1a./saves/LOSS/{MODEL_NAME}_{EXP_NAME}_{epochs}epo_{batch_size}bth_{latentdim}lat_{traintype}_{DATA_NAME}.npy + png)\n\u2502   \u2514\u2500\u2500 MODEL          &lt;- \u4fdd\u5b58\u7684\u5df2\u8bad\u7ec3\u6a21\u578b\u548c\u5e8f\u5217\u5316\u6a21\u578b\n\u2502                       \uff08\u5b58\u50a8\u683c\u5f0f\uff1a./saves/MODEL/{MODEL_NAME}_{EXP_NAME}_{epochs}epo_{batch_size}bth_{latentdim}lat_{traintype}_{DATA_NAME}.pth\uff09\n</code></pre> <p>\u8fd9\u90e8\u5206\u5e76\u6ca1\u6709\u4ec0\u4e48\u597d\u53d9\u8ff0\u7684\uff0c\u8bad\u7ec3/\u63a8\u7406\u5b8c\u6210\u4e4b\u540e\u8bb0\u5f97\u67e5\u770b\u8be5\u6587\u4ef6\u5939\u83b7\u5f97\u7ed3\u679c\u3002</p> <p>by Zihang Liu</p>"},{"location":"zh/Content/codes/server/#3","title":"3 \u56e2\u961f\u6570\u636e\u7ba1\u7406","text":"<p>\u6211\u4eec\u4f7f\u7528\u963f\u91cc\u4e91\u76d8\u4f5c\u4e3a\u56e2\u961f\u6570\u636e\u7ba1\u7406\u4e2d\u5fc3\u3002(1)</p> <ol> <li> <p> aliyun\u7684\u4f18\u70b9\uff1a</p> <ol> <li>\u591a\u5e73\u53f0\u652f\u6301, \u652f\u6301 Windows, macOS, linux(x86/x64/arm), android, iOS \u7b49</li> <li>\u963f\u91cc\u4e91\u76d8\u591a\u7528\u6237\u652f\u6301</li> <li>\u652f\u6301\u6587\u4ef6\u7f51\u76d8\uff0c\u76f8\u518c\u7f51\u76d8\u65e0\u7f1d\u5207\u6362</li> <li>\u4e0b\u8f7d\u7f51\u76d8\u5185\u6587\u4ef6, \u652f\u6301\u591a\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u4e0b\u8f7d, \u652f\u6301\u65ad\u70b9\u7eed\u4f20\u548c\u5355\u6587\u4ef6\u5e76\u884c\u4e0b\u8f7d\u3002\u652f\u6301\u8f6f\u94fe\u63a5(\u7b26\u53f7\u94fe\u63a5)\u6587\u4ef6\u3002</li> <li>\u4e0a\u4f20\u672c\u5730\u6587\u4ef6, \u652f\u6301\u591a\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\u4e0a\u4f20\uff0c\u652f\u6301\u6392\u9664\u6307\u5b9a\u6587\u4ef6\u5939/\u6587\u4ef6\uff08\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u529f\u80fd\u3002\u652f\u6301\u8f6f\u94fe\u63a5(\u7b26\u53f7\u94fe\u63a5)\u6587\u4ef6\u3002</li> <li>\u540c\u6b65\u5907\u4efd\u529f\u80fd\u652f\u6301\u5907\u4efd\u672c\u5730\u6587\u4ef6\u5230\u4e91\u76d8\uff0c\u5907\u4efd\u4e91\u76d8\u6587\u4ef6\u5230\u672c\u5730\uff0c\u53cc\u5411\u540c\u6b65\u5907\u4efd\u4fdd\u6301\u672c\u5730\u6587\u4ef6\u548c\u7f51\u76d8\u6587\u4ef6\u540c\u6b65\u3002\u5e38\u7528\u4e8e\u5d4c\u5165\u5f0f\u6216\u8005NAS\u7b49\u8bbe\u5907\uff0c\u652f\u6301docker\u955c\u50cf\u90e8\u7f72\u3002</li> <li>\u547d\u4ee4\u548c\u6587\u4ef6\u8def\u5f84\u8f93\u5165\u652f\u6301Tab\u952e\u81ea\u52a8\u8865\u5168</li> <li>\u652f\u6301\u963f\u91cc\u4e91ECS\u73af\u5883\u4e0b\u4f7f\u7528\u5185\u7f51\u94fe\u63a5\u4e0a\u4f20/\u4e0b\u8f7d\uff0c\u901f\u5ea6\u66f4\u5feb(\u53ea\u652f\u6301\u963f\u91cc\u7ecf\u5178\u7f51\u7edc\uff0c\u6700\u9ad8\u53ef\u8fbe100MB/s)\uff0c\u8fd8\u53ef\u4ee5\u8282\u7701\u516c\u7f51\u5e26\u5bbd\u6d41\u91cf(\u914d\u7f6etransfer_url_type=2\u5373\u53ef)</li> <li>\u652f\u6301webdav\u6587\u4ef6\u670d\u52a1\uff0c\u53ef\u4ee5\u5c06\u963f\u91cc\u4e91\u76d8\u5f53\u505awebdav\u6587\u4ef6\u7f51\u76d8\u6302\u8f7d\u5230Windows, macOS, linux\u7684\u78c1\u76d8\u4e2d\u8fdb\u884c\u4f7f\u7528\u3002webdav\u90e8\u7f72\u652f\u6301docker\u955c\u50cf\uff0c\u955c\u50cf\u53ea\u6709\u4e0d\u523010MB\u975e\u5e38\u5c0f\u5de7\u3002</li> <li>\u652f\u6301JavaScript\u63d2\u4ef6\uff0c\u4f60\u53ef\u4ee5\u6309\u7167\u81ea\u5df1\u7684\u9700\u8981\u5b9a\u5236\u4e0a\u4f20/\u4e0b\u8f7d\u4e2d\u5173\u952e\u6b65\u9aa4\u7684\u884c\u4e3a\uff0c\u6700\u5927\u7a0b\u5ea6\u6ee1\u8db3\u81ea\u5df1\u7684\u4e2a\u6027\u5316\u9700\u6c42 \u5728linux\u4e2d\u4e0b\u8f7daliyunpan</li> </ol> <p>\u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/qq_41174671/article/details/127310715</p> </li> </ol> <p>\u70b9\u51fb\u6b64\u5904\u67e5\u770b\u5b98\u65b9\u6559\u7a0b</p> <ol> <li> <p>\u4e0b\u8f7d\u4e0e\u5b89\u88c5</p> <pre><code>#\u5148\u8fdb\u5165\u60f3\u5c06\u5b89\u88c5\u5305\u5b89\u88c5\u5728\u54ea\u91cc\u7684\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u4e0b\u8f7d\nwget https://github.com/tickstep/aliyunpan/releases/download/v0.2.2/aliyunpan-v0.2.2-linux-amd64.zip\n# download\u540e\u9762\u63a5\u7684\u5c31\u662f\u7248\u672c\u53f7\uff0c\u7136\u540e\u518d\u63a5\u53d1\u5e03\u9875\u7684\u5b89\u88c5\u5305\u540d\nunzip aliyunpan-v0.2.2-linux-amd64.zip #\u89e3\u538b\u5b89\u88c5\u5305\ncd aliyunpan-v0.2.2-linux-amd64  #\u8fdb\u5165\u5b89\u88c5\u5305\n./aliyunpan #\u542f\u52a8aliyunpan\nlogin #\u767b\u5f55\u8d26\u53f7\n</code></pre> </li> <li> <p>\u767b\u5f55</p> <p>refresh token\uff1ab69841de9160458da59d7757887b56c0</p> </li> <li> <p>\u67e5\u770b\u547d\u4ee4</p> <pre><code># \u83b7\u53d6\u7a0b\u5e8f\u7684\u529f\u80fd\nhelp\n# \u83b7\u53d6\u8d26\u6237\u6587\u4ef6\nls\n</code></pre> <p>\u975e\u5e38\u6709\u7528\u7684\u547d\u4ee4\uff1a<code>help</code></p> </li> <li> <p>\u4e0b\u8f7d\u6587\u4ef6</p> <p>\u901a\u8fc7 <code>config set -savedir &lt;savedir&gt;</code> \u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e0b\u8f7d\u6587\u4ef6\u4fdd\u5b58\u7684\u76ee\u5f55\u3002</p> <pre><code>download \u6587\u4ef6\u540d\n</code></pre> </li> <li> <p>\u4e0a\u4f20\u6587\u4ef6</p> <pre><code>upload &lt;\u672c\u5730\u6587\u4ef6/\u76ee\u5f55\u7684\u8def\u5f841&gt; &lt;\u6587\u4ef6/\u76ee\u5f552&gt; &lt;\u6587\u4ef6/\u76ee\u5f553&gt; ... &lt;\u76ee\u6807\u76ee\u5f55&gt;\n</code></pre> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u4e0a\u4f20\u6587\u4ef6\u547d\u4ee4\u793a\u4f8b\uff1a</p> <pre><code>upload /root/autodl-fs/poisson_src_bkg.pkl.npy /LHAI\n</code></pre> </li> </ol>"},{"location":"zh/Content/codes/train/","title":"\u4ecegit clone\u5f00\u59cb\u8bad\u7ec3\u6a21\u578b","text":"<p><code>train.py</code>\u5b58\u653e\u5730\u5740:</p> <pre><code>LHAI/LHAI/modeling/train.py\n</code></pre> <p>\u5728\u4e86\u89e3\u4e86LHAI\u6e90\u4ee3\u7801\u7ed3\u6784\uff1a<code>data</code>,<code>docs</code>,<code>LHAI</code>,<code>saves</code> \u6587\u4ef6\u5939\u7684\u57fa\u672c\u4f5c\u7528\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u8bad\u7ec3\u6a21\u578b\u3001\u8fdb\u884c\u63a8\u7406\u4e86\u3002</p> <p>\u8fd9\u4e00\u9875\u5c06\u4f1a\u4ece <code>git clone</code> \u5f00\u59cb\uff0c\u53d9\u8ff0\u6211\u4eec\u8be5\u51c6\u5907\u54ea\u4e9b\u4e1c\u897f\uff0c\u5982\u4f55\u5f00\u59cb\u8fdb\u884c\u8bad\u7ec3\u3002</p> <ol> <li> <p>\u7b2c\u4e00\u6b65\uff1agit clone</p> <p>\u5148\u5b89\u88c5lfs\uff0c\u4ee5\u4e0b\u8f7d\u5927\u6587\u4ef6\uff08\u6570\u636e\uff09\uff1a</p> <pre><code>conda install -c conda-forge git-lfs\ngit lfs install\n</code></pre> <pre><code>git clone --branch Code https://github.com/boobyuuuu/LHAI.git\n</code></pre> <p>\u8fd9\u4f1a\u4e0b\u8f7dCode branch\u4e0b\u7684\u6240\u6709\u4ee3\u7801\u4e8eLHAI\u6587\u4ef6\u5939\u5185\u3002\u6253\u5f00\u6587\u4ef6\u5939\uff1a</p> <pre><code>cd LHAI\n</code></pre> </li> <li> <p>\u68c0\u67e5LHAI\u6587\u4ef6\u5939\u7684\u9879\u76eestructure\uff0c\u662f\u5426\u5305\u542b\u5b8c\u6574\uff1a</p> <pre><code>\u251c\u2500\u2500 LICENSE            &lt;- \u5f00\u6e90\u8bb8\u53ef\u8bc1\uff08\u5982\u679c\u9009\u62e9\u4f7f\u7528\uff09\n\u251c\u2500\u2500 Makefile           &lt;- \u63d0\u4f9b\u4fbf\u5229\u547d\u4ee4\u7684Makefile\uff0c\u4f8b\u5982 `make data` \u6216 `make train`\n\u251c\u2500\u2500 README.md          &lt;- \u9762\u5411\u5f00\u53d1\u8005\u7684\u9876\u7ea7README\u6587\u4ef6\n\u251c\u2500\u2500 data               &lt;- \u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\uff08\u63a8\u8350\u4f7f\u7528npy\u683c\u5f0f\u4e0a\u4f20\uff09\n\u2502   \u251c\u2500\u2500 FERMI\n\u2502   \u251c\u2500\u2500 POISSON\n\u2502   \u251c\u2500\u2500 SIMU\n\u2502   \u2514\u2500\u2500 RAW\n\u2502\n\u251c\u2500\u2500 saves              &lt;- \u4fdd\u5b58\u8bad\u7ec3\u4e2d\u7684\u56fe\u50cf\u3001\u635f\u5931\u6570\u636e\u3001\u8bad\u7ec3\u540e\u7684\u6a21\u578b\u548c\u9884\u6d4b\u7ed3\u679c\n\u2502   \u251c\u2500\u2500 FIGURE         &lt;- \u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u4fdd\u5b58\u7684\u56fe\u50cf\n\u2502   \u2502\u2500\u2500 PRE_FIG        &lt;- \u63a8\u7406\u65f6\u4fdd\u5b58\u7684\u56fe\u50cf\n\u2502   \u251c\u2500\u2500 LOSS           &lt;- \u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u4fdd\u5b58\u7684\u635f\u5931\u6570\u636e(.npy)\u548c\u635f\u5931\u56fe\u50cf(.png)\n\u2502   \u2514\u2500\u2500 MODEL          &lt;- \u4fdd\u5b58\u7684\u5df2\u8bad\u7ec3\u6a21\u578b\u548c\u5e8f\u5217\u5316\u6a21\u578b\n\u2502\n\u251c\u2500\u2500 docs               &lt;- \u9ed8\u8ba4\u7684mkdocs\u9879\u76ee\u6587\u4ef6\uff1b\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003 www.mkdocs.org\n\u2502\n\u251c\u2500\u2500 notebooks          &lt;- Jupyter notebooks\uff0c\u547d\u540d\u89c4\u8303\u5305\u62ec\u7f16\u53f7\u3001\u521b\u5efa\u8005\u7f29\u5199\u548c\u63cf\u8ff0\uff0c\u4f8b\u5982\uff1a\n\u2502                         `1.0-jqp-initial-data-exploration`\n\u2502\n\u251c\u2500\u2500 pyproject.toml     &lt;- \u9879\u76ee\u914d\u7f6e\u6587\u4ef6\uff0c\u5305\u542bLHAI\u7684\u5305\u5143\u6570\u636e\u53ca\u5de5\u5177\uff08\u5982black\uff09\u7684\u914d\u7f6e\n\u2502\n\u251c\u2500\u2500 references         &lt;- \u6570\u636e\u5b57\u5178\u3001\u624b\u518c\u548c\u5176\u4ed6\u8bf4\u660e\u6027\u8d44\u6599\n\u2502\n\u251c\u2500\u2500 reports            &lt;- \u751f\u6210\u7684\u5206\u6790\u62a5\u544a\uff08HTML\u3001PDF\u3001LaTeX\u7b49\uff09\n\u2502   \u2514\u2500\u2500 figures        &lt;- \u62a5\u544a\u4e2d\u751f\u6210\u7684\u56fe\u8868\u548c\u56fe\u5f62\n\u2502\n\u251c\u2500\u2500 requirements.txt   &lt;- \u7528\u4e8e\u518d\u73b0\u5206\u6790\u73af\u5883\u7684\u4f9d\u8d56\u6587\u4ef6\uff0c\u4f8b\u5982\u901a\u8fc7\n\u2502                         `pip freeze &gt; requirements.txt` \u751f\u6210\n\u2502\n\u251c\u2500\u2500 setup.cfg          &lt;- flake8\u7684\u914d\u7f6e\u6587\u4ef6\n\u2502\n\u2514\u2500\u2500 LHAI               &lt;- \u672c\u9879\u76ee\u4f7f\u7528\u7684\u6e90\u4ee3\u7801\n    \u2502\n    \u251c\u2500\u2500 __init__.py             &lt;- \u4f7fLHAI\u6210\u4e3a\u4e00\u4e2aPython\u6a21\u5757\n    \u2502\n    \u251c\u2500\u2500 config.py               &lt;- \u5b58\u50a8\u6709\u7528\u7684\u53d8\u91cf\u548c\u914d\u7f6e\n    \u2502\n    \u251c\u2500\u2500 dataset.py              &lt;- \u4e0b\u8f7d\u6216\u751f\u6210\u6570\u636e\u7684\u811a\u672c\n    \u2502\n    \u251c\u2500\u2500 features.py             &lt;- \u7528\u4e8e\u751f\u6210\u5efa\u6a21\u7279\u5f81\u7684\u4ee3\u7801\n    \u2502\n    \u251c\u2500\u2500 modeling                &lt;- \u6a21\u578b\u8bad\u7ec3\u548c\u63a8\u7406\u4ee3\u7801\n    \u2502   \u251c\u2500\u2500 __init__.py \n    \u2502   \u251c\u2500\u2500 predict.py          &lt;- \u7528\u4e8e\u6a21\u578b\u63a8\u7406\u7684\u4ee3\u7801          \n    \u2502   \u2514\u2500\u2500 train.py            &lt;- \u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\u7684\u4ee3\u7801\n    \u2502\n    \u251c\u2500\u2500 models                  &lt;- \u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u4ee3\u7801\n    \u2502   \u2514\u2500\u2500 CNN_EXP_0_1.py      &lt;- \u6a21\u578b\u540d\u79f0_\u5b9e\u9a8c\u7f16\u53f7.py\n    \u2502\n    \u2502\u2500\u2500 function                &lt;- \u8bad\u7ec3\u548c\u63a8\u7406\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u529f\u80fd\u4ee3\u7801\n    \u2502  \u251c\u2500\u2500 Dataset.py           &lt;- \u6570\u636e\u96c6\u52a0\u8f7d\u529f\u80fd\n    \u2502  \u251c\u2500\u2500 Log.py               &lt;- \u65e5\u5fd7\u8bb0\u5f55\u529f\u80fd\n    \u2502  \u2514\u2500\u2500 Loss.py              &lt;- \u635f\u5931\u751f\u6210\u529f\u80fd\n    \u2502\n    \u2514\u2500\u2500 plots.py                &lt;- \u7528\u4e8e\u751f\u6210\u53ef\u89c6\u5316\u7684\u4ee3\u7801\n</code></pre> </li> <li> <p>\u914d\u7f6e python \u73af\u5883</p> <p>\u9996\u5148\u786e\u5b9a\u6211\u4eec\u7684\u673a\u5668\u7684\u5b8f\u89c2\u73af\u5883\u80fd\u591f\u7528\u4e8e\u673a\u5668\u5b66\u4e60\u4efb\u52a1\uff0c\u6211\u4e00\u822c\u559c\u6b22\u9009\u62e9\u670d\u52a1\u5668\u914d\u7f6e\uff1a</p> <pre><code>PyTorch  2.1.0\nPython  3.10(ubuntu22.04)\nCuda  12.1\n</code></pre> <p>\u5f53\u7136\uff0c\u66f4\u9ad8\u7684\u914d\u7f6e\u4e5f\u6ca1\u6709\u95ee\u9898\uff0c\u53ea\u662f\u8fd9\u4e2a\u914d\u7f6e\u6700\u7ecf\u5178\u548c\u7a33\u5b9a\uff1b</p> <p>\u7136\u540e\uff0c\u9700\u8981\u521b\u5efapython\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5python\u73af\u5883\uff1a</p> <pre><code>pip install -m requirements.txt\n</code></pre> <p>\u8fd9\u6837\u73af\u5883\u65b9\u9762\u5c31\u6ca1\u6709\u95ee\u9898\u4e86\u3002</p> </li> <li> <p>\u51c6\u5907\u6570\u636e\uff0c\u5e76\u4e14\u653e\u5230\u6570\u636e\u6587\u4ef6\u5939 <code>data</code> \u5bf9\u5e94\u7684\u7c7b\u522b\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u6307\u5411\u6211\u4eec\u7684\u6570\u636e</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684\u6cca\u677e\u7c7b\u578b\u6570\u636e <code>poisson_src_bkg.pkl.npy</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"data\" / \"POISSON\" / poisson_src_bkg.pkl.npy\n</code></pre> <p>\u5728train\u4e2d\u5bf9\u8bad\u7ec3\u7528\u5230\u7684\u6570\u636e\u53d8\u91cf\u6709\u4e09\u4e2a\uff1a</p> <pre><code>DATA_DIR = PROJ_ROOT / \"data\" / \"POISSON\"                                           # \u53c2\u65703\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u6570\u636e\u96c6\u7684\u6587\u4ef6\u540d\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4fee\u6539\nDATA_NAME = \"poisson_src_bkg.pkl.npy\"                                               # \u53c2\u65704\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4fee\u6539\nDATA_PATH = DATA_DIR / DATA_NAME\n</code></pre> </li> <li> <p>\u51c6\u5907\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801\uff0c\u653e\u5230\u795e\u7ecf\u7f51\u7edc\u6587\u4ef6\u5939\u5185\uff0c\u4fee\u6539 <code>config.py</code> \u4f7f\u4e4b\u80fd\u591f\u5f15\u7528\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801</p> <p>\u6bd4\u5982\u6839\u636e <code>config.py</code> \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6211\u7684CNN\u7c7b\u578b\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801 <code>CNN_EXP_0_1.py</code> \u8def\u5f84\u5c31\u662f\uff1a</p> <pre><code>\"LHAI\" / \"models\" / CNN_EXP_0_1.py\n</code></pre> <p>\u5728train\u4e2d\u5bf9\u8bad\u7ec3\u7528\u5230\u7684\u6a21\u578b\u53d8\u91cf\u6709\u4e09\u4e2a\uff1a</p> <pre><code>EXP_NAME = \"EXP_0_1\"                                                                # \u53c2\u65701\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u5b9e\u9a8c\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4fee\u6539\nMODEL_NAME = \"CNN\"                                                                  # \u53c2\u65702\uff1a\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e0d\u540c\u7684\u6a21\u578b\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4fee\u6539\nMODEL_PATH = PROJ_ROOT / \"LHAI\" / \"models\" / f\"{MODEL_NAME}_{EXP_NAME}.py\"\n</code></pre> </li> <li> <p>\u53ef\u4ee5\u8bbe\u7f6e\u5f88\u5c0f\u7684 <code>eopch</code> \u6570\u4ee5\u53ca \u8f83\u5927\u7684 <code>batchsize</code>\uff0c\u8fdb\u884c\u5feb\u901f\u7684\u9884\u8bad\u7ec3\uff0c\u786e\u4fdd\u8bad\u7ec3\u8fc7\u7a0b\u4e0d\u4f1a\u51fa\u95ee\u9898\u3002</p> </li> <li> <p>\u786e\u4fdd\u8bad\u7ec3\u8fc7\u7a0b\u4e0d\u4f1a\u51fa\u95ee\u9898\u4e4b\u540e\uff0c\u6b63\u5f0f\u8bbe\u7f6e\u53c2\u6570\uff0c\u5f00\u59cb\u8bad\u7ec3\u3002</p> <p>\u65b9\u6cd51\uff1a\u8bbe\u7f6e <code>config.py</code> \u4e2dTRAIN\u7684\u53c2\u6570\uff0c\u5728 <code>modeling</code> \u6587\u4ef6\u5939\u4e2d\u76f4\u63a5\u8fd0\u884c\u3002</p> <pre><code>python train.py\n</code></pre> <p>\u65b9\u6cd52\uff1a\u9ad8\u7aef\u4e00\u70b9\u7684\u76f4\u63a5\u901a\u8fc7 <code>Typer</code> \u63a5\u53e3\u8bbe\u7f6e\u547d\u4ee4\u884c\u53c2\u6570</p> <pre><code>python train.py --model-name \"GAN\" --exp-name \"MyExperiment\" --data-dir \"./data\" --data-name \"dataset.csv\" --seed 42 --traintype \"supervised\" --frac-train 0.8 --epochs 10 --batch-size 32 --latentdim 128 --lr-max 0.01 --lr-min 0.001\n</code></pre> <p>\u5177\u4f53\u8bf7\u770b Code Section \u7684 LHAI \u624b\u518c\u9875\u9762\u3002</p> </li> </ol> <p>by Zihang Liu</p>"},{"location":"zh/Content/data/#1","title":"1 \u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\u4e0e\u5b58\u50a8\u65b9\u5f0f","text":"<p>\u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\uff1a</p> <pre><code>[\u6e90\u7c7b\u578b]_[\u6570\u636e\u6570\u91cf]_[\u56fe\u7247\u5927\u5c0f]_[\u7528\u9014]_[\u9884\u5904\u7406]_[\u7248\u672c].npy\n</code></pre> <p>\u6570\u636e\u96c6\u5b58\u50a8\u65b9\u5f0f\u4ecb\u7ecd\uff1a</p> <p>\u672c\u6570\u636e\u96c6\u4ee5 NumPy \u6570\u7ec4\uff08.npy\uff09\u683c\u5f0f\u5b58\u50a8\uff0c\u6570\u636e\u7ed3\u6784\u4e3a\u56db\u7ef4\u6570\u7ec4 (N, 2, H, W)\uff0c\u5176\u4e2d N \u8868\u793a\u6837\u672c\u6570\u91cf\uff0cH \u548c W \u5206\u522b\u4e3a\u56fe\u50cf\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6\u3002\u6bcf\u4e2a\u6837\u672c\u5305\u542b\u4e00\u5bf9\u56fe\u50cf\uff0c\u6309\u987a\u5e8f\u5b58\u50a8\u4e3a\u6e05\u6670\u56fe\u50cf\u4e0e\u6a21\u7cca\u56fe\u50cf\uff0c\u5373\u7ef4\u5ea6\u7d22\u5f15\u4e3a 0 \u7684\u56fe\u50cf\u4e3a\u6e05\u6670\u56fe\uff08\u5982\u9ad8\u5206\u8fa8\u7387\u6216\u53c2\u8003\u56fe\uff09\uff0c\u7d22\u5f15\u4e3a 1 \u7684\u56fe\u50cf\u4e3a\u5bf9\u5e94\u7684\u6a21\u7cca\u56fe\uff08\u5982\u4f4e\u5206\u8fa8\u7387\u6216\u9000\u5316\u56fe\uff09\u3002</p> <p>\u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\u8bf4\u660e</p> \u5b57\u6bb5\u540d \u793a\u4f8b \u542b\u4e49\u8bf4\u660e <code>\u6e90\u7c7b\u578b</code> <code>mic</code> / <code>sim</code> / <code>real</code> \u6570\u636e\u6765\u6e90\u7c7b\u578b\uff1a\u5982 <code>mic</code> \u8868\u793a\u663e\u5fae\u56fe\u50cf\uff0c<code>sim</code> \u8868\u793a\u6a21\u62df\u6570\u636e\uff0c<code>real</code> \u8868\u793a\u771f\u5b9e\u91c7\u96c6\u56fe\u50cf <code>\u6570\u636e\u6570\u91cf</code> <code>7000</code> / <code>12000</code> \u5f53\u524d\u6587\u4ef6\u4e2d\u5305\u542b\u7684\u56fe\u50cf\u5bf9\u6570\u91cf\uff0c\u4fbf\u4e8e\u5feb\u901f\u4e86\u89e3\u6570\u636e\u89c4\u6a21 <code>\u56fe\u7247\u5927\u5c0f</code> <code>64</code> / <code>128</code> \u5355\u5f20\u56fe\u50cf\u7684\u7a7a\u95f4\u5c3a\u5bf8\uff08\u9ad8 \u00d7 \u5bbd\uff09\uff0c\u9002\u7528\u4e8e\u6a21\u578b\u8f93\u5165\u914d\u7f6e <code>\u7528\u9014</code> <code>train</code> / <code>val</code> / <code>orig</code> \u6570\u636e\u7528\u9014\u6807\u8bb0\uff1a\u8bad\u7ec3\u96c6\u3001\u9a8c\u8bc1\u96c6\u6216\u539f\u59cb\u6570\u636e\u96c6 <code>\u9884\u5904\u7406</code> <code>norm</code> / <code>crop</code> / <code>none</code> \u6570\u636e\u662f\u5426\u7ecf\u8fc7\u5f52\u4e00\u5316\u3001\u88c1\u526a\u7b49\u9884\u5904\u7406\u64cd\u4f5c\uff0c\u82e5\u65e0\u9884\u5904\u7406\u53ef\u7701\u7565 <code>\u7248\u672c</code> <code>v1</code> / <code>v2.1</code> / <code>v3</code> \u6570\u636e\u96c6\u7248\u672c\u53f7\uff0c\u652f\u6301\u8fed\u4ee3\u7ef4\u62a4\u4e0e\u66f4\u65b0\u8ffd\u8e2a"},{"location":"zh/Content/data/simulation/","title":"\u6a21\u62df","text":""},{"location":"zh/Content/data/simulation/#_2","title":"\u4ecb\u7ecd","text":"<p>\u5bf9\u4e8e\u76d1\u7763\u5b66\u4e60\u8bad\u7ec3\uff0c\u6211\u4eec\u9700\u8981\u4e24\u7c7b\u6570\u636e\u2014\u2014 \u5f3a\u5ea6\u56fe \u548c \u8ba1\u6570\u56fe\u3002</p> <p>\u524d\u8005\u662f\u76ee\u6807\u56fe\uff0c\u6307\u7684\u662f\u4f3d\u9a6c\u5c04\u7ebf\u6e90\u7684\u672c\u5f81\u5149\u6d41\u5206\u5e03\u3002\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u6211\u4eec\u65e8\u5728\u4ece\u89c2\u6d4b\u5230\u7684\u8ba1\u6570\u56fe\u4e2d\u8fd8\u539f\u8be5\u5f3a\u5ea6\u56fe\u3002</p> <p>\u540e\u8005\u662f\u4eea\u5668\u68c0\u6d4b\u5230\u7684\u7a7a\u95f4\u4e8b\u4ef6\u5206\u5e03\uff0c\u56e0\u6b64\u53d7\u5230\u7cfb\u7edf\u8bef\u5dee\u548c\u968f\u673a\u6ce2\u52a8\u7684\u5f71\u54cd\u3002\u65e0\u8bba\u662f WCDA \u8fd8\u662f KM2A\uff0c\u90fd\u5b58\u5728\u5c06\u5b87\u5b99\u5c04\u7ebf\u4e8b\u4ef6\u8bef\u5206\u7c7b\u4e3a\u4f3d\u9a6c\u5c04\u7ebf\u4e8b\u4ef6\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u6570\u636e\u4e2d\u4e5f\u5305\u542b\u5b87\u5b99\u5c04\u7ebf\u80cc\u666f\u3002\u7531\u4e8e\u65b9\u5411\u91cd\u5efa\u8bef\u5dee\uff0c\u4f3d\u9a6c\u5c04\u7ebf\u6e90\u7684\u5f62\u6001\u4f1a\u53d7\u5230\u7a7a\u95f4\u4e0d\u786e\u5b9a\u6027\u7684\u5f71\u54cd\uff0c\u5e76\u4e0e\u70b9\u6269\u6563\u51fd\u6570\uff08PSF\uff09\u4e00\u8d77\u88ab\u6a21\u7cca\u5316\u3002</p> <p>\u56e0\u6b64\uff0c\u4e3a\u4e86\u6a21\u62df\u4eea\u5668\u54cd\u5e94\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u4f3d\u9a6c\u5c04\u7ebf\u80cc\u666f\u3001\u6e90\u5f3a\u5ea6\u3001\u5b9a\u4f4d\u8bef\u5dee\u4ee5\u53ca\u5b87\u5b99\u5c04\u7ebf\u80cc\u666f\u3002\u76ee\u524d\uff0c\u6211\u4eec\u672a\u6dfb\u52a0\u5b87\u5b99\u5c04\u7ebf\u80cc\u666f\uff0c\u800c\u662f\u5047\u8bbe\u6837\u672c\u4e3a\u7eaf\u4f3d\u9a6c\u5c04\u7ebf\u4e8b\u4ef6\u3002\u6b64\u5916\uff0c\u4e00\u79cd\u6a21\u62df\u5b9a\u4f4d\u8bef\u5dee\u7684\u5b9e\u9645\u65b9\u6cd5\u662f\u91c7\u7528\u57fa\u4e8e\u5927\u6c14\u7c07\u5c04\u8499\u7279\u5361\u7f57\u6a21\u62df\u751f\u6210\u7684 PSF\u3002</p>"},{"location":"zh/Content/data/simulation/#_3","title":"\u4f3d\u9a6c\u5c04\u7ebf\u80cc\u666f","text":""},{"location":"zh/Content/data/simulation/#_4","title":"\u6f2b\u5c04\u4f3d\u9a6c\u5c04\u7ebf\u80cc\u666f\u6a21\u578b","text":"<p>\u8d39\u7c73 LAT \u63d0\u4f9b\u7684\u6f2b\u5c04\u4f3d\u9a6c\u5c04\u7ebf\u80cc\u666f\u6a21\u578b \u57fa\u4e8e\u5bf9\u94f6\u6cb3\u7cfb\u4e2d\u6f2b\u5c04\u6c14\u4f53\u7684\u591a\u6ce2\u6bb5\u89c2\u6d4b\u5f97\u51fa\u3002\u539f\u59cb\u80cc\u666f\u6570\u636e\u4ee5 FITS \u683c\u5f0f\u5b58\u50a8\uff0c\u5206\u4e3a 28 \u4e2a\u80fd\u91cf\u533a\u95f4\u3002\u6211\u4eec\u4f7f\u7528 Python \u5e93 healpy \u5c06\u5176\u8f6c\u6362\u4e3a HEALPix \u6570\u636e\u3002\u5f53\u524d\u6570\u636e\u7684\u89d2\u5206\u8fa8\u7387\uff08\u50cf\u7d20\u5bbd\u5ea6\uff09\u7ea6\u4e3a \\(0.1\\deg\\)\u3002</p> <p></p> <p>\u901a\u8fc7\u5728\u5168\u5929\u56fe\u4e0a\u9009\u62e9\u4e0d\u540c\u533a\u57df\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u4f3d\u9a6c\u5c04\u7ebf\u80cc\u666f\u7684\u5f3a\u5ea6\u56fe\u3002\u9009\u62e9\u7684\u50cf\u7d20\u968f\u540e\u88ab\u63d2\u503c\u4e3a\u7b1b\u5361\u5c14\u5750\u6807\uff0c\u50cf\u7d20\u5bbd\u5ea6\u4e3a \\(\\delta x = 0.1\\deg\\)\u3002\u4e3a\u4fbf\u4e8e\u8ba1\u7b97\uff0c\u6211\u4eec\u9009\u62e9 \\(6.5\\times6.5\\deg\\) \u7684\u533a\u57df\uff0c\u8fd9\u4f1a\u751f\u6210 \\(64\\times64\\) \u7684\u6570\u7ec4\u3002</p>"},{"location":"zh/Content/data/simulation/#psf","title":"\u70b9\u6269\u6563\u51fd\u6570\uff08PSF\uff09","text":"<p>PSF \u7684\u5047\u8bbe\u662f\u4e00\u79cd\u7c97\u7565\u65b9\u6cd5\uff0c\u4ec5\u7528\u4e8e\u521d\u6b65\u5c1d\u8bd5\u3002\u8bbe\u5b9a\u5bf9\u79f0 PSF \u610f\u5473\u7740\u5047\u5b9a\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u5b9a\u4f4d\u8bef\u5dee\u76f8\u540c\uff0c\u800c\u5b9e\u9645\u60c5\u51b5\u5e76\u975e\u5982\u6b64\u3002PSF \u4f1a\u968f\u8d64\u7eac\u548c\u80fd\u91cf\u53d8\u5316\uff0c\u4e14\u4e0d\u4e00\u5b9a\u662f\u5bf9\u79f0\u7684\u3002</p> <p>\u901a\u8fc7\u5bf9\u9009\u5b9a\u5f3a\u5ea6\u56fe\u8fdb\u884c PSF \u7684\u4e8c\u7ef4\u5377\u79ef\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u6a21\u7cca\u5316\u7684\u5929\u7a7a\u56fe\u3002</p> <p></p>"},{"location":"zh/Content/data/simulation/#_5","title":"\u968f\u673a\u6ce2\u52a8","text":"<p>\u76ee\u524d\u5f97\u5230\u7684\u5929\u7a7a\u56fe\u4ecd\u7136\u662f\u67d0\u79cd\u6a21\u7cca\u5f3a\u5ea6\u56fe\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u50cf\u7d20\u503c\u53cd\u6620\u4e86\u8ba1\u6570\u6570\u76ee\u7684\u671f\u671b\u503c\u3002\u4f3d\u9a6c\u5c04\u7ebf\u7167\u7247\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u968f\u673a\u6cca\u677e\u8fc7\u7a0b\u7684\u4ea7\u7269\u3002\u6211\u4eec\u6839\u636e\u50cf\u7d20\u503c\u4f5c\u4e3a\u6cca\u677e\u5206\u5e03\u53c2\u6570\u8fdb\u884c\u4e86\u62bd\u6837\uff0c\u4ee5\u6a21\u62df\u968f\u673a\u5149\u5b50\u7684\u6ce2\u52a8\u3002\u6ce2\u52a8\u5f3a\u5ea6\u53d6\u51b3\u4e8e\u89c2\u6d4b\u65f6\u957f\uff0c\u66dd\u5149\u65f6\u95f4\u8d8a\u957f\uff0c\u4fe1\u566a\u6bd4\u8d8a\u9ad8\uff0c\u6210\u50cf\u8d28\u91cf\u8d8a\u597d\uff1b\u53cd\u4e4b\u4ea6\u7136\u3002</p> <p>\u4f5c\u8005\uff1a\u9f9a\u661f\u709c</p>"},{"location":"zh/Content/eval/","title":"\u8bc4\u4f30\u4ecb\u7ecd\u4e0e\u89c4\u8303\u5316\u6807\u51c6","text":""},{"location":"zh/Content/model/diffusion/","title":"diffusion \u5b9e\u9a8c\u6587\u6863","text":""},{"location":"zh/Content/model/diffusion/#1","title":"1 \u5b9e\u9a8c\u8d44\u6599","text":"<ul> <li> <p> sr3-notebook.ipynb \u6587\u4ef6\uff1a\u8c37\u6b4c\u7684sr3\uff08\u8d85\u5206\u8fa8\uff09\u6a21\u578b</p> </li> <li> <p> reshift\u9879\u76ee\u590d\u73b0\uff1a\u5f00\u6e90\u5728github\u4e0a\u7684diffusion\u8d85\u5206\u8fa8\u9879\u76ee</p> </li> <li> <p> Diffusion models for super-resolution microscopy: a tutorial \u8bba\u6587</p> </li> </ul>"},{"location":"zh/Content/model/diffusion/#2","title":"2 \u8bba\u6587\u590d\u73b0","text":"<p>\u5b8c\u6210\u8bba\u6587notebook\u590d\u73b0\u3002</p> <p>\u95ee\u9898</p> <p>\u5728\u8fd9\u7bc7\u8bba\u6587\u7684\u6846\u67b6\u91cc\u9762\uff0c\u6709\u6ca1\u6709\u5bf9\u8f93\u5165\u8f93\u51fa\u56fe\u7247\u5c3a\u5bf8\u7684\u89c4\u5b9a\uff1f</p> <p>\u8981\u5c06\u8f93\u5165\u6570\u636e\u5c3a\u5bf8\u4ece <code>128\u00d7128</code> \u4fee\u6539\u4e3a <code>64\u00d764</code>\uff0c\u4e0d\u9700\u8981\u4fee\u6539 UNet \u6a21\u578b\u7ed3\u6784\uff0c\u4f46\u9700\u8981\u8c03\u6574\u4ee5\u4e0b\u4ee3\u7801\u90e8\u5206\uff1a</p>"},{"location":"zh/Content/model/diffusion/#1-diffusion-img_size","title":"1. \u4fee\u6539 <code>Diffusion</code> \u7c7b\u7684 <code>img_size</code> \u53c2\u6570","text":"<p>\u5728\u521d\u59cb\u5316\u6269\u6563\u6a21\u578b\u65f6\uff0c\u663e\u5f0f\u6307\u5b9a <code>img_size=64</code>\uff1a</p> <pre><code># \u4fee\u6539\u524d\ndiffusion = Diffusion(noise_steps=201, beta_start=0.0001, beta_end=0.02)\n\n# \u4fee\u6539\u540e\ndiffusion = Diffusion(\n    noise_steps=201,\n    beta_start=0.0001,\n    beta_end=0.02,\n    img_size=64  # \u5173\u952e\u8c03\u6574\n)\n</code></pre>"},{"location":"zh/Content/model/diffusion/#2-unet","title":"2. \u9a8c\u8bc1 UNet \u7ed3\u6784\u7684\u517c\u5bb9\u6027","text":"<p>\u5f53\u524d <code>AttentionUNet</code> \u7684\u53c2\u6570\u4e3a <code>channels=[32, 64, 128]</code>\uff0c\u8868\u793a\u6709 3 \u6b21\u4e0b\u91c7\u6837\uff08\u6bcf\u6b21\u5206\u8fa8\u7387\u51cf\u534a\uff09\uff0c\u56e0\u6b64\u8f93\u5165\u5c3a\u5bf8\u9700\u6ee1\u8db3\uff1a</p> \\[ \\text{\u8f93\u5165\u5c3a\u5bf8} \\div 2^3 = \\text{\u6574\u6570} \\] <p>\u5bf9\u4e8e <code>64\u00d764</code>\uff1a</p> \\[ 64 \\div 8 = 8 \\quad (\\text{\u5408\u6cd5}) \\] <p>\u56e0\u6b64\uff0cUNet \u5b8c\u5168\u517c\u5bb9 <code>64\u00d764</code> \u7684\u8f93\u5165\uff0c\u65e0\u9700\u8c03\u6574\u5176\u7ed3\u6784\u3002</p>"},{"location":"zh/Content/model/diffusion/#3","title":"3. \u8c03\u6574\u6570\u636e\u9884\u5904\u7406","text":"<p>\u786e\u4fdd\u8bad\u7ec3\u6570\u636e\u96c6\u7684\u56fe\u50cf\u88ab\u6b63\u786e\u7f29\u653e\u5230 <code>64\u00d764</code>\u3002\u4f8b\u5982\uff1a</p> <pre><code># \u6570\u636e\u52a0\u8f7d\u65f6\u9700\u786e\u4fdd\u56fe\u50cf\u5c3a\u5bf8\u4e3a 64\u00d764\nlow_res_image, high_res_image = train_dataset[...]  # \u5047\u8bbe\u6570\u636e\u5df2\u9884\u5904\u7406\u4e3a 64\u00d764\n</code></pre>"},{"location":"zh/Content/model/diffusion/#4","title":"4. \u53cd\u5411\u6269\u6563\u8fc7\u7a0b\u7684\u517c\u5bb9\u6027","text":"<p>\u5728 <code>reverse_diffusion</code> \u65b9\u6cd5\u4e2d\uff0c\u566a\u58f0\u521d\u59cb\u5316\u5df2\u4f9d\u8d56 <code>self.img_size</code>\uff0c\u56e0\u6b64\u81ea\u52a8\u9002\u914d <code>64\u00d764</code>\uff1a</p> <pre><code>x = torch.randn((n_images, n_channels, self.img_size, self.img_size))  # \u81ea\u52a8\u751f\u6210 64\u00d764 \u7684\u566a\u58f0\n</code></pre>"},{"location":"zh/Content/model/diffusion/#5","title":"5. \u6f5c\u5728\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>UNet \u7279\u5f81\u56fe\u5c3a\u5bf8\uff1a  </li> </ul> <p>\u8f93\u5165 <code>64\u00d764</code> \u65f6\uff0c\u7ecf\u8fc7 3 \u6b21\u4e0b\u91c7\u6837\u540e\uff0c\u6700\u6df1\u5c42\u7279\u5f81\u56fe\u5c3a\u5bf8\u4e3a\uff1a</p> <p>[   64 \\div 2^3 = 8 \\times 8   ]</p> <p>\u82e5\u7279\u5f81\u56fe\u8fc7\u5c0f\uff08\u5982\u4f4e\u4e8e <code>4\u00d74</code>\uff09\uff0c\u53ef\u80fd\u5f71\u54cd\u6a21\u578b\u6027\u80fd\uff0c\u4f46 <code>8\u00d78</code> \u662f\u5408\u7406\u7684\u3002</p> <ul> <li>\u6761\u4ef6\u8f93\u5165\u7684\u4e00\u81f4\u6027\uff1a  </li> </ul> <p>\u5982\u679c\u4efb\u52a1\u662f\u591a\u6a21\u6001\u8f93\u5165\uff08\u5982\u4f4e\u5206\u8fa8\u7387\u56fe\u50cf\u4f5c\u4e3a\u6761\u4ef6\uff09\uff0c\u9700\u786e\u4fdd\u6761\u4ef6\u56fe\u50cf\u7684\u5c3a\u5bf8\u4e5f\u4e3a <code>64\u00d764</code>\u3002</p>"},{"location":"zh/Content/model/diffusion/#_1","title":"\u603b\u7ed3","text":"<ul> <li> <p>\u65e0\u9700\u4fee\u6539 UNet \u7ed3\u6784\uff0c\u53ea\u9700\u8c03\u6574 <code>Diffusion</code> \u7684 <code>img_size=64</code> \u548c\u6570\u636e\u9884\u5904\u7406\u3002</p> </li> <li> <p>\u5b8c\u6574\u4fee\u6539\u6b65\u9aa4\uff1a</p> </li> <li> <p>\u5728 <code>Diffusion</code> \u521d\u59cb\u5316\u65f6\u8bbe\u7f6e <code>img_size=64</code>\u3002</p> </li> <li> <p>\u786e\u4fdd\u8bad\u7ec3\u6570\u636e\u4e3a <code>64\u00d764</code>\u3002</p> </li> <li> <p>\u5176\u4ed6\u4ee3\u7801\uff08\u5982 UNet \u5b9a\u4e49\u3001\u6269\u6563\u8fc7\u7a0b\uff09\u4fdd\u6301\u4e0d\u53d8\u3002</p> </li> </ul> <p>\u82e5\u4ee3\u7801\u4e2d\u672a\u786c\u7f16\u7801 <code>128\u00d7128</code>\uff08\u5982\u53ef\u89c6\u5316\u90e8\u5206\uff09\uff0c\u5219\u65e0\u9700\u989d\u5916\u4fee\u6539\u3002\u5efa\u8bae\u8fd0\u884c\u540e\u68c0\u67e5\u5f20\u91cf\u5f62\u72b6\u662f\u5426\u5339\u914d\uff08\u5982 <code>print(x.shape)</code>\uff09\u3002</p> <p>\u95ee\u98982</p> <p>\u6570\u636e\u7684\u6807\u51c6\u5316normalize\u90e8\u5206</p> <p>\u95ee\u98983</p> <p>\u8bad\u7ec3\u6570\u636e\u6570\u91cf\u7ea7\u95ee\u9898\uff0c\u81f3\u5c11\u9700\u8981\u63d0\u9ad8\u4e00\u4e2a\u6570\u91cf\u7ea7</p>"},{"location":"zh/Content/model/diffusion/#3-novel","title":"3 novel\u6280\u672f\u8def\u7ebf\uff1a\u6269\u6563\u6a21\u578b\u5e76\u4e0d\u8d1f\u8d23\u201c\u5b8c\u6574\u751f\u6210\u56fe\u50cf\u201d\uff0c\u800c\u662f\u201c\u5fae\u8c03/\u4fee\u590d/\u589e\u5f3a\u201d\u5df2\u6709\u56fe\u50cf","text":"<p>\u65b9\u6cd5\u63cf\u8ff0\uff1a\u7528\u5df2\u6709 UNet/CNN \u8d85\u5206\u6a21\u578b\uff08\u6bd4\u5982 sr_image = my_model(lr_image)\uff09\u8f93\u51fa\u4e00\u4e2a\u7c97\u7565\u7684 HR \u56fe\u50cf\u3002\u7136\u540e\u6211\u4eec\u63a5\u7740\u4f7f\u7528\u4e00\u4e2a\u8bad\u7ec3\u597d\u7684\u6216\u5f85\u8bad\u7ec3\u7684 diffusion_model\uff0c\u8fdb\u4e00\u6b65\u7ec6\u5316\u8fd9\u4e2a\u56fe\u3002\u4e24\u79cd\u8def\u7ebf\uff1a</p> <ol> <li> <p>\u9009\u62e9\u5df2\u6709\u7684\u4e0e\u8bad\u7ec3diffusion model</p> </li> <li> <p>\u81ea\u5df1\u8bad\u7ec3\u4e13\u7528\u7684diffusion reinforcement model</p> </li> </ol>"},{"location":"zh/Content/model/diffusion/#1-unet-diffusion","title":"\u95ee\u98981 \u6211\u5c06\u539f\u6765\u7684 UNet \u8f93\u51fa\u7ed3\u679c\u4f5c\u4e3a Diffusion \u7684\u8f93\u5165\uff0c\u8fd9\u6837\u662f\u201c\u4e32\u8054\u4e24\u4e2a\u6a21\u578b\u201d\uff0c\u771f\u7684\u66f4\u597d\u5417\uff1f","text":"<ol> <li> <p>\u52a0\u901fdiffusion\u63a8\u7406\u8fc7\u7a0b   \u539f\u59cb diffusion \u6a21\u578b\u4ece\u7eaf\u566a\u58f0\u751f\u6210\u56fe\u50cf\uff0c\u63a8\u7406\u8981\u8d70\u51e0\u5341\u751a\u81f3\u4e0a\u767e\u6b65\uff1b   \u800c SR \u6a21\u578b\u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5408\u7406\u7ed3\u6784\uff0cdiffusion \u53ea\u9700\u201c\u5c11\u91cf\u6b65\u9aa4\u201d\u5b8c\u6210 refinement \u2192 \u5927\u5927\u52a0\u901f  </p> </li> <li> <p>\u878d\u5408\u7ed3\u6784\u611f\u77e5 + \u7ec6\u8282\u6062\u590d   UNet \u7ed3\u6784\u5584\u4e8e\u5b66\u4e60\u7a7a\u95f4\u7ed3\u6784\uff0c\u4f46\u7ec6\u8282\u80fd\u529b\u5dee\uff1b   diffusion \u5584\u4e8e\u91c7\u6837\u81ea\u7136\u7ec6\u8282\u7eb9\u7406 \u2192 \u4e24\u8005\u4e92\u8865\uff1b   \u6709\u70b9\u50cf\u5148\u753b\u8349\u56fe\u518d\u4e0a\u8272\u6da6\u8272\u3002  </p> </li> <li> <p>\u6a21\u5757\u590d\u7528   \u5982\u679c\u4f60\u539f\u6a21\u578b\u5df2\u7ecf\u8bad\u7ec3\u5f97\u4e0d\u9519\uff0c\u5c31\u65e0\u9700\u63a8\u5012\u91cd\u6765\uff0c\u53ea\u9700\u8bad\u7ec3\u4e2a\u5c0f diffusion refine \u7f51\u7edc\u5373\u53ef\u3002</p> </li> </ol>"},{"location":"zh/Content/model/diffusion/#2_1","title":"\u95ee\u98982 \u76f8\u5173\u7814\u7a76\u4e0e\u8bba\u6587","text":"\u540d\u79f0 \u5185\u5bb9\u6982\u8ff0 \u8bba\u6587\u94fe\u63a5 SR3 (Super-Resolution via Repeated Refinement) Google \u63d0\u51fa\u7684 diffusion \u8d85\u5206\u65b9\u6cd5\uff0c\u9010\u6b65 refine\uff0c\u6548\u679c\u663e\u8457 arXiv:2104.07636 SDEdit (Structure-preserving Diffusion Editing) \u4f7f\u7528\u5df2\u6709\u56fe\u50cf\u4f5c\u4e3a\u8d77\u70b9\uff0c\u7136\u540e\u7528\u6269\u6563 refine\uff0c\u9002\u7528\u4e8e image2image task arXiv:2108.01073 DDPM-SR (Janspiry) SR from coarse to fine\uff0c\u901a\u8fc7\u4e00\u4e2a baseline \u6a21\u578b + DDPM \u7cbe\u7ec6\u5316 GitHub \u9879\u76ee IR-SDE \u5b66\u4e60 residual image\uff0c\u6269\u6563\u53ea\u9884\u6d4b\u7ec6\u8282\u90e8\u5206 arXiv:2206.00364"},{"location":"zh/Content/model/diffusion/#4-edge","title":"4 edge\u6280\u672f\u8def\u7ebf","text":"<p>\u8def\u7ebf1\uff08\u76ee\u524d\u6700\u65b0\uff09Diffusion Transformer \u67b6\u6784\uff08DiT \u7cfb\u5217\uff09</p> <p>\u8fd1\u5e74\u6765\u8d85\u5206\u8fa8\u7387\uff08Super-Resolution, SR\uff09\u9886\u57df\u7684\u7814\u7a76\u91cd\u5fc3\u5df2\u7ecf\u4ece\u4f20\u7edf\u7684 UNet + Diffusion \u7ec4\u5408\uff0c\u9010\u6b65\u8f6c\u5411\u4e86\u66f4\u5148\u8fdb\u7684 Transformer \u67b6\u6784\u4e0e Diffusion \u6a21\u578b\u7684\u878d\u5408\u3002\uff08\u53ef\u80fd\u4e0d\u51c6\u786e\uff09</p>"},{"location":"zh/Content/model/diffusion/#1-diffusion-transformer-dit","title":"1. Diffusion Transformer \u67b6\u6784\uff08DiT \u7cfb\u5217\uff09","text":""},{"location":"zh/Content/model/diffusion/#dit-sr2024","title":"\u2705 DiT-SR\uff082024\uff09","text":"<ul> <li>\u6838\u5fc3\u601d\u60f3\uff1a\u5c06 Transformer \u878d\u5165\u6269\u6563\u6a21\u578b\uff0c\u91c7\u7528 U-shaped \u67b6\u6784\uff0c\u7edf\u4e00\u5404\u9636\u6bb5\u7684 Transformer \u5757\u8bbe\u8ba1\u3002</li> <li>\u521b\u65b0\u70b9\uff1a\u63d0\u51fa\u9891\u7387\u81ea\u9002\u5e94\u7684\u65f6\u95f4\u6b65\u8c03\u5236\u6a21\u5757\uff0c\u589e\u5f3a\u6a21\u578b\u5904\u7406\u4e0d\u540c\u9891\u7387\u4fe1\u606f\u7684\u80fd\u529b\u3002</li> <li>\u6027\u80fd\u8868\u73b0\uff1a\u5728\u591a\u4e2a\u57fa\u51c6\u6570\u636e\u96c6\u4e0a\uff0cDiT-SR \u663e\u8457\u4f18\u4e8e\u73b0\u6709\u7684\u4ece\u5934\u8bad\u7ec3\u7684\u6269\u6563\u8d85\u5206\u65b9\u6cd5\uff0c\u751a\u81f3\u8d85\u8fc7\u4e86\u4e00\u4e9b\u57fa\u4e8e\u9884\u8bad\u7ec3 Stable Diffusion \u7684\u65b9\u6cd5\u3002</li> </ul>"},{"location":"zh/Content/model/diffusion/#dit4sr2025","title":"\u2705 DiT4SR\uff082025\uff09","text":"<ul> <li>\u6838\u5fc3\u601d\u60f3\uff1a\u9488\u5bf9\u771f\u5b9e\u4e16\u754c\u56fe\u50cf\u8d85\u5206\u95ee\u9898\uff0c\u63d0\u51fa\u4e86 DiT4SR \u6a21\u578b\u3002</li> <li>\u521b\u65b0\u70b9\uff1a\u5c06\u4f4e\u5206\u8fa8\u7387\u56fe\u50cf\u7684\u5d4c\u5165\u96c6\u6210\u5230 DiT \u7684\u6ce8\u610f\u529b\u673a\u5236\u4e2d\uff0c\u5b9e\u73b0\u4f4e\u5206\u8fa8\u7387\u548c\u751f\u6210\u7279\u5f81\u4e4b\u95f4\u7684\u53cc\u5411\u4fe1\u606f\u6d41\u52a8\u3002</li> <li>\u6027\u80fd\u8868\u73b0\uff1a\u901a\u8fc7\u8fd9\u79cd\u8bbe\u8ba1\uff0cDiT4SR \u5728\u771f\u5b9e\u56fe\u50cf\u8d85\u5206\u4efb\u52a1\u4e2d\u8868\u73b0\u51fa\u8272\uff0c\u4f18\u4e8e\u4f20\u7edf\u7684 UNet \u67b6\u6784\u3002</li> </ul>"},{"location":"zh/Content/model/diffusion/#2-residual-diffusion","title":"2. Residual Diffusion \u67b6\u6784","text":""},{"location":"zh/Content/model/diffusion/#resdiff2023","title":"\u2705 ResDiff\uff082023\uff09","text":"<ul> <li>\u6838\u5fc3\u601d\u60f3\uff1a\u7ed3\u5408 CNN \u548c\u6269\u6563\u6a21\u578b\uff0cCNN \u8d1f\u8d23\u6062\u590d\u4f4e\u9891\u4fe1\u606f\uff0c\u6269\u6563\u6a21\u578b\u9884\u6d4b\u6b8b\u5dee\uff08\u9ad8\u9891\u7ec6\u8282\uff09\u3002</li> <li>\u521b\u65b0\u70b9\uff1a\u5728\u9891\u7387\u57df\u4e2d\u5f15\u5bfc\u6269\u6563\u8fc7\u7a0b\uff0c\u4e13\u6ce8\u4e8e\u9ad8\u9891\u7ec6\u8282\u7684\u6062\u590d\u3002</li> <li>\u6027\u80fd\u8868\u73b0\uff1a\u5728\u591a\u4e2a\u57fa\u51c6\u6570\u636e\u96c6\u4e0a\uff0cResDiff \u5728\u751f\u6210\u8d28\u91cf\u548c\u591a\u6837\u6027\u65b9\u9762\u4f18\u4e8e\u5148\u524d\u7684\u6269\u6563\u65b9\u6cd5\u3002</li> </ul>"},{"location":"zh/Content/model/diffusion/#3_1","title":"3. \u9ad8\u6548\u6269\u6563\u6a21\u578b","text":""},{"location":"zh/Content/model/diffusion/#resshiftneurips-2023","title":"\u2705 ResShift\uff08NeurIPS 2023\uff09","text":"<ul> <li>\u6838\u5fc3\u601d\u60f3\uff1a\u901a\u8fc7\u6b8b\u5dee\u8f6c\u79fb\u673a\u5236\uff0c\u6784\u5efa\u9ad8\u6548\u7684\u6269\u6563\u6a21\u578b\uff0c\u663e\u8457\u51cf\u5c11\u91c7\u6837\u6b65\u9aa4\u3002</li> <li>\u521b\u65b0\u70b9\uff1a\u8bbe\u8ba1\u4e86\u7075\u6d3b\u63a7\u5236\u8f6c\u79fb\u901f\u5ea6\u548c\u566a\u58f0\u5f3a\u5ea6\u7684\u566a\u58f0\u8c03\u5ea6\u7b56\u7565\u3002</li> <li>\u6027\u80fd\u8868\u73b0\uff1a\u5728\u5408\u6210\u548c\u771f\u5b9e\u4e16\u754c\u6570\u636e\u96c6\u4e0a\uff0c\u4ec5\u7528 20 \u4e2a\u91c7\u6837\u6b65\u9aa4\u5373\u53ef\u83b7\u5f97\u4f18\u5f02\u6216\u81f3\u5c11\u53ef\u6bd4\u7684\u6027\u80fd\u3002</li> </ul>"},{"location":"zh/Content/model/diffusion/#_2","title":"\u603b\u7ed3","text":"\u65b9\u6848\u7c7b\u578b \u4f18\u52bf \u4ee3\u8868\u6a21\u578b Transformer + Diffusion \u66f4\u5f3a\u7684\u5efa\u6a21\u80fd\u529b\uff0c\u5904\u7406\u590d\u6742\u7ed3\u6784\u548c\u7ec6\u8282\u4fe1\u606f DiT-SR, DiT4SR Residual Diffusion \u4e13\u6ce8\u4e8e\u9ad8\u9891\u7ec6\u8282\u6062\u590d\uff0c\u63d0\u5347\u56fe\u50cf\u8d28\u91cf ResDiff \u9ad8\u6548\u6269\u6563\u6a21\u578b \u51cf\u5c11\u91c7\u6837\u6b65\u9aa4\uff0c\u52a0\u901f\u63a8\u7406\u8fc7\u7a0b\uff0c\u9002\u7528\u4e8e\u5b9e\u65f6\u5e94\u7528 ResShift"},{"location":"zh/Content/model/diffusion/#5_1","title":"5 \u56de\u987e\u547d\u9898","text":""},{"location":"zh/Content/model/diffusion/#_3","title":"\u4e0d\u540c\u6280\u672f\u8def\u7ebf\u7684\u6bd4\u8f83","text":"\u6a21\u578b\u7c7b\u578b \u4ee3\u8868\u6a21\u578b PSNR \u63d0\u5347\uff08\u5bf9\u6bd4 CNN \u57fa\u51c6\uff09 \u7279\u70b9 \u4f20\u7edf CNN/UNet SRCNN, EDSR, UNetSR baseline \u9ad8\u901f\u3001\u6613\u8bad\u7ec3 Residual GAN ESRGAN, Real-ESRGAN +0.5~1.0 dB \u7ec6\u8282\u589e\u5f3a\u3001\u6709\u65f6\u4f1a\u5047\u8c61 Diffusion SR3, DDNM +1.5~2.5 dB \u7ec6\u8282\u62df\u771f\u5ea6\u9ad8\u3001\u91c7\u6837\u6162 Residual Diffusion ResDiff +2.0~3.0 dB \u9ad8\u9891\u7ec6\u8282\u4fee\u590d\u6548\u679c\u51fa\u8272 Diffusion + Transformer DiT-SR, DiT4SR +2.5~4.0 dB \u5168\u5c40\u7ed3\u6784\u5efa\u6a21\u80fd\u529b\u5f3a <p>\ud83d\udccc \u8bf4\u660e\uff1a\u4ee5\u4e0a\u63d0\u5347\u662f\u9488\u5bf9 <code>DIV2K</code>, <code>RealSR</code>, <code>BSD100</code> \u7b49 benchmark \u6570\u636e\u96c6\u4e0a\u7684\u5e73\u5747\u60c5\u51b5\uff0c\u5177\u4f53\u63d0\u5347\u7a0b\u5ea6\u4f9d\u6570\u636e\u96c6\u3001\u4efb\u52a1\u96be\u5ea6\u548c\u566a\u58f0\u60c5\u51b5\u800c\u5f02\u3002</p> <p>\u4ece\u4e0a\u9762\u53ef\u4ee5\u770b\u51fa\uff0c\u6700\u5148\u8fdb\u7684\u7684\u6a21\u578b\u76f8\u5bf9\u4e8e\u4f20\u7edfCNN\uff0c\u63d0\u5347\u4e5f\u4e0d\u5927\u3002\u56e0\u6b64\u73b0\u5728\u9700\u8981\u56de\u987e\u4e00\u4e0b\u6700\u521d\u547d\u9898\uff0c\u8fdb\u884c\u8be6\u7ec6\u8ba8\u8bba\u3002</p>"},{"location":"zh/Content/model/diffusion/#_4","title":"\u4efb\u52a1\u7279\u5f81\u5206\u6790","text":"\u7279\u5f81\u9879 \u63cf\u8ff0 \u8f93\u5165\u8f93\u51fa \u914d\u5bf9\u7684 LR-HR \u5929\u6587\u56fe\u50cf\u5bf9 \u56fe\u50cf\u7279\u6027 \u51e0\u4e4e\u65e0\u590d\u6742\u573a\u666f\u53d8\u5316\u3001\u4f46\u7ec6\u8282\u7ed3\u6784\u6781\u5176\u4e30\u5bcc \u53ef\u63a5\u53d7\u63a8\u7406\u901f\u5ea6 \u63a5\u53d7\u5ea6\u9ad8\uff08\u5982\u679c\u7528\u4e8e\u7814\u7a76\uff0c\u4e0d\u4e00\u5b9a\u8ffd\u6c42\u5b9e\u65f6\uff09 \u5bf9\u201c\u4f2a\u5f71/\u5047\u8c61\u201d\u5bb9\u5fcd\u5ea6 \u6781\u4f4e\uff08\u79d1\u5b66\u56fe\u50cf\u4e0d\u80fd\u201c\u7f16\u9020\u201d\u7ec6\u8282\uff09 \u5bf9\u8fb9\u7f18/\u7eb9\u7406\u654f\u611f\u5ea6 \u6781\u9ad8\uff08\u7ec6\u8282\u5f80\u5f80\u51b3\u5b9a\u8bca\u65ad\u6216\u5206\u6790\u7ed3\u679c\uff09 <p>\u2705 \u7ed3\u8bba\uff1a\u9700\u8981\u4e00\u5957\u201c\u7ed3\u6784\u4fdd\u5b88 + \u9ad8\u9891\u589e\u5f3a + \u65e0\u5047\u8c61\u201d\u7684\u65b9\u6848</p>"},{"location":"zh/Content/model/diffusion/#residual-diffusion-for-microscopy-super-resolution","title":"\u6280\u672f\u8def\u7ebf\uff1aResidual Diffusion for Microscopy Super-Resolution","text":"<p>\u6211\u4eec\u9009\u7528 ResDiff\uff08\u6b8b\u5dee\u6269\u6563\uff09\u67b6\u6784\uff0c\u7ed3\u5408\u4f60\u73b0\u6709\u7684 CNN/UNet \u7f51\u7edc\uff0c\u7ec4\u6210\u5982\u4e0b\u6280\u672f\u7ba1\u7ebf\uff1a</p>"},{"location":"zh/Content/model/diffusion/#step-1-unetcnn","title":"\ud83d\udd39 Step 1\uff1a\u8bad\u7ec3\u4e00\u4e2a\u4f20\u7edf UNet/CNN \u7f51\u7edc","text":"<ul> <li>\u8f93\u5165\uff1aLR \u663e\u5fae\u56fe\u50cf</li> <li>\u8f93\u51fa\uff1a\u521d\u6b65\u8fd8\u539f\u7684 HR \u56fe\u50cf\uff08\u7ed3\u6784\u5927\u81f4\u51c6\u786e\u4f46\u7ec6\u8282\u6709\u9650\uff09</li> <li>\u635f\u5931\u51fd\u6570\uff1aMSE + Perceptual Loss\uff08\u53ef\u9009 SSIM Loss\uff09</li> </ul>"},{"location":"zh/Content/model/diffusion/#step-2-residual-diffusion","title":"\ud83d\udd39 Step 2\uff1a\u6784\u5efa Residual Diffusion \u6a21\u5757","text":"<ul> <li>\u8f93\u5165\uff1aStep 1 \u7684\u8f93\u51fa\u56fe\u50cf\uff08\u4f5c\u4e3a conditional input\uff09</li> <li>\u76ee\u6807\u8f93\u51fa\uff1aGround truth HR \u56fe\u50cf</li> <li>\u8bad\u7ec3\u76ee\u6807\uff1a\u9884\u6d4b\u9ad8\u9891\u6b8b\u5dee\uff08\u5373\u771f\u5b9e HR \u4e0e Step 1 \u8f93\u51fa\u56fe\u50cf\u4e4b\u95f4\u7684\u5dee\uff09</li> <li>\u7f51\u7edc\u7ed3\u6784\uff1a\u4f7f\u7528 DDPM \u6216 Denoising Network + Timestep Embedding\uff08\u53ef\u4f7f\u7528\u57fa\u4e8e U-Net or Transformer \u7684 block\uff09</li> </ul>"},{"location":"zh/Content/model/diffusion/#step-3","title":"\ud83d\udd39 Step 3\uff1a\u7ec4\u5408\u63a8\u7406","text":"<pre><code>LR \u663e\u5fae\u56fe\u50cf --&gt; UNet \u9884\u6d4b\u521d\u7a3f --&gt; Residual Diffusion \u7ec6\u8282\u8865\u5168 --&gt; \u6700\u7ec8 HR\n</code></pre>"},{"location":"zh/Content/model/diffusion/#_5","title":"\u4f18\u70b9","text":"<ul> <li>\u7ed3\u6784\u5b89\u5168\u6027\u5f3a\uff1a\u521d\u7a3f\u7ed3\u6784\u7531\u4f20\u7edf\u7f51\u7edc\u7ed9\u51fa\uff0c\u907f\u514d\u201c\u865a\u6784\u7ed3\u6784\u201d</li> <li>\u7ec6\u8282\u771f\u5b9e\u7ec6\u817b\uff1a\u9ad8\u9891\u90e8\u5206\u7531 diffusion \u7cbe\u7ec6\u8865\u5145</li> <li>\u63a7\u5236\u80fd\u529b\u5f3a\uff1a\u53ef\u4ee5\u5bf9 diffusion \u8fdb\u884c\u7ed3\u6784\u611f\u77e5\u6216 frequency guidance\uff0c\u907f\u514d hallucination</li> </ul> \u4efb\u52a1 GitHub \u9879\u76ee \u7b80\u4ecb Diffusion \u8d85\u5206 <code>tangke03/DDNM</code> Residual Diffusion \u652f\u6301\u56fe\u50cf\u590d\u539f Microscopy SR <code>csbDeep</code> \u7528\u4e8e\u663e\u5fae\u56fe\u50cf\u7684 DL-SR \u5e73\u53f0\uff0c\u7ed3\u6784\u7c7b\u4f3c UNet Stable Diffusion SR <code>CompVis/latent-diffusion</code> \u652f\u6301\u7528\u4f4e\u7ef4 latent space \u8fdb\u884c\u8d85\u5206 <p>\u200b\u662f\u7684\uff0c\u60a8\u63d0\u5230\u7684\u201cResidual Diffusion for Microscopy Super-Resolution\u201d\u6280\u672f\u8def\u7ebf\u5728\u5f53\u524d\u7684\u7814\u7a76\u4e2d\u5df2\u6709\u76f8\u5173\u7684\u8bba\u6587\u548c\u9879\u76ee\u5b9e\u73b0\u3002\u4ee5\u4e0b\u662f\u4e0e\u8be5\u6280\u672f\u8def\u7ebf\u76f8\u5173\u7684\u4e3b\u8981\u8bba\u6587\u548c\u5f00\u6e90\u9879\u76ee\uff1a\ue206</p>"},{"location":"zh/Content/model/diffusion/#_6","title":"\ud83d\udcc4 \u76f8\u5173\u8bba\u6587","text":"<ol> <li> <p>ResDiff: Combining CNN and Diffusion Model for Image Super-Resolution \u4f5c\u8005\uff1aShuyao Shang \u7b49 \u6458\u8981 \u8be5\u8bba\u6587\u63d0\u51fa\u4e86\u4e00\u79cd\u540d\u4e3a ResDiff \u7684\u65b0\u578b\u6269\u6563\u6982\u7387\u6a21\u578b\uff0c\u7ed3\u5408\u4e86\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff08CNN\uff09\u548c\u6269\u6563\u6a21\u578b\u7684\u4f18\u52bf\uff0c\u7528\u4e8e\u5355\u5e45\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u4efb\u52a1\u3002\u4f5c\u8005\u8ba4\u4e3a\uff0c\u76f4\u63a5\u4f7f\u7528\u6269\u6563\u6a21\u578b\u8fdb\u884c\u56fe\u50cf\u8d85\u5206\u8fa8\u7387\u53ef\u80fd\u6548\u7387\u4f4e\u4e0b\uff0c\u56e0\u4e3a\u7b80\u5355\u7684 CNN \u5c31\u80fd\u6062\u590d\u4e3b\u8981\u7684\u4f4e\u9891\u5185\u5bb9\u3002\u56e0\u6b64\uff0cResDiff \u5229\u7528 CNN \u5148\u6062\u590d\u4f4e\u9891\u4fe1\u606f\uff0c\u518d\u901a\u8fc7\u6269\u6563\u6a21\u578b\u9884\u6d4b\u9ad8\u9891\u6b8b\u5dee\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u6548\u7387\u548c\u6027\u80fd</p> </li> <li> <p>HF-ResDiff: High-Frequency-Guided Residual Diffusion for Multi-dose PET Reconstruction   \u8be5\u8bba\u6587\u63d0\u51fa\u4e86\u4e00\u79cd\u9ad8\u9891\u5f15\u5bfc\u7684\u6b8b\u5dee\u6269\u6563\u6a21\u578b\uff08HF-ResDiff\uff09\uff0c\u7528\u4e8e\u591a\u5242\u91cf\u6b63\u7535\u5b50\u53d1\u5c04\u65ad\u5c42\u626b\u63cf\uff08PET\uff09\u56fe\u50cf\u7684\u91cd\u5efa\ue203\u8be5\u65b9\u6cd5\u901a\u8fc7\u9ad8\u9891\u4fe1\u606f\u5f15\u5bfc\u6269\u6563\u8fc7\u7a0b\uff0c\u6709\u6548\u5730\u4fdd\u7559\u4e86\u56fe\u50cf\u7684\u9ad8\u9891\u7ec6\u8282\uff0c\u63d0\u5347\u4e86\u56fe\u50cf\u8d28\u91cf</p> </li> </ol> <p>\u603b\u7ed3</p> \u9879\u76ee \u63a8\u8350\u9009\u62e9 \u7406\u7531 \u7f51\u7edc\u7ed3\u6784 UNet + Residual Diffusion \u7ed3\u6784\u5b89\u5168 + \u9ad8\u9891\u589e\u5f3a + \u6291\u5236\u4f2a\u5f71 \u635f\u5931\u51fd\u6570 MSE + SSIM + LPIPS \u5e73\u8861\u50cf\u7d20\u7ea7\u51c6\u786e\u5ea6\u4e0e\u611f\u77e5\u8d28\u91cf \u8bad\u7ec3\u7b56\u7565 \u5206\u9636\u6bb5\u8bad\u7ec3\uff08\u5148 CNN \u540e\u6269\u6563\uff09 \u52a0\u5feb\u6536\u655b\uff0c\u4fbf\u4e8e\u8c03\u8bd5 \u63a8\u7406\u90e8\u7f72 \u5408\u5e76\u6a21\u578b/\u6a21\u5757\u7ea7\u7ec4\u5408 \u6839\u636e\u786c\u4ef6\u90e8\u7f72\u6761\u4ef6\u51b3\u5b9a"},{"location":"zh/changelog/#lhai-user-mannual","title":"LHAI User Mannual","text":""},{"location":"zh/changelog/#2.1.0","title":"2.1.0 2025\u5e746\u670828\u65e5","text":"<p>\u91cd\u5927\u66f4\u65b0\uff1b\u66f4\u65b0\u4e3b\u9898\uff1a\u5b8c\u5584\u4efb\u52a1\u6574\u5408\u540e LHAI User Manual \u5185\u5bb9</p>"},{"location":"zh/changelog/#2.0.0","title":"2.0.0 2025\u5e746\u670828\u65e5","text":"<p>\u91cd\u5927\u66f4\u65b0\uff1b\u66f4\u65b0\u4e3b\u9898\uff1a\u6574\u5408LHAI\u4ee3\u7801\u4e0e\u89c4\u8303\u5316\u4efb\u52a1</p>"},{"location":"zh/changelog/#1.0.3","title":"1.0.3 January 14, 2025","text":"<ul> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/SERVER</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/TRAIN</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/PREDICT</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/EVALUATION</code></li> </ul>"},{"location":"zh/changelog/#1.0.2","title":"1.0.2 January 13, 2025","text":"<ul> <li>LHAI \u8fdb\u5c55\uff1a\u8bc4\u4f30\u677f\u5757\uff0c\u80fd\u591f\u5b8c\u6574\u5168\u9762\u4e14\u76f4\u89c2\u5bf9\u6a21\u578b\u8fdb\u884c\u8bc4\u4f30 <code>LHAI/evaluation.py</code></li> </ul>"},{"location":"zh/changelog/#1.0.1","title":"1.0.1 January 13, 2025","text":"<ul> <li>LHAI \u8fdb\u5c55\uff1a\u65b0\u589e\u4e86\u4ee5\u4e0b\u6a21\u578b\uff0c\u53ef\u4ee5\u5e94\u7528\u5e76\u4e14\u8fdb\u884c\u8bad\u7ec3\uff1a <code>LHAI/LHAI/model</code></li> <li>\u57fa\u4e8eCNN(\u6b8b\u5dee+\u9012\u5f52)\uff1aCARN,DRCN,DRRN,EDSR,ESPCN,FSRCNN,IDN,LapSRN,SRCNN,VDSR</li> <li>\u57fa\u4e8eGAN\uff1aCGAN,SRGAN</li> <li>\u57fa\u4e8eDenseNet\uff1aSRDenseNet</li> <li>\u57fa\u4e8eDiffusion\uff1aSR3(Super-Resolution via Repeated Refinement)</li> </ul>"},{"location":"zh/changelog/#1.0.0","title":"1.0.0 2025\u5e741\u670812\u65e5","text":"<p>\u91cd\u5927\u66f4\u65b0\uff1b\u66f4\u65b0\u4e3b\u9898\uff1a\u5b8c\u5584LHAI\u4ee3\u7801\u529f\u80fd</p> <ul> <li>LHAI \u8fdb\u5c55\uff1a\u5b8c\u6210\u4ee3\u7801\u5de5\u4e1a\u5316</li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/index</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/DATA</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/DOCS</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/LHAI</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/SAVES</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/TRAIN</code></li> <li>\u6dfb\u52a0\u529f\u80fd\uff1a\u4e2d\u82f1\u8bed\u8a00\u8f6c\u6362</li> <li>\u6dfb\u52a0\u529f\u80fd\uff1alog\u7248\u672c\u66f4\u65b0 <code>Others Section/ChangeLog</code></li> <li>\u4fee\u6539bug\uff1a\u9996\u9875\u8bed\u8a00\u8f6c\u6362\u5185\u5bb9\u4e22\u5931\u95ee\u9898</li> </ul>"},{"location":"zh/changelog/#0.2.3","title":"0.2.3 2025\u5e741\u67081\u65e5","text":"<ul> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Data Section/simulation</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Others Section/HowtoBeCollaborator</code></li> </ul>"},{"location":"zh/changelog/#0.2.2","title":"0.2.2 2024\u5e7412\u670820\u65e5","text":"<ul> <li>\u6dfb\u52a0\u5185\u5bb9\uff1a\u9996\u9875 <code>home page</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Data Section/index</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Network Section/index</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Eval Section/index</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Code Section/index</code></li> <li>\u6dfb\u52a0\u5185\u5bb9 <code>Others Section</code></li> </ul>"},{"location":"zh/changelog/#0.2.1","title":"0.2.1 2024\u5e7412\u670820\u65e5","text":"<ul> <li>\u5b8c\u6210\u9996\u9875\u6392\u7248</li> <li>\u786e\u5b9a\u6574\u4f53\u98ce\u683c</li> </ul>"},{"location":"zh/changelog/#0.2.0","title":"0.2.0 2024\u5e7412\u670810\u65e5","text":"<ul> <li>\u786e\u5b9amkdocs\u6a21\u677f</li> <li>\u786e\u5b9a\u7528\u6237\u624b\u518c\u540d\u5b57\uff1aLHAI User Manual</li> <li>\u786e\u5b9a\u624b\u518c\u5185\u5bb9\u7ed3\u6784</li> </ul>"},{"location":"zh/changelog/#0.1.0","title":"0.1.0 2024\u5e7412\u67081\u65e5","text":"<ul> <li>\u7b2c\u4e00\u6b21\u53d1\u5e03</li> </ul>"},{"location":"zh/changelog/#0.0.0","title":"0.0.0 2024\u5e7411\u670824\u65e5","text":"<ul> <li>LHAI \u8fdb\u5c55\uff1a\u4f7f\u7528FERMI\u6a21\u62df\u6570\u636e\u5b8c\u6210\u521d\u6b65\u8d85\u5206\u8fa8</li> <li>\u53c2\u52a0\u4f1a\u8bae\uff1aThe Second LHAASO Collaboration Conference in 2024</li> <li>\u786e\u5b9a\u5236\u4f5c\u7528\u6237\u624b\u518c</li> </ul>"}]}